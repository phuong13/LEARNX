const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/YouTube-DHua0c4o.js","assets/index-C1vOwBGC.js","assets/index-DcQjKKe6.css","assets/SoundCloud-BGS5oDUK.js","assets/Vimeo-xFo7eQTG.js","assets/Mux-aL9AEJXm.js","assets/Facebook-CYpxw1Zv.js","assets/Streamable-1qJ3e6Sw.js","assets/Wistia-CFoJYF5B.js","assets/Twitch-CNX3IqjO.js","assets/DailyMotion-CEUDeOrE.js","assets/Mixcloud-BkcpkMLQ.js","assets/Vidyard-D7nQn21x.js","assets/Kaltura-Bo6WTnTx.js","assets/FilePlayer-DrIzToVu.js","assets/Preview-CzMiVN2y.js"])))=>i.map(i=>d[i]);
import{c as li,r as v,d as Al,j as f,e as rn,P as ee,I as ci,f as To,R as jl,g as _o,h as ko,i as Oo,C as Tl,_ as we,k as _l,p as kl,l as ui,m as or,n as Ol,L as kr,o as Vn,q as di,u as Wn,s as Pt,t as fi,v as hi,w as pi,x as mi,y as se,z as Me,A as C,E as on,F as te,G as Il,H as He,J as he,K as It,M as Kr,N as El,O as Mn,Q as Nl,S as gi,U as $l,V as Ft,W as Rl,T as ar,X as Dl,Y as Ll,b as Qr,Z as zl,$ as Ul,a0 as Fl}from"./index-C1vOwBGC.js";import{Q as Hl,S as Vl}from"./QuizzHeader-D_ffSY2A.js";import{T as Wl,D as yi,d as xi,A as Bl,m as Xl,u as Yl,a as ql,X as bi,P as Gl,b as Kl}from"./Close-DGyuS9GN.js";import{C as an}from"./CircularProgress-CB3Fh7cP.js";import{C as Ql}from"./chevron-right-BF9FJnvj.js";import{P as Zl,C as vi}from"./course.service-UJ7hAZRe.js";import{d as Jl}from"./Add-CPTu30PZ.js";import{M as ec}from"./MenuItem-Ci-Najrl.js";import{u as tc,g as nc,a as wi,t as kn,b as Si}from"./react-spring_web.modern-DJY3nXqG.js";import{d as rc,a as oc}from"./Quiz-AEMee4NZ.js";import{A as ac,D as ic}from"./AdapterDateFns-DaZxm94N.js";import{u as sc,p as Io,S as lc,a as cc,b as uc,T as dc}from"./useForum-CQDzY37R.js";import{R as fc}from"./index-fVpE7Ccm.js";import{R as hc}from"./ripple-button-CkEzMgzA.js";/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pc=li("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mc=li("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);function Ci(e){const{children:t,defer:n=!1,fallback:r=null}=e,[o,a]=v.useState(!1);return Al(()=>{n||a(!0)},[n]),v.useEffect(()=>{n&&a(!0)},[n]),f.jsx(v.Fragment,{children:o?t:r})}const gc=rn(f.jsx("path",{d:"m12 8-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14z"}),"ExpandLess"),yc=rn(f.jsx("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore"),xc=rn(f.jsx("path",{d:"M3 18h18v-2H3zm0-5h18v-2H3zm0-7v2h18V6z"}),"Menu"),bc=rn([f.jsx("path",{d:"M4 6H2v14c0 1.1.9 2 2 2h14v-2H4z"},"0"),f.jsx("path",{d:"M20 2H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2m-5.99 13c-.59 0-1.05-.47-1.05-1.05 0-.59.47-1.04 1.05-1.04.59 0 1.04.45 1.04 1.04-.01.58-.45 1.05-1.04 1.05m2.5-6.17c-.63.93-1.23 1.21-1.56 1.81-.13.24-.18.4-.18 1.18h-1.52c0-.41-.06-1.08.26-1.65.41-.73 1.18-1.16 1.63-1.8.48-.68.21-1.94-1.14-1.94-.88 0-1.32.67-1.5 1.23l-1.37-.57C11.51 5.96 12.52 5 13.99 5c1.23 0 2.08.56 2.51 1.26.37.61.58 1.73.01 2.57"},"1")],"Quiz"),Pi=rn(f.jsx("path",{d:"M5 13.18v4L12 21l7-3.82v-4L12 17zM12 3 1 9l11 6 9-4.91V17h2V9z"}),"School"),vc={lecture:f.jsx(xi,{color:"primary"}),quiz:f.jsx(bc,{sx:{color:"#45DFB1"}}),assignment:f.jsx(Bl,{sx:{color:"#EC4899"}}),resource:f.jsx(yi,{sx:{color:"#F3533A"}})},wc={lecture:"Bài giảng",quiz:"Quiz",assignment:"Bài tập",resource:"Tài liệu"},Mi=({modules:e,expandedSections:t,toggleSection:n,scrollToModule:r,expandAll:o,collapseAll:a})=>{const[i,s]=v.useState(!1),c=()=>s(!i);return f.jsxs("div",{className:`p-2 transition-all duration-300 ease-in-out ${i?"w-56":"w-12"} relative`,children:[f.jsx(ci,{onClick:c,className:"absolute top-0 right-2",size:"small",children:f.jsx(xc,{})}),i&&f.jsx("div",{className:" rounded-lg",children:f.jsx(To,{component:"nav",dense:!0,children:e.map(l=>f.jsxs(jl.Fragment,{children:[f.jsxs(_o,{button:!0,onClick:()=>{n(l),r(l.id)},sx:{py:.7,fontWeight:600,bgcolor:"#e0e7ef",borderRadius:"6px",mb:.5},children:[f.jsx(ko,{sx:{minWidth:32},children:f.jsx(Pi,{fontSize:"small"})}),f.jsx(Oo,{primary:l.title,className:"truncate overflow-hidden whitespace-nowrap",primaryTypographyProps:{fontWeight:600,fontSize:15,className:"truncate",noWrap:!0}}),t.includes(l.id)?f.jsx(gc,{}):f.jsx(yc,{})]}),f.jsx(Tl,{in:t.includes(l.id),timeout:"auto",unmountOnExit:!0,children:f.jsx(To,{component:"div",disablePadding:!0,children:l.contents&&l.contents.map(u=>f.jsxs(_o,{button:!0,className:"pl-8",sx:{py:.5,bgcolor:"#f6f8fa",borderLeft:"3px solid #cbd5e1",mb:.5,width:"100%",overflow:"hidden"},children:[f.jsx(ko,{sx:{minWidth:28},children:f.jsx(Wl,{title:wc[u.type]||"",children:vc[u.type]||f.jsx(yi,{fontSize:"small"})})}),f.jsx(Oo,{primary:u.title,className:"truncate overflow-hidden whitespace-nowrap",primaryTypographyProps:{fontSize:13,color:"#334155",className:"truncate",noWrap:!0}})]},u.id))})})]},l.id))})})]})};Mi.propTypes={modules:ee.array.isRequired,expandedSections:ee.array.isRequired,toggleSection:ee.func.isRequired,scrollToModule:ee.func.isRequired,expandAll:ee.func.isRequired,collapseAll:ee.func.isRequired};var Sc=function(t,n,r){var o=document.head||document.getElementsByTagName("head")[0],a=document.createElement("script");typeof n=="function"&&(r=n,n={}),n=n||{},r=r||function(){},a.type=n.type||"text/javascript",a.charset=n.charset||"utf8",a.async="async"in n?!!n.async:!0,a.src=t,n.attrs&&Cc(a,n.attrs),n.text&&(a.text=""+n.text);var i="onload"in a?Eo:Pc;i(a,r),a.onload||Eo(a,r),o.appendChild(a)};function Cc(e,t){for(var n in t)e.setAttribute(n,t[n])}function Eo(e,t){e.onload=function(){this.onerror=this.onload=null,t(null,e)},e.onerror=function(){this.onerror=this.onload=null,t(new Error("Failed to load "+this.src),e)}}function Pc(e,t){e.onreadystatechange=function(){this.readyState!="complete"&&this.readyState!="loaded"||(this.onreadystatechange=null,t(null,e))}}var Mc=function(t){return Ac(t)&&!jc(t)};function Ac(e){return!!e&&typeof e=="object"}function jc(e){var t=Object.prototype.toString.call(e);return t==="[object RegExp]"||t==="[object Date]"||kc(e)}var Tc=typeof Symbol=="function"&&Symbol.for,_c=Tc?Symbol.for("react.element"):60103;function kc(e){return e.$$typeof===_c}function Oc(e){return Array.isArray(e)?[]:{}}function Ht(e,t){return t.clone!==!1&&t.isMergeableObject(e)?Mt(Oc(e),e,t):e}function Ic(e,t,n){return e.concat(t).map(function(r){return Ht(r,n)})}function Ec(e,t){if(!t.customMerge)return Mt;var n=t.customMerge(e);return typeof n=="function"?n:Mt}function Nc(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter(function(t){return Object.propertyIsEnumerable.call(e,t)}):[]}function No(e){return Object.keys(e).concat(Nc(e))}function Ai(e,t){try{return t in e}catch{return!1}}function $c(e,t){return Ai(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))}function Rc(e,t,n){var r={};return n.isMergeableObject(e)&&No(e).forEach(function(o){r[o]=Ht(e[o],n)}),No(t).forEach(function(o){$c(e,o)||(Ai(e,o)&&n.isMergeableObject(t[o])?r[o]=Ec(o,n)(e[o],t[o],n):r[o]=Ht(t[o],n))}),r}function Mt(e,t,n){n=n||{},n.arrayMerge=n.arrayMerge||Ic,n.isMergeableObject=n.isMergeableObject||Mc,n.cloneUnlessOtherwiseSpecified=Ht;var r=Array.isArray(t),o=Array.isArray(e),a=r===o;return a?r?n.arrayMerge(e,t,n):Rc(e,t,n):Ht(t,n)}Mt.all=function(t,n){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce(function(r,o){return Mt(r,o,n)},{})};var Dc=Mt,ji=Dc,Lc=Object.create,Bn=Object.defineProperty,zc=Object.getOwnPropertyDescriptor,Uc=Object.getOwnPropertyNames,Fc=Object.getPrototypeOf,Hc=Object.prototype.hasOwnProperty,Vc=(e,t)=>{for(var n in t)Bn(e,n,{get:t[n],enumerable:!0})},Ti=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Uc(t))!Hc.call(e,o)&&o!==n&&Bn(e,o,{get:()=>t[o],enumerable:!(r=zc(t,o))||r.enumerable});return e},Zr=(e,t,n)=>(n=e!=null?Lc(Fc(e)):{},Ti(!e||!e.__esModule?Bn(n,"default",{value:e,enumerable:!0}):n,e)),Wc=e=>Ti(Bn({},"__esModule",{value:!0}),e),_i={};Vc(_i,{callPlayer:()=>iu,getConfig:()=>ou,getSDK:()=>ru,isBlobUrl:()=>lu,isMediaStream:()=>su,lazy:()=>qc,omit:()=>au,parseEndTime:()=>eu,parseStartTime:()=>Jc,queryString:()=>nu,randomString:()=>tu,supportsWebKitPresentationMode:()=>cu});var Xn=Wc(_i),Bc=Zr(v),Xc=Zr(Sc),Yc=Zr(ji);const qc=e=>Bc.default.lazy(async()=>{const t=await e();return typeof t.default=="function"?t:t.default}),Gc=/[?&#](?:start|t)=([0-9hms]+)/,Kc=/[?&#]end=([0-9hms]+)/,Or=/(\d+)(h|m|s)/g,Qc=/^\d+$/;function ki(e,t){if(e instanceof Array)return;const n=e.match(t);if(n){const r=n[1];if(r.match(Or))return Zc(r);if(Qc.test(r))return parseInt(r)}}function Zc(e){let t=0,n=Or.exec(e);for(;n!==null;){const[,r,o]=n;o==="h"&&(t+=parseInt(r,10)*60*60),o==="m"&&(t+=parseInt(r,10)*60),o==="s"&&(t+=parseInt(r,10)),n=Or.exec(e)}return t}function Jc(e){return ki(e,Gc)}function eu(e){return ki(e,Kc)}function tu(){return Math.random().toString(36).substr(2,5)}function nu(e){return Object.keys(e).map(t=>`${t}=${e[t]}`).join("&")}function ir(e){return window[e]?window[e]:window.exports&&window.exports[e]?window.exports[e]:window.module&&window.module.exports&&window.module.exports[e]?window.module.exports[e]:null}const pt={},ru=function(t,n,r=null,o=()=>!0,a=Xc.default){const i=ir(n);return i&&o(i)?Promise.resolve(i):new Promise((s,c)=>{if(pt[t]){pt[t].push({resolve:s,reject:c});return}pt[t]=[{resolve:s,reject:c}];const l=u=>{pt[t].forEach(d=>d.resolve(u))};if(r){const u=window[r];window[r]=function(){u&&u(),l(ir(n))}}a(t,u=>{u?(pt[t].forEach(d=>d.reject(u)),pt[t]=null):r||l(ir(n))})})};function ou(e,t){return(0,Yc.default)(t.config,e.config)}function au(e,...t){const n=[].concat(...t),r={},o=Object.keys(e);for(const a of o)n.indexOf(a)===-1&&(r[a]=e[a]);return r}function iu(e,...t){if(!this.player||!this.player[e]){let n=`ReactPlayer: ${this.constructor.displayName} player could not call %c${e}%c – `;return this.player?this.player[e]||(n+="The method was not available"):n+="The player was not available",console.warn(n,"font-weight: bold",""),null}return this.player[e](...t)}function su(e){return typeof window<"u"&&typeof window.MediaStream<"u"&&e instanceof window.MediaStream}function lu(e){return/^blob:/.test(e)}function cu(e=document.createElement("video")){const t=/iPhone|iPod/.test(navigator.userAgent)===!1;return e.webkitSupportsPresentationMode&&typeof e.webkitSetPresentationMode=="function"&&t}var Jr=Object.defineProperty,uu=Object.getOwnPropertyDescriptor,du=Object.getOwnPropertyNames,fu=Object.prototype.hasOwnProperty,hu=(e,t)=>{for(var n in t)Jr(e,n,{get:t[n],enumerable:!0})},pu=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of du(t))!fu.call(e,o)&&o!==n&&Jr(e,o,{get:()=>t[o],enumerable:!(r=uu(t,o))||r.enumerable});return e},mu=e=>pu(Jr({},"__esModule",{value:!0}),e),Oi={};hu(Oi,{AUDIO_EXTENSIONS:()=>eo,DASH_EXTENSIONS:()=>Bi,FLV_EXTENSIONS:()=>Xi,HLS_EXTENSIONS:()=>no,MATCH_URL_DAILYMOTION:()=>Fi,MATCH_URL_FACEBOOK:()=>$i,MATCH_URL_FACEBOOK_WATCH:()=>Ri,MATCH_URL_KALTURA:()=>Wi,MATCH_URL_MIXCLOUD:()=>Hi,MATCH_URL_MUX:()=>Ni,MATCH_URL_SOUNDCLOUD:()=>Ii,MATCH_URL_STREAMABLE:()=>Di,MATCH_URL_TWITCH_CHANNEL:()=>Ui,MATCH_URL_TWITCH_VIDEO:()=>zi,MATCH_URL_VIDYARD:()=>Vi,MATCH_URL_VIMEO:()=>Ei,MATCH_URL_WISTIA:()=>Li,MATCH_URL_YOUTUBE:()=>Ir,VIDEO_EXTENSIONS:()=>to,canPlay:()=>yu});var gu=mu(Oi),$o=Xn;const Ir=/(?:youtu\.be\/|youtube(?:-nocookie|education)?\.com\/(?:embed\/|v\/|watch\/|watch\?v=|watch\?.+&v=|shorts\/|live\/))((\w|-){11})|youtube\.com\/playlist\?list=|youtube\.com\/user\//,Ii=/(?:soundcloud\.com|snd\.sc)\/[^.]+$/,Ei=/vimeo\.com\/(?!progressive_redirect).+/,Ni=/stream\.mux\.com\/(?!\w+\.m3u8)(\w+)/,$i=/^https?:\/\/(www\.)?facebook\.com.*\/(video(s)?|watch|story)(\.php?|\/).+$/,Ri=/^https?:\/\/fb\.watch\/.+$/,Di=/streamable\.com\/([a-z0-9]+)$/,Li=/(?:wistia\.(?:com|net)|wi\.st)\/(?:medias|embed)\/(?:iframe\/)?([^?]+)/,zi=/(?:www\.|go\.)?twitch\.tv\/videos\/(\d+)($|\?)/,Ui=/(?:www\.|go\.)?twitch\.tv\/([a-zA-Z0-9_]+)($|\?)/,Fi=/^(?:(?:https?):)?(?:\/\/)?(?:www\.)?(?:(?:dailymotion\.com(?:\/embed)?\/video)|dai\.ly)\/([a-zA-Z0-9]+)(?:_[\w_-]+)?(?:[\w.#_-]+)?/,Hi=/mixcloud\.com\/([^/]+\/[^/]+)/,Vi=/vidyard.com\/(?:watch\/)?([a-zA-Z0-9-_]+)/,Wi=/^https?:\/\/[a-zA-Z]+\.kaltura.(com|org)\/p\/([0-9]+)\/sp\/([0-9]+)00\/embedIframeJs\/uiconf_id\/([0-9]+)\/partner_id\/([0-9]+)(.*)entry_id.([a-zA-Z0-9-_].*)$/,eo=/\.(m4a|m4b|mp4a|mpga|mp2|mp2a|mp3|m2a|m3a|wav|weba|aac|oga|spx)($|\?)/i,to=/\.(mp4|og[gv]|webm|mov|m4v)(#t=[,\d+]+)?($|\?)/i,no=/\.(m3u8)($|\?)/i,Bi=/\.(mpd)($|\?)/i,Xi=/\.(flv)($|\?)/i,Er=e=>{if(e instanceof Array){for(const t of e)if(typeof t=="string"&&Er(t)||Er(t.src))return!0;return!1}return(0,$o.isMediaStream)(e)||(0,$o.isBlobUrl)(e)?!0:eo.test(e)||to.test(e)||no.test(e)||Bi.test(e)||Xi.test(e)},yu={youtube:e=>e instanceof Array?e.every(t=>Ir.test(t)):Ir.test(e),soundcloud:e=>Ii.test(e)&&!eo.test(e),vimeo:e=>Ei.test(e)&&!to.test(e)&&!no.test(e),mux:e=>Ni.test(e),facebook:e=>$i.test(e)||Ri.test(e),streamable:e=>Di.test(e),wistia:e=>Li.test(e),twitch:e=>zi.test(e)||Ui.test(e),dailymotion:e=>Fi.test(e),mixcloud:e=>Hi.test(e),vidyard:e=>Vi.test(e),kaltura:e=>Wi.test(e),file:Er};var ro=Object.defineProperty,xu=Object.getOwnPropertyDescriptor,bu=Object.getOwnPropertyNames,vu=Object.prototype.hasOwnProperty,wu=(e,t)=>{for(var n in t)ro(e,n,{get:t[n],enumerable:!0})},Su=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of bu(t))!vu.call(e,o)&&o!==n&&ro(e,o,{get:()=>t[o],enumerable:!(r=xu(t,o))||r.enumerable});return e},Cu=e=>Su(ro({},"__esModule",{value:!0}),e),Yi={};wu(Yi,{default:()=>Mu});var Pu=Cu(Yi),ve=Xn,ye=gu,Mu=[{key:"youtube",name:"YouTube",canPlay:ye.canPlay.youtube,lazyPlayer:(0,ve.lazy)(()=>we(()=>import("./YouTube-DHua0c4o.js").then(e=>e.Y),__vite__mapDeps([0,1,2])))},{key:"soundcloud",name:"SoundCloud",canPlay:ye.canPlay.soundcloud,lazyPlayer:(0,ve.lazy)(()=>we(()=>import("./SoundCloud-BGS5oDUK.js").then(e=>e.S),__vite__mapDeps([3,1,2])))},{key:"vimeo",name:"Vimeo",canPlay:ye.canPlay.vimeo,lazyPlayer:(0,ve.lazy)(()=>we(()=>import("./Vimeo-xFo7eQTG.js").then(e=>e.V),__vite__mapDeps([4,1,2])))},{key:"mux",name:"Mux",canPlay:ye.canPlay.mux,lazyPlayer:(0,ve.lazy)(()=>we(()=>import("./Mux-aL9AEJXm.js").then(e=>e.M),__vite__mapDeps([5,1,2])))},{key:"facebook",name:"Facebook",canPlay:ye.canPlay.facebook,lazyPlayer:(0,ve.lazy)(()=>we(()=>import("./Facebook-CYpxw1Zv.js").then(e=>e.F),__vite__mapDeps([6,1,2])))},{key:"streamable",name:"Streamable",canPlay:ye.canPlay.streamable,lazyPlayer:(0,ve.lazy)(()=>we(()=>import("./Streamable-1qJ3e6Sw.js").then(e=>e.S),__vite__mapDeps([7,1,2])))},{key:"wistia",name:"Wistia",canPlay:ye.canPlay.wistia,lazyPlayer:(0,ve.lazy)(()=>we(()=>import("./Wistia-CFoJYF5B.js").then(e=>e.W),__vite__mapDeps([8,1,2])))},{key:"twitch",name:"Twitch",canPlay:ye.canPlay.twitch,lazyPlayer:(0,ve.lazy)(()=>we(()=>import("./Twitch-CNX3IqjO.js").then(e=>e.T),__vite__mapDeps([9,1,2])))},{key:"dailymotion",name:"DailyMotion",canPlay:ye.canPlay.dailymotion,lazyPlayer:(0,ve.lazy)(()=>we(()=>import("./DailyMotion-CEUDeOrE.js").then(e=>e.D),__vite__mapDeps([10,1,2])))},{key:"mixcloud",name:"Mixcloud",canPlay:ye.canPlay.mixcloud,lazyPlayer:(0,ve.lazy)(()=>we(()=>import("./Mixcloud-BkcpkMLQ.js").then(e=>e.M),__vite__mapDeps([11,1,2])))},{key:"vidyard",name:"Vidyard",canPlay:ye.canPlay.vidyard,lazyPlayer:(0,ve.lazy)(()=>we(()=>import("./Vidyard-D7nQn21x.js").then(e=>e.V),__vite__mapDeps([12,1,2])))},{key:"kaltura",name:"Kaltura",canPlay:ye.canPlay.kaltura,lazyPlayer:(0,ve.lazy)(()=>we(()=>import("./Kaltura-Bo6WTnTx.js").then(e=>e.K),__vite__mapDeps([13,1,2])))},{key:"file",name:"FilePlayer",canPlay:ye.canPlay.file,canEnablePIP:e=>ye.canPlay.file(e)&&(document.pictureInPictureEnabled||(0,ve.supportsWebKitPresentationMode)())&&!ye.AUDIO_EXTENSIONS.test(e),lazyPlayer:(0,ve.lazy)(()=>we(()=>import("./FilePlayer-DrIzToVu.js").then(e=>e.F),__vite__mapDeps([14,1,2])))}];const Au=_l(Xl);var ju=Object.create,Yn=Object.defineProperty,Tu=Object.getOwnPropertyDescriptor,_u=Object.getOwnPropertyNames,ku=Object.getPrototypeOf,Ou=Object.prototype.hasOwnProperty,Iu=(e,t)=>{for(var n in t)Yn(e,n,{get:t[n],enumerable:!0})},qi=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of _u(t))!Ou.call(e,o)&&o!==n&&Yn(e,o,{get:()=>t[o],enumerable:!(r=Tu(t,o))||r.enumerable});return e},Eu=(e,t,n)=>(n=e!=null?ju(ku(e)):{},qi(!e||!e.__esModule?Yn(n,"default",{value:e,enumerable:!0}):n,e)),Nu=e=>qi(Yn({},"__esModule",{value:!0}),e),Gi={};Iu(Gi,{defaultProps:()=>Du,propTypes:()=>Ru});var Ki=Nu(Gi),$u=Eu(kl);const{string:de,bool:xe,number:mt,array:sr,oneOfType:Nt,shape:Pe,object:me,func:ne,node:Ro}=$u.default,Ru={url:Nt([de,sr,me]),playing:xe,loop:xe,controls:xe,volume:mt,muted:xe,playbackRate:mt,width:Nt([de,mt]),height:Nt([de,mt]),style:me,progressInterval:mt,playsinline:xe,pip:xe,stopOnUnmount:xe,light:Nt([xe,de,me]),playIcon:Ro,previewTabIndex:mt,previewAriaLabel:de,fallback:Ro,oEmbedUrl:de,wrapper:Nt([de,ne,Pe({render:ne.isRequired})]),config:Pe({soundcloud:Pe({options:me}),youtube:Pe({playerVars:me,embedOptions:me,onUnstarted:ne}),facebook:Pe({appId:de,version:de,playerId:de,attributes:me}),dailymotion:Pe({params:me}),vimeo:Pe({playerOptions:me,title:de}),mux:Pe({attributes:me,version:de}),file:Pe({attributes:me,tracks:sr,forceVideo:xe,forceAudio:xe,forceHLS:xe,forceSafariHLS:xe,forceDisableHls:xe,forceDASH:xe,forceFLV:xe,hlsOptions:me,hlsVersion:de,dashVersion:de,flvVersion:de}),wistia:Pe({options:me,playerId:de,customControls:sr}),mixcloud:Pe({options:me}),twitch:Pe({options:me,playerId:de}),vidyard:Pe({options:me})}),onReady:ne,onStart:ne,onPlay:ne,onPause:ne,onBuffer:ne,onBufferEnd:ne,onEnded:ne,onError:ne,onDuration:ne,onSeek:ne,onPlaybackRateChange:ne,onPlaybackQualityChange:ne,onProgress:ne,onClickPreview:ne,onEnablePIP:ne,onDisablePIP:ne},fe=()=>{},Du={playing:!1,loop:!1,controls:!1,volume:null,muted:!1,playbackRate:1,width:"640px",height:"360px",style:{},progressInterval:1e3,playsinline:!1,pip:!1,stopOnUnmount:!0,light:!1,fallback:null,wrapper:"div",previewTabIndex:0,previewAriaLabel:"",oEmbedUrl:"https://noembed.com/embed?url={url}",config:{soundcloud:{options:{visual:!0,buying:!1,liking:!1,download:!1,sharing:!1,show_comments:!1,show_playcount:!1}},youtube:{playerVars:{playsinline:1,showinfo:0,rel:0,iv_load_policy:3,modestbranding:1},embedOptions:{},onUnstarted:fe},facebook:{appId:"1309697205772819",version:"v3.3",playerId:null,attributes:{}},dailymotion:{params:{api:1,"endscreen-enable":!1}},vimeo:{playerOptions:{autopause:!1,byline:!1,portrait:!1,title:!1},title:null},mux:{attributes:{},version:"2"},file:{attributes:{},tracks:[],forceVideo:!1,forceAudio:!1,forceHLS:!1,forceDASH:!1,forceFLV:!1,hlsOptions:{},hlsVersion:"1.1.4",dashVersion:"3.1.3",flvVersion:"1.5.0",forceDisableHls:!1},wistia:{options:{},playerId:null,customControls:null},mixcloud:{options:{hide_cover:1}},twitch:{options:{},playerId:null},vidyard:{options:{}}},onReady:fe,onStart:fe,onPlay:fe,onPause:fe,onBuffer:fe,onBufferEnd:fe,onEnded:fe,onError:fe,onDuration:fe,onSeek:fe,onPlaybackRateChange:fe,onPlaybackQualityChange:fe,onProgress:fe,onClickPreview:fe,onEnablePIP:fe,onDisablePIP:fe};var Lu=Object.create,sn=Object.defineProperty,zu=Object.getOwnPropertyDescriptor,Uu=Object.getOwnPropertyNames,Fu=Object.getPrototypeOf,Hu=Object.prototype.hasOwnProperty,Vu=(e,t,n)=>t in e?sn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Wu=(e,t)=>{for(var n in t)sn(e,n,{get:t[n],enumerable:!0})},Qi=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Uu(t))!Hu.call(e,o)&&o!==n&&sn(e,o,{get:()=>t[o],enumerable:!(r=zu(t,o))||r.enumerable});return e},Zi=(e,t,n)=>(n=e!=null?Lu(Fu(e)):{},Qi(!e||!e.__esModule?sn(n,"default",{value:e,enumerable:!0}):n,e)),Bu=e=>Qi(sn({},"__esModule",{value:!0}),e),J=(e,t,n)=>(Vu(e,typeof t!="symbol"?t+"":t,n),n),Ji={};Wu(Ji,{default:()=>qn});var Xu=Bu(Ji),Do=Zi(v),Yu=Zi(ui),es=Ki,qu=Xn;const Gu=5e3;class qn extends Do.Component{constructor(){super(...arguments),J(this,"mounted",!1),J(this,"isReady",!1),J(this,"isPlaying",!1),J(this,"isLoading",!0),J(this,"loadOnReady",null),J(this,"startOnPlay",!0),J(this,"seekOnPlay",null),J(this,"onDurationCalled",!1),J(this,"handlePlayerMount",t=>{if(this.player){this.progress();return}this.player=t,this.player.load(this.props.url),this.progress()}),J(this,"getInternalPlayer",t=>this.player?this.player[t]:null),J(this,"progress",()=>{if(this.props.url&&this.player&&this.isReady){const t=this.getCurrentTime()||0,n=this.getSecondsLoaded(),r=this.getDuration();if(r){const o={playedSeconds:t,played:t/r};n!==null&&(o.loadedSeconds=n,o.loaded=n/r),(o.playedSeconds!==this.prevPlayed||o.loadedSeconds!==this.prevLoaded)&&this.props.onProgress(o),this.prevPlayed=o.playedSeconds,this.prevLoaded=o.loadedSeconds}}this.progressTimeout=setTimeout(this.progress,this.props.progressFrequency||this.props.progressInterval)}),J(this,"handleReady",()=>{if(!this.mounted)return;this.isReady=!0,this.isLoading=!1;const{onReady:t,playing:n,volume:r,muted:o}=this.props;t(),!o&&r!==null&&this.player.setVolume(r),this.loadOnReady?(this.player.load(this.loadOnReady,!0),this.loadOnReady=null):n&&this.player.play(),this.handleDurationCheck()}),J(this,"handlePlay",()=>{this.isPlaying=!0,this.isLoading=!1;const{onStart:t,onPlay:n,playbackRate:r}=this.props;this.startOnPlay&&(this.player.setPlaybackRate&&r!==1&&this.player.setPlaybackRate(r),t(),this.startOnPlay=!1),n(),this.seekOnPlay&&(this.seekTo(this.seekOnPlay),this.seekOnPlay=null),this.handleDurationCheck()}),J(this,"handlePause",t=>{this.isPlaying=!1,this.isLoading||this.props.onPause(t)}),J(this,"handleEnded",()=>{const{activePlayer:t,loop:n,onEnded:r}=this.props;t.loopOnEnded&&n&&this.seekTo(0),n||(this.isPlaying=!1,r())}),J(this,"handleError",(...t)=>{this.isLoading=!1,this.props.onError(...t)}),J(this,"handleDurationCheck",()=>{clearTimeout(this.durationCheckTimeout);const t=this.getDuration();t?this.onDurationCalled||(this.props.onDuration(t),this.onDurationCalled=!0):this.durationCheckTimeout=setTimeout(this.handleDurationCheck,100)}),J(this,"handleLoaded",()=>{this.isLoading=!1})}componentDidMount(){this.mounted=!0}componentWillUnmount(){clearTimeout(this.progressTimeout),clearTimeout(this.durationCheckTimeout),this.isReady&&this.props.stopOnUnmount&&(this.player.stop(),this.player.disablePIP&&this.player.disablePIP()),this.mounted=!1}componentDidUpdate(t){if(!this.player)return;const{url:n,playing:r,volume:o,muted:a,playbackRate:i,pip:s,loop:c,activePlayer:l,disableDeferredLoading:u}=this.props;if(!(0,Yu.default)(t.url,n)){if(this.isLoading&&!l.forceLoad&&!u&&!(0,qu.isMediaStream)(n)){console.warn(`ReactPlayer: the attempt to load ${n} is being deferred until the player has loaded`),this.loadOnReady=n;return}this.isLoading=!0,this.startOnPlay=!0,this.onDurationCalled=!1,this.player.load(n,this.isReady)}!t.playing&&r&&!this.isPlaying&&this.player.play(),t.playing&&!r&&this.isPlaying&&this.player.pause(),!t.pip&&s&&this.player.enablePIP&&this.player.enablePIP(),t.pip&&!s&&this.player.disablePIP&&this.player.disablePIP(),t.volume!==o&&o!==null&&this.player.setVolume(o),t.muted!==a&&(a?this.player.mute():(this.player.unmute(),o!==null&&setTimeout(()=>this.player.setVolume(o)))),t.playbackRate!==i&&this.player.setPlaybackRate&&this.player.setPlaybackRate(i),t.loop!==c&&this.player.setLoop&&this.player.setLoop(c)}getDuration(){return this.isReady?this.player.getDuration():null}getCurrentTime(){return this.isReady?this.player.getCurrentTime():null}getSecondsLoaded(){return this.isReady?this.player.getSecondsLoaded():null}seekTo(t,n,r){if(!this.isReady){t!==0&&(this.seekOnPlay=t,setTimeout(()=>{this.seekOnPlay=null},Gu));return}if(n?n==="fraction":t>0&&t<1){const a=this.player.getDuration();if(!a){console.warn("ReactPlayer: could not seek using fraction – duration not yet available");return}this.player.seekTo(a*t,r);return}this.player.seekTo(t,r)}render(){const t=this.props.activePlayer;return t?Do.default.createElement(t,{...this.props,onMount:this.handlePlayerMount,onReady:this.handleReady,onPlay:this.handlePlay,onPause:this.handlePause,onEnded:this.handleEnded,onLoaded:this.handleLoaded,onError:this.handleError}):null}}J(qn,"displayName","Player");J(qn,"propTypes",es.propTypes);J(qn,"defaultProps",es.defaultProps);var Ku=Object.create,ln=Object.defineProperty,Qu=Object.getOwnPropertyDescriptor,Zu=Object.getOwnPropertyNames,Ju=Object.getPrototypeOf,ed=Object.prototype.hasOwnProperty,td=(e,t,n)=>t in e?ln(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,nd=(e,t)=>{for(var n in t)ln(e,n,{get:t[n],enumerable:!0})},ts=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Zu(t))!ed.call(e,o)&&o!==n&&ln(e,o,{get:()=>t[o],enumerable:!(r=Qu(t,o))||r.enumerable});return e},cn=(e,t,n)=>(n=e!=null?Ku(Ju(e)):{},ts(!e||!e.__esModule?ln(n,"default",{value:e,enumerable:!0}):n,e)),rd=e=>ts(ln({},"__esModule",{value:!0}),e),Z=(e,t,n)=>(td(e,typeof t!="symbol"?t+"":t,n),n),ns={};nd(ns,{createReactPlayer:()=>fd});var od=rd(ns),bt=cn(v),ad=cn(ji),lr=cn(Au),Lo=cn(ui),zt=Ki,rs=Xn,id=cn(Xu);const sd=(0,rs.lazy)(()=>we(()=>import("./Preview-CzMiVN2y.js").then(e=>e.P),__vite__mapDeps([15,1,2]))),ld=typeof window<"u"&&window.document&&typeof document<"u",cd=typeof or<"u"&&or.window&&or.window.document,ud=Object.keys(zt.propTypes),dd=ld||cd?bt.Suspense:()=>null,$t=[],fd=(e,t)=>{var n;return n=class extends bt.Component{constructor(){super(...arguments),Z(this,"state",{showPreview:!!this.props.light}),Z(this,"references",{wrapper:r=>{this.wrapper=r},player:r=>{this.player=r}}),Z(this,"handleClickPreview",r=>{this.setState({showPreview:!1}),this.props.onClickPreview(r)}),Z(this,"showPreview",()=>{this.setState({showPreview:!0})}),Z(this,"getDuration",()=>this.player?this.player.getDuration():null),Z(this,"getCurrentTime",()=>this.player?this.player.getCurrentTime():null),Z(this,"getSecondsLoaded",()=>this.player?this.player.getSecondsLoaded():null),Z(this,"getInternalPlayer",(r="player")=>this.player?this.player.getInternalPlayer(r):null),Z(this,"seekTo",(r,o,a)=>{if(!this.player)return null;this.player.seekTo(r,o,a)}),Z(this,"handleReady",()=>{this.props.onReady(this)}),Z(this,"getActivePlayer",(0,lr.default)(r=>{for(const o of[...$t,...e])if(o.canPlay(r))return o;return t||null})),Z(this,"getConfig",(0,lr.default)((r,o)=>{const{config:a}=this.props;return ad.default.all([zt.defaultProps.config,zt.defaultProps.config[o]||{},a,a[o]||{}])})),Z(this,"getAttributes",(0,lr.default)(r=>(0,rs.omit)(this.props,ud))),Z(this,"renderActivePlayer",r=>{if(!r)return null;const o=this.getActivePlayer(r);if(!o)return null;const a=this.getConfig(r,o.key);return bt.default.createElement(id.default,{...this.props,key:o.key,ref:this.references.player,config:a,activePlayer:o.lazyPlayer||o,onReady:this.handleReady})})}shouldComponentUpdate(r,o){return!(0,Lo.default)(this.props,r)||!(0,Lo.default)(this.state,o)}componentDidUpdate(r){const{light:o}=this.props;!r.light&&o&&this.setState({showPreview:!0}),r.light&&!o&&this.setState({showPreview:!1})}renderPreview(r){if(!r)return null;const{light:o,playIcon:a,previewTabIndex:i,oEmbedUrl:s,previewAriaLabel:c}=this.props;return bt.default.createElement(sd,{url:r,light:o,playIcon:a,previewTabIndex:i,previewAriaLabel:c,oEmbedUrl:s,onClick:this.handleClickPreview})}render(){const{url:r,style:o,width:a,height:i,fallback:s,wrapper:c}=this.props,{showPreview:l}=this.state,u=this.getAttributes(r),d=typeof c=="string"?this.references.wrapper:void 0;return bt.default.createElement(c,{ref:d,style:{...o,width:a,height:i},...u},bt.default.createElement(dd,{fallback:s},l?this.renderPreview(r):this.renderActivePlayer(r)))}},Z(n,"displayName","ReactPlayer"),Z(n,"propTypes",zt.propTypes),Z(n,"defaultProps",zt.defaultProps),Z(n,"addCustomPlayer",r=>{$t.push(r)}),Z(n,"removeCustomPlayers",()=>{$t.length=0}),Z(n,"canPlay",r=>{for(const o of[...$t,...e])if(o.canPlay(r))return!0;return!1}),Z(n,"canEnablePIP",r=>{for(const o of[...$t,...e])if(o.canEnablePIP&&o.canEnablePIP(r))return!0;return!1}),n};var hd=Object.create,Gn=Object.defineProperty,pd=Object.getOwnPropertyDescriptor,md=Object.getOwnPropertyNames,gd=Object.getPrototypeOf,yd=Object.prototype.hasOwnProperty,xd=(e,t)=>{for(var n in t)Gn(e,n,{get:t[n],enumerable:!0})},os=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of md(t))!yd.call(e,o)&&o!==n&&Gn(e,o,{get:()=>t[o],enumerable:!(r=pd(t,o))||r.enumerable});return e},bd=(e,t,n)=>(n=e!=null?hd(gd(e)):{},os(!e||!e.__esModule?Gn(n,"default",{value:e,enumerable:!0}):n,e)),vd=e=>os(Gn({},"__esModule",{value:!0}),e),as={};xd(as,{default:()=>Pd});var wd=vd(as),Nr=bd(Pu),Sd=od;const Cd=Nr.default[Nr.default.length-1];var Pd=(0,Sd.createReactPlayer)(Nr.default,Cd);const Md=Ol(wd);function is({name:e,content:t}){const n=/(?:https?:\/\/)?(?:www\.)?(?:youtube\.com\/(?:[^\/\n\s]+\/\S+\/|(?:v|e(?:mbed)?)\/|\S*?[?&]v=)|youtu\.be\/)([a-zA-Z0-9_-]{11})/,r=t==null?void 0:t.match(n),o=r?t.replace(r[0],""):t;return f.jsxs("div",{className:"flex items-start gap-4 py-1 select-text border-t border-slate-300",children:[f.jsx(xi,{className:"text-blue-500",fontSize:"medium"}),f.jsx("div",{className:"flex-1",children:f.jsxs("div",{className:"text-sm text-slate-600 flex flex-col justify-center",children:[f.jsx("div",{className:"flex gap-1",children:f.jsx("span",{className:"text-sm font-bold",children:e})}),f.jsx("div",{className:"mt-1 text-black",children:f.jsx("div",{dangerouslySetInnerHTML:{__html:o}})}),r&&f.jsx("div",{className:"",children:f.jsx(Md,{url:r[0],controls:!0})})]})})]})}is.propTypes={name:ee.string.isRequired,content:ee.string.isRequired};function Ad({type:e,title:t,link:n}){const r={word:"fa-file-word text-blue-500",ppt:"fa-file-powerpoint text-[#CD4F2E]",excel:"fa-file-excel text-[#25764a]",pdf:"fa-file-pdf text-[#d32f2f]"};return f.jsxs("div",{className:"flex items-start gap-4 py-1  border-t border-slate-300",children:[f.jsx("div",{className:"",children:f.jsx("i",{className:`fa-solid ${r[e]} text-2xl`})}),f.jsx("h3",{className:"text-blue-600 text-sm hover:text-blue-700 hover:underline cursor-pointer mb-1 pt-2",children:f.jsx(kr,{to:n,target:"_blank",rel:"noopener noreferrer",children:t})})]})}const jd=()=>{const[e,t]=v.useState([]),[n,r]=v.useState([]),[o,a]=v.useState(!1),i=v.useRef({}),{courseId:s}=Vn(),c=di(),{authUser:l}=Wn(),{getModules:u}=Yl();v.useEffect(()=>{(async()=>{a(!0);const{success:y,modules:x}=await u(s);y&&(r(x),t(x.map(S=>S.id))),a(!1)})()},[s]);const d=g=>{e.includes(g.id)?t(y=>y.filter(x=>x!==g.id)):t(y=>[...y,g.id])},h=g=>{const y=i.current[g];if(y){const S=document.body.getBoundingClientRect().top,P=y.getBoundingClientRect().top-S+-120;window.scrollTo({top:P,behavior:"smooth"})}},p=()=>t(n.map(g=>g.id)),m=()=>t([]);return f.jsxs("div",{className:"flex",children:[f.jsx(Mi,{modules:n,expandedSections:e,toggleSection:d,scrollToModule:h,expandAll:p,collapseAll:m}),f.jsxs("div",{className:"flex-1 px-4 flex flex-col gap-2",children:[(l==null?void 0:l.role)==="TEACHER"&&f.jsx("div",{className:"flex justify-end",children:f.jsxs("button",{onClick:()=>c(`/course-detail/${s}/edit`),className:`py-2 px-3 text-sm  bg-gradient-to-br from-[#5BCEC9] to-[#14919B]\r
    shadow-md hover:shadow-lg text-white rounded-lg hover:bg-secondary transition-colors flex items-center`,children:[f.jsx(ql,{fontSize:"small"}),"Chỉnh sửa"]})}),o?f.jsx(Pt,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:200},children:f.jsx(an,{})}):f.jsx(f.Fragment,{children:f.jsx("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:n.map(g=>f.jsxs("div",{ref:y=>i.current[g.id]=y,className:"border-b last:border-b-0",children:[f.jsxs("button",{onClick:()=>d(g),className:"w-full px-4 py-3 bg-blue-50 flex justify-between items-center hover:bg-opacity-80 focus:outline-none",children:[f.jsxs("span",{className:"flex  gap-2 text-base font-bold text-slate-700 items-center",children:[f.jsx(Pi,{})," ",g.title]}),e.includes(g.id)?f.jsx(fi,{className:"h-5 w-5 text-slate-400"}):f.jsx(Ql,{className:"h-5 w-5 text-slate-400"})]}),e.includes(g.id)&&f.jsx("div",{className:"px-4 ml-6 pb-2",children:g.contents.map(y=>{var x;switch(y.type){case"lecture":return f.jsx(is,{name:y.title,content:y.content},y.id);case"resource":{const S=(x=y.urlDocument)==null?void 0:x.split(".").pop(),w=["pdf","ppt","xlsx"].includes(S)?S:"word";return f.jsx(Ad,{type:w,title:y.title,link:y.urlDocument},y.id)}case"assignment":return f.jsx(Vl,{courseID:s,id:y.id,title:y.title,startDate:y.startDate,endDate:y.endDate},y.id);case"quiz":return f.jsx(Hl,{courseID:s,id:y.id,title:y.title,startDate:y.startDate,endDate:y.endDate},y.id);default:return null}})})]},g.id))})})]})]})},ss=({totalStudents:e,students:t,paginationInfo:n,onPageChange:r,onDeleteStudents:o})=>{const[a,i]=v.useState(t),[s,c]=v.useState(n.pageNumber),[l,u]=v.useState([]),[d,h]=v.useState(!1),[p,m]=v.useState([]),{authUser:g}=Wn(),y=(g==null?void 0:g.role)==="TEACHER";v.useEffect(()=>{i(t),u([])},[t]);const x=b=>{b>=0&&b<n.totalPages&&(c(b),r(b))},S=b=>{u(_=>_.includes(b)?_.filter(T=>T!==b):[..._,b])},w=b=>{m([b]),h(!0)},P=()=>{l.length>0&&(m(l),h(!0))},M=()=>{o(p),i(b=>b.filter(_=>!p.includes(_.email))),u([]),m([]),h(!1)};return f.jsxs("div",{className:"w-full mx-auto bg-white shadow-md rounded-lg h-full",children:[f.jsx("div",{className:" text-xs px-6 py-2 bg-slate-50 border-b border-slate-200 text-slate-700 font-semibold flex items-center sm:text-sm md:text-base",children:f.jsxs("p",{children:["Tổng số: ",e," sinh viên"]})}),f.jsx("ul",{className:"divide-y divide-slate-200",children:a.map(b=>f.jsxs("li",{className:"px-6 py-2 flex items-center",children:[y&&f.jsx("div",{className:"flex items-center mr-4",children:f.jsx("input",{type:"checkbox",checked:l.includes(b.email),onChange:()=>S(b.email),className:"w-4 h-4 text-blue-600 border-slate-300 rounded focus:ring-blue-500"})}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx("p",{className:"text-sm font-medium text-slate-900 truncate",children:b.fullName}),f.jsx("p",{className:"text-sm text-slate-500 truncate",children:b.email})]}),y&&f.jsx("button",{onClick:()=>w(b.email),className:"p-1 bg-red-100 text-red-600 rounded-full hover:bg-red-200 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-opacity-50",children:f.jsx(bi,{className:"w-4 h-4"})})]},b.id))}),y&&l.length>0&&f.jsx("div",{className:"px-6 bg-slate-50 border-t border-slate-200 flex items-center justify-between",children:f.jsx("button",{onClick:P,className:`px-2 py-1 my-1 bg-rose-500 text-xs sm:text-sm md:text-base text-white rounded-lg \r
             hover:bg-red-400 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-opacity-50\r
             transition duration-200`,children:"Xóa đã chọn"})}),(a.length>=n.pageSize||n.pageNumber>0)&&f.jsx("div",{className:"px-6 py-1 bg-slate-50 border-t border-slate-200 flex items-center justify-center",children:f.jsx(Zl,{count:n.totalPages,page:s+1,onChange:(b,_)=>x(_-1),color:"primaryDark"})}),d&&f.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:f.jsxs("div",{className:"bg-white p-6 rounded-lg w-[90%] max-w-md shadow-xl",children:[f.jsx("h2",{className:"text-xl font-bold mb-4",children:"Xác nhận xóa"}),f.jsxs("p",{className:"mb-4",children:["Bạn có chắc chắn muốn xóa"," ",p.length>1?"những học sinh này":"học sinh này","?",f.jsx("br",{}),"(Không thể hoàn tác)"]}),f.jsxs("div",{className:"flex justify-end space-x-2",children:[f.jsx("button",{className:"py-2 px-4 bg-primaryDark text-white rounded-lg hover:bg-secondary transition-colors",onClick:()=>h(!1),children:"Không"}),f.jsx("button",{className:"py-2 px-4 bg-primaryDark text-white rounded-lg hover:bg-secondary transition-colors",onClick:M,children:"Có"})]})]})})]})};ss.propTypes={totalStudents:ee.number.isRequired,students:ee.arrayOf(ee.shape({id:ee.any.isRequired,fullName:ee.string.isRequired,email:ee.string.isRequired,role:ee.string.isRequired})).isRequired,paginationInfo:ee.shape({pageNumber:ee.number.isRequired,totalPages:ee.number.isRequired}).isRequired,onPageChange:ee.func.isRequired,onDeleteStudents:ee.func.isRequired};const Td={createDocument:function(t){return new DOMParser().parseFromString(t.trim(),"text/xml")}};var Ae=Uint8Array,tt=Uint16Array,ls=Uint32Array,cs=new Ae([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),us=new Ae([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),_d=new Ae([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),ds=function(e,t){for(var n=new tt(31),r=0;r<31;++r)n[r]=t+=1<<e[r-1];for(var o=new ls(n[30]),r=1;r<30;++r)for(var a=n[r];a<n[r+1];++a)o[a]=a-n[r]<<5|r;return[n,o]},fs=ds(cs,2),hs=fs[0],kd=fs[1];hs[28]=258,kd[258]=28;var Od=ds(us,0),Id=Od[0],$r=new tt(32768);for(var G=0;G<32768;++G){var qe=(G&43690)>>>1|(G&21845)<<1;qe=(qe&52428)>>>2|(qe&13107)<<2,qe=(qe&61680)>>>4|(qe&3855)<<4,$r[G]=((qe&65280)>>>8|(qe&255)<<8)>>>1}var Ut=function(e,t,n){for(var r=e.length,o=0,a=new tt(t);o<r;++o)e[o]&&++a[e[o]-1];var i=new tt(t);for(o=0;o<t;++o)i[o]=i[o-1]+a[o-1]<<1;var s;if(n){s=new tt(1<<t);var c=15-t;for(o=0;o<r;++o)if(e[o])for(var l=o<<4|e[o],u=t-e[o],d=i[e[o]-1]++<<u,h=d|(1<<u)-1;d<=h;++d)s[$r[d]>>>c]=l}else for(s=new tt(r),o=0;o<r;++o)e[o]&&(s[o]=$r[i[e[o]-1]++]>>>15-e[o]);return s},un=new Ae(288);for(var G=0;G<144;++G)un[G]=8;for(var G=144;G<256;++G)un[G]=9;for(var G=256;G<280;++G)un[G]=7;for(var G=280;G<288;++G)un[G]=8;var ps=new Ae(32);for(var G=0;G<32;++G)ps[G]=5;var Ed=Ut(un,9,1),Nd=Ut(ps,5,1),cr=function(e){for(var t=e[0],n=1;n<e.length;++n)e[n]>t&&(t=e[n]);return t},Oe=function(e,t,n){var r=t/8|0;return(e[r]|e[r+1]<<8)>>(t&7)&n},ur=function(e,t){var n=t/8|0;return(e[n]|e[n+1]<<8|e[n+2]<<16)>>(t&7)},$d=function(e){return(e+7)/8|0},oo=function(e,t,n){(t==null||t<0)&&(t=0),(n==null||n>e.length)&&(n=e.length);var r=new(e.BYTES_PER_ELEMENT==2?tt:e.BYTES_PER_ELEMENT==4?ls:Ae)(n-t);return r.set(e.subarray(t,n)),r},Rd=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Ie=function(e,t,n){var r=new Error(t||Rd[e]);if(r.code=e,Error.captureStackTrace&&Error.captureStackTrace(r,Ie),!n)throw r;return r},Dd=function(e,t,n){var r=e.length;if(!r||n&&n.f&&!n.l)return t||new Ae(0);var o=!t||n,a=!n||n.i;n||(n={}),t||(t=new Ae(r*3));var i=function(be){var W=t.length;if(be>W){var H=new Ae(Math.max(W*2,be));H.set(t),t=H}},s=n.f||0,c=n.p||0,l=n.b||0,u=n.l,d=n.d,h=n.m,p=n.n,m=r*8;do{if(!u){s=Oe(e,c,1);var g=Oe(e,c+1,3);if(c+=3,g)if(g==1)u=Ed,d=Nd,h=9,p=5;else if(g==2){var w=Oe(e,c,31)+257,P=Oe(e,c+10,15)+4,M=w+Oe(e,c+5,31)+1;c+=14;for(var b=new Ae(M),_=new Ae(19),T=0;T<P;++T)_[_d[T]]=Oe(e,c+T*3,7);c+=P*3;for(var $=cr(_),O=(1<<$)-1,A=Ut(_,$,1),T=0;T<M;){var N=A[Oe(e,c,O)];c+=N&15;var y=N>>>4;if(y<16)b[T++]=y;else{var j=0,I=0;for(y==16?(I=3+Oe(e,c,3),c+=2,j=b[T-1]):y==17?(I=3+Oe(e,c,7),c+=3):y==18&&(I=11+Oe(e,c,127),c+=7);I--;)b[T++]=j}}var D=b.subarray(0,w),R=b.subarray(w);h=cr(D),p=cr(R),u=Ut(D,h,1),d=Ut(R,p,1)}else Ie(1);else{var y=$d(c)+4,x=e[y-4]|e[y-3]<<8,S=y+x;if(S>r){a&&Ie(0);break}o&&i(l+x),t.set(e.subarray(y,S),l),n.b=l+=x,n.p=c=S*8,n.f=s;continue}if(c>m){a&&Ie(0);break}}o&&i(l+131072);for(var U=(1<<h)-1,F=(1<<p)-1,V=c;;V=c){var j=u[ur(e,c)&U],Y=j>>>4;if(c+=j&15,c>m){a&&Ie(0);break}if(j||Ie(2),Y<256)t[l++]=Y;else if(Y==256){V=c,u=null;break}else{var ae=Y-254;if(Y>264){var T=Y-257,K=cs[T];ae=Oe(e,c,(1<<K)-1)+hs[T],c+=K}var pe=d[ur(e,c)&F],ce=pe>>>4;pe||Ie(3),c+=pe&15;var R=Id[ce];if(ce>3){var K=us[ce];R+=ur(e,c)&(1<<K)-1,c+=K}if(c>m){a&&Ie(0);break}o&&i(l+131072);for(var Q=l+ae;l<Q;l+=4)t[l]=t[l-R],t[l+1]=t[l+1-R],t[l+2]=t[l+2-R],t[l+3]=t[l+3-R];l=Q}}n.l=u,n.p=V,n.b=l,n.f=s,u&&(s=1,n.m=h,n.d=d,n.n=p)}while(!s);return l==t.length?t:oo(t,0,l)},Ld=new Ae(0),De=function(e,t){return e[t]|e[t+1]<<8},Ee=function(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0},dr=function(e,t){return Ee(e,t)+Ee(e,t+4)*4294967296};function zd(e,t){return Dd(e,t)}var Rr=typeof TextDecoder<"u"&&new TextDecoder,Ud=0;try{Rr.decode(Ld,{stream:!0}),Ud=1}catch{}var Fd=function(e){for(var t="",n=0;;){var r=e[n++],o=(r>127)+(r>223)+(r>239);if(n+o>e.length)return[t,oo(e,n-1)];o?o==3?(r=((r&15)<<18|(e[n++]&63)<<12|(e[n++]&63)<<6|e[n++]&63)-65536,t+=String.fromCharCode(55296|r>>10,56320|r&1023)):o&1?t+=String.fromCharCode((r&31)<<6|e[n++]&63):t+=String.fromCharCode((r&15)<<12|(e[n++]&63)<<6|e[n++]&63):t+=String.fromCharCode(r)}};function ms(e,t){if(t){for(var n="",r=0;r<e.length;r+=16384)n+=String.fromCharCode.apply(null,e.subarray(r,r+16384));return n}else{if(Rr)return Rr.decode(e);var o=Fd(e),a=o[0],i=o[1];return i.length&&Ie(8),a}}var Hd=function(e,t){return t+30+De(e,t+26)+De(e,t+28)},Vd=function(e,t,n){var r=De(e,t+28),o=ms(e.subarray(t+46,t+46+r),!(De(e,t+8)&2048)),a=t+46+r,i=Ee(e,t+20),s=n&&i==4294967295?Wd(e,a):[i,Ee(e,t+24),Ee(e,t+42)],c=s[0],l=s[1],u=s[2];return[De(e,t+10),c,l,o,a+De(e,t+30)+De(e,t+32),u]},Wd=function(e,t){for(;De(e,t)!=1;t+=4+De(e,t+2));return[dr(e,t+12),dr(e,t+4),dr(e,t+20)]};function Bd(e,t){for(var n={},r=e.length-22;Ee(e,r)!=101010256;--r)(!r||e.length-r>65558)&&Ie(13);var o=De(e,r+8);if(!o)return{};var a=Ee(e,r+16),i=a==4294967295||o==65535;if(i){var s=Ee(e,r-12);i=Ee(e,s)==101075792,i&&(o=Ee(e,s+32),a=Ee(e,s+48))}for(var c=0;c<o;++c){var l=Vd(e,a,i),u=l[0],d=l[1],h=l[2],p=l[3],m=l[4],g=l[5],y=Hd(e,g);a=m,u?u==8?n[p]=zd(e.subarray(y,y+d),new Ae(h)):Ie(14,"unknown compression type "+u):n[p]=oo(e,y,y+d)}return n}function Xd(e){return e instanceof File||e instanceof Blob?e.arrayBuffer().then(fr):fr(e)}function fr(e){var t=new Uint8Array(e),n=Bd(t);return Promise.resolve(Yd(n))}function Yd(e){for(var t=[],n=0,r=Object.keys(e);n<r.length;n++){var o=r[n];t[o]=ms(e[o])}return t}function ze(e,t){for(var n=0;n<e.childNodes.length;){var r=e.childNodes[n];if(r.nodeType===1&&it(r)===t)return r;n++}}function dn(e,t){for(var n=[],r=0;r<e.childNodes.length;){var o=e.childNodes[r];o.nodeType===1&&it(o)===t&&n.push(o),r++}return n}function On(e,t,n){for(var r=0;r<e.childNodes.length;){var o=e.childNodes[r];t?o.nodeType===1&&it(o)===t&&n(o,r):n(o,r),r++}}function qd(e,t,n){var r=[];return On(e,t,function(o,a){r.push(n(o,a))}),r}var Gd=/.+\:/;function it(e){return e.tagName.replace(Gd,"")}function gs(e){if(e.nodeType!==1)return e.textContent;for(var t="<"+it(e),n=0;n<e.attributes.length;)t+=" "+e.attributes[n].name+'="'+e.attributes[n].value+'"',n++;t+=">";for(var r=0;r<e.childNodes.length;)t+=gs(e.childNodes[r]),r++;return t+="</"+it(e)+">",t}function Kd(e){var t=e.documentElement,n=ze(t,"sheetData"),r=[];return On(n,"row",function(o){On(o,"c",function(a){r.push(a)})}),r}function Qd(e,t){return ze(t,"v")}function Zd(e,t){if(t.firstChild&&it(t.firstChild)==="is"&&t.firstChild.firstChild&&it(t.firstChild.firstChild)==="t")return t.firstChild.firstChild.textContent}function Jd(e){var t=e.documentElement,n=ze(t,"dimension");if(n)return n.getAttribute("ref")}function ef(e){var t=e.documentElement,n=ze(t,"cellStyleXfs");return n?dn(n,"xf"):[]}function tf(e){var t=e.documentElement,n=ze(t,"cellXfs");return n?dn(n,"xf"):[]}function nf(e){var t=e.documentElement,n=ze(t,"numFmts");return n?dn(n,"numFmt"):[]}function rf(e){var t=e.documentElement;return qd(t,"si",function(n){var r=ze(n,"t");if(r)return r.textContent;var o="";return On(n,"r",function(a){o+=ze(a,"t").textContent}),o})}function of(e){var t=e.documentElement;return ze(t,"workbookPr")}function af(e){var t=e.documentElement;return dn(t,"Relationship")}function sf(e){var t=e.documentElement,n=ze(t,"sheets");return dn(n,"sheet")}function lf(e,t){var n=t.createDocument(e),r={},o=of(n);o&&o.getAttribute("date1904")==="1"&&(r.epoch1904=!0),r.sheets=[];var a=function(s){s.getAttribute("name")&&r.sheets.push({id:s.getAttribute("sheetId"),name:s.getAttribute("name"),relationId:s.getAttribute("r:id")})};return sf(n).forEach(a),r}function cf(e,t){var n=t.createDocument(e),r={sheets:{},sharedStrings:void 0,styles:void 0},o=function(i){var s=i.getAttribute("Target"),c=i.getAttribute("Type");switch(c){case"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles":r.styles=hr(s);break;case"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings":r.sharedStrings=hr(s);break;case"http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet":r.sheets[i.getAttribute("Id")]=hr(s);break}};return af(n).forEach(o),r}function hr(e){return e[0]==="/"?e.slice(1):"xl/"+e}function Vt(e){"@babel/helpers - typeof";return Vt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vt(e)}function zo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function Uo(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zo(Object(n),!0).forEach(function(r){uf(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zo(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function uf(e,t,n){return t=df(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function df(e){var t=ff(e,"string");return Vt(t)==="symbol"?t:String(t)}function ff(e,t){if(Vt(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Vt(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hf(e,t){if(!e)return{};var n=t.createDocument(e),r=ef(n).map(pr),o=nf(n).map(pf).reduce(function(i,s){return i[s.id]=s,i},[]),a=function(s){return s.hasAttribute("xfId")?Uo(Uo({},r[s.xfId]),pr(s,o)):pr(s,o)};return tf(n).map(a)}function pf(e){return{id:e.getAttribute("numFmtId"),template:e.getAttribute("formatCode")}}function pr(e,t){var n={};if(e.hasAttribute("numFmtId")){var r=e.getAttribute("numFmtId");t[r]?n.numberFormat=t[r]:n.numberFormat={id:r}}return n}function mf(e,t){return e?rf(t.createDocument(e)):[]}function ys(e,t){t&&t.epoch1904&&(e+=1462);var n=70*365+19,r=60*60*1e3;return new Date(Math.round((e-n)*24*r))}function gf(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=yf(e))||t){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yf(e,t){if(e){if(typeof e=="string")return Fo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Fo(e,t)}}function Fo(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function xf(e,t,n){if(e){var r=t[e];if(!r)throw new Error("Cell style not found: ".concat(e));if(!r.numberFormat)return!1;if(bf.indexOf(Number(r.numberFormat.id))>=0||n.dateFormat&&r.numberFormat.template===n.dateFormat||n.smartDateParser!==!1&&r.numberFormat.template&&Sf(r.numberFormat.template))return!0}}var bf=[14,15,16,17,18,19,20,21,22,27,30,36,45,46,47,50,57],vf=/^\[\$-414\]/,wf=/;@$/;function Sf(e){e=e.toLowerCase(),e=e.replace(vf,""),e=e.replace(wf,"");for(var t=e.split(/\W+/),n=gf(t),r;!(r=n()).done;){var o=r.value;if(Cf.indexOf(o)<0)return!1}return!0}var Cf=["ss","mm","h","hh","am","pm","d","dd","m","mm","mmm","mmmm","yy","yyyy","e"];function Pf(e,t,n){var r=n.getInlineStringValue,o=n.getInlineStringXml,a=n.getStyleId,i=n.styles,s=n.values,c=n.properties,l=n.options;switch(t||(t="n"),t){case"str":e=mr(e,l);break;case"inlineStr":if(e=r(),e===void 0)throw new Error('Unsupported "inline string" cell value structure: '.concat(o()));e=mr(e,l);break;case"s":var u=Number(e);if(isNaN(u))throw new Error('Invalid "shared" string index: '.concat(e));if(u>=s.length)throw new Error('An out-of-bounds "shared" string index: '.concat(e));e=s[u],e=mr(e,l);break;case"b":if(e==="1")e=!0;else if(e==="0")e=!1;else throw new Error('Unsupported "boolean" cell value: '.concat(e));break;case"z":e=void 0;break;case"e":e=Mf(e);break;case"d":if(e===void 0)break;var d=new Date(e);if(isNaN(d.valueOf()))throw new Error('Unsupported "date" cell value: '.concat(e));e=d;break;case"n":if(e===void 0)break;var h=xf(a(),i,l);h?(e=Ho(e),e=ys(e,c)):e=(l.parseNumber||Ho)(e);break;default:throw new TypeError("Cell type not supported: ".concat(t))}return e===void 0&&(e=null),e}function Mf(e){switch(e){case 0:return"#NULL!";case 7:return"#DIV/0!";case 15:return"#VALUE!";case 23:return"#REF!";case 29:return"#NAME?";case 36:return"#NUM!";case 42:return"#N/A";case 43:return"#GETTING_DATA";default:return"#ERROR_".concat(e)}}function mr(e,t){return t.trim!==!1&&(e=e.trim()),e===""&&(e=void 0),e}function Ho(e){var t=Number(e);if(isNaN(t))throw new Error('Invalid "numeric" cell value: '.concat(e));return t}var Af=["","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"];function jf(e){var t=function(l,u){return l-u},n=e.map(function(c){return c.row}).sort(t),r=e.map(function(c){return c.column}).sort(t),o=n[0],a=n[n.length-1],i=r[0],s=r[r.length-1];return[{row:o,column:i},{row:a,column:s}]}function Tf(e){for(var t=0,n=0;n<e.length;)t*=26,t+=Af.indexOf(e[n]),n++;return t}function xs(e){return e=e.split(/(\d+)/),[parseInt(e[1]),Tf(e[0].trim())]}function _f(e,t,n,r,o,a,i){var s=xs(e.getAttribute("r")),c=Qd(t,e),l=c&&c.textContent,u;return e.hasAttribute("t")&&(u=e.getAttribute("t")),{row:s[0],column:s[1],value:Pf(l,u,{getInlineStringValue:function(){return Zd(t,e)},getInlineStringXml:function(){return gs(e)},getStyleId:function(){return e.getAttribute("s")},styles:o,values:r,properties:a,options:i})}}function kf(e,t,n,r,o,a){var i=Kd(e);return i.length===0?[]:i.map(function(s){return _f(s,e,t,n,r,o,a)})}function Of(e,t){return $f(e)||Nf(e,t)||Ef(e,t)||If()}function If(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ef(e,t){if(e){if(typeof e=="string")return Vo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Vo(e,t)}}function Vo(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Nf(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,o,a,i,s=[],c=!0,l=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(u){l=!0,o=u}finally{try{if(!c&&n.return!=null&&(i=n.return(),Object(i)!==i))return}finally{if(l)throw o}}return s}}function $f(e){if(Array.isArray(e))return e}function Rf(e){var t=Jd(e);if(t)return t=t.split(":").map(xs).map(function(n){var r=Of(n,2),o=r[0],a=r[1];return{row:o,column:a}}),t.length===1&&(t=[t[0],t[0]]),t}function Df(e,t,n,r,o,a){var i=t.createDocument(e),s=kf(i,t,n,r,o,a),c=Rf(i)||jf(s);return{cells:s,dimensions:c}}function Lf(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=zf(e))||t){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zf(e,t){if(e){if(typeof e=="string")return Wo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Wo(e,t)}}function Wo(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Uf(e){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.rowIndexMap,r=t.accessor,o=r===void 0?function(d){return d}:r,a=t.onlyTrimAtTheEnd,i=e.length-1;i>=0;){for(var s=!0,c=Lf(e[i]),l;!(l=c()).done;){var u=l.value;if(o(u)!==null){s=!1;break}}if(s)e.splice(i,1),n&&n.splice(i,1);else if(a)break;i--}return e}function Ff(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=Hf(e))||t){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hf(e,t){if(e){if(typeof e=="string")return Bo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Bo(e,t)}}function Bo(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Vf(e){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.accessor,r=n===void 0?function(d){return d}:n,o=t.onlyTrimAtTheEnd,a=e[0].length-1;a>=0;){for(var i=!0,s=Ff(e),c;!(c=s()).done;){var l=c.value;if(r(l[a])!==null){i=!1;break}}if(i)for(var u=0;u<e.length;)e[u].splice(a,1),u++;else if(o)break;a--}return e}function Wf(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=bs(e))||t){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bf(e,t){return qf(e)||Yf(e,t)||bs(e,t)||Xf()}function Xf(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bs(e,t){if(e){if(typeof e=="string")return Xo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Xo(e,t)}}function Xo(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Yf(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,o,a,i,s=[],c=!0,l=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(u){l=!0,o=u}finally{try{if(!c&&n.return!=null&&(i=n.return(),Object(i)!==i))return}finally{if(l)throw o}}return s}}function qf(e){if(Array.isArray(e))return e}function Gf(e,t){var n=e.dimensions,r=e.cells;if(r.length===0)return[];var o=Bf(n,2);o[0];for(var a=o[1],i=a.column,s=a.row,c=new Array(s),l=0;l<s;){c[l]=new Array(i);for(var u=0;u<i;)c[l][u]=null,u++;l++}for(var d=Wf(r),h;!(h=d()).done;){var p=h.value,m=p.row-1,g=p.column-1;g<i&&m<s&&(c[m][g]=p.value)}var y=t.rowMap;if(y)for(var x=0;x<c.length;)y[x]=x,x++;return c=Uf(Vf(c,{onlyTrimAtTheEnd:!0}),{onlyTrimAtTheEnd:!0,rowIndexMap:y}),t.transformData&&(c=t.transformData(c)),c}function Wt(e){"@babel/helpers - typeof";return Wt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wt(e)}function Kf(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=Qf(e))||t){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qf(e,t){if(e){if(typeof e=="string")return Yo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Yo(e,t)}}function Yo(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function qo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function Go(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qo(Object(n),!0).forEach(function(r){Zf(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qo(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Zf(e,t,n){return t=Jf(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Jf(e){var t=eh(e,"string");return Wt(t)==="symbol"?t:String(t)}function eh(e,t){if(Wt(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Wt(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function th(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};n.sheet||(n=Go({sheet:1},n));var r=function(h){if(!e[h])throw new Error('"'.concat(h,'" file not found inside the *.xlsx file zip archive'));return e[h]},o=cf(r("xl/_rels/workbook.xml.rels"),t),a=o.sharedStrings?mf(r(o.sharedStrings),t):[],i=o.styles?hf(r(o.styles),t):{},s=lf(r("xl/workbook.xml"),t);if(n.getSheets)return s.sheets.map(function(d){var h=d.name;return{name:h}});var c=nh(n.sheet,s.sheets);if(!c||!o.sheets[c])throw rh(n.sheet,s.sheets);var l=Df(r(o.sheets[c]),t,a,i,s,n);n=Go({rowMap:[]},n);var u=Gf(l,n);return n.properties?{data:u,properties:s}:u}function nh(e,t){if(typeof e=="number"){var n=t[e-1];return n&&n.relationId}for(var r=Kf(t),o;!(o=r()).done;){var a=o.value;if(a.name===e)return a.relationId}}function rh(e,t){var n=t&&t.map(function(r,o){return'"'.concat(r.name,'" (#').concat(o+1,")")}).join(", ");return new Error("Sheet ".concat(typeof e=="number"?"#"+e:'"'+e+'"'," not found in the *.xlsx file.").concat(t?" Available sheets: "+n+".":""))}function Dr(e){"@babel/helpers - typeof";return Dr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dr(e)}function oh(e,t,n){return Object.defineProperty(e,"prototype",{writable:!1}),e}function ah(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ih(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Bt(e,t)}function sh(e){var t=vs();return function(){var r=Xt(e),o;if(t){var a=Xt(this).constructor;o=Reflect.construct(r,arguments,a)}else o=r.apply(this,arguments);return lh(this,o)}}function lh(e,t){if(t&&(Dr(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ch(e)}function ch(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Lr(e){var t=typeof Map=="function"?new Map:void 0;return Lr=function(r){if(r===null||!uh(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(typeof t<"u"){if(t.has(r))return t.get(r);t.set(r,o)}function o(){return An(r,arguments,Xt(this).constructor)}return o.prototype=Object.create(r.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),Bt(o,r)},Lr(e)}function An(e,t,n){return vs()?An=Reflect.construct.bind():An=function(o,a,i){var s=[null];s.push.apply(s,a);var c=Function.bind.apply(o,s),l=new c;return i&&Bt(l,i.prototype),l},An.apply(null,arguments)}function vs(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function uh(e){return Function.toString.call(e).indexOf("[native code]")!==-1}function Bt(e,t){return Bt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,o){return r.__proto__=o,r},Bt(e,t)}function Xt(e){return Xt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Xt(e)}var je=function(e){ih(n,e);var t=sh(n);function n(r){var o;return ah(this,n),o=t.call(this,"invalid"),o.reason=r,o}return oh(n)}(Lr(Error));function dh(e){if(typeof e=="string"){var t=e;if(e=Number(e),String(e)!==t)throw new je("not_a_number")}if(typeof e!="number")throw new je("not_a_number");if(isNaN(e))throw new je("invalid_number");if(!isFinite(e))throw new je("out_of_bounds");return e}function fh(e){if(typeof e=="string")return e;if(typeof e=="number"){if(isNaN(e))throw new je("invalid_number");if(!isFinite(e))throw new je("out_of_bounds");return String(e)}throw new je("not_a_string")}function hh(e){if(typeof e=="boolean")return e;throw new je("not_a_boolean")}function ph(e,t){var n=t.properties;if(e instanceof Date){if(isNaN(e.valueOf()))throw new je("out_of_bounds");return e}if(typeof e=="number"){if(isNaN(e))throw new je("invalid_number");if(!isFinite(e))throw new je("out_of_bounds");var r=ys(e,n);if(isNaN(r.valueOf()))throw new je("out_of_bounds");return r}throw new je("not_a_date")}function mh(e,t){return xh(e)||yh(e,t)||ws(e,t)||gh()}function gh(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yh(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,o,a,i,s=[],c=!0,l=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(u){l=!0,o=u}finally{try{if(!c&&n.return!=null&&(i=n.return(),Object(i)!==i))return}finally{if(l)throw o}}return s}}function xh(e){if(Array.isArray(e))return e}function At(e){"@babel/helpers - typeof";return At=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},At(e)}function bh(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=ws(e))||t){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ws(e,t){if(e){if(typeof e=="string")return Ko(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ko(e,t)}}function Ko(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Qo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function Zo(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Qo(Object(n),!0).forEach(function(r){vh(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qo(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function vh(e,t,n){return t=wh(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wh(e){var t=Sh(e,"string");return At(t)==="symbol"?t:String(t)}function Sh(e,t){if(At(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(At(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Jo={schemaPropertyValueForMissingColumn:void 0,schemaPropertyValueForUndefinedCellValue:void 0,schemaPropertyValueForNullCellValue:null,schemaPropertyShouldSkipRequiredValidationForMissingColumn:function(){return!1},getEmptyObjectValue:function(){return null},getEmptyArrayValue:function(){return null},isColumnOriented:!1,arrayValueSeparator:","};function Ch(e,t,n){n?n=Zo(Zo({},Jo),n):n=Jo;var r=n,o=r.isColumnOriented,a=r.rowIndexMap;jh(t),o&&(e=Ah(e));for(var i=e[0],s=[],c=[],l=1;l<e.length;l++){var u=Ss(t,e[l],l,void 0,i,c,n);s.push(u)}if(a)for(var d=bh(c),h;!(h=d()).done;){var p=h.value;p.row=a[p.row-1]+1}return{rows:s,errors:c}}function Ss(e,t,n,r,o,a,i){for(var s={},c=!0,l=function(T){var $=T.column,O=T.value,A=T.error,N=T.reason,j={error:A,row:n+1,column:$,value:O};return N&&(j.reason=N),e[$].type&&(j.type=e[$].type),j},u=[],d=function(){var T=p[h],$=e[T],O=At($.type)==="object"&&!Array.isArray($.type),A="".concat(r||"",".").concat($.prop),N,j=o.indexOf(T),I=j<0;I||(N=t[j]);var D,R,U;if(O)D=Ss($.type,t,n,A,o,a,i);else if(I)D=i.schemaPropertyValueForMissingColumn;else if(N===void 0)D=i.schemaPropertyValueForUndefinedCellValue;else if(N===null)D=i.schemaPropertyValueForNullCellValue;else if(Array.isArray($.type)){var F=Mh(N,i.arrayValueSeparator).map(function(ae){if(!R){var K=ea(ae,$,i);return K.error&&(D=ae,R=K.error,U=K.reason),K.value}});if(!R){var V=F.every(gr);D=V?i.getEmptyArrayValue(F,{path:A}):F}}else{var Y=ea(N,$,i);R=Y.error,U=Y.reason,D=R?N:Y.value}!R&&gr(D)&&$.required&&u.push({column:T,value:D,isMissingColumn:I}),R?a.push(l({column:T,value:D,error:R,reason:U})):(c&&!gr(D)&&(c=!1),D!==void 0&&(s[$.prop]=D))},h=0,p=Object.keys(e);h<p.length;h++)d();if(c)return i.getEmptyObjectValue(s,{path:r});for(var m=0,g=u;m<g.length;m++){var y=g[m],x=y.column,S=y.value,w=y.isMissingColumn,P=w&&i.schemaPropertyShouldSkipRequiredValidationForMissingColumn(x,{object:s});if(!P){var M=e[x].required,b=typeof M=="boolean"?M:M(s);b&&a.push(l({column:x,value:S,error:"required"}))}}return s}function ea(e,t,n){if(e===null)return{value:null};var r;if(t.parse?r=vt(e,t.parse):t.type?r=Ph(e,Array.isArray(t.type)?t.type[0]:t.type,n):r={value:e},r.error)return r;if(r.value!==null){if(t.oneOf&&t.oneOf.indexOf(r.value)<0)return{error:"invalid",reason:"unknown"};if(t.validate)try{t.validate(r.value)}catch(o){return{error:o.message}}}return r}function vt(e,t){try{var n=t(e);return n===void 0?{value:null}:{value:n}}catch(o){var r={error:o.message};return o.reason&&(r.reason=o.reason),r}}function Ph(e,t,n){switch(t){case String:return vt(e,fh);case Number:return vt(e,dh);case Date:return vt(e,function(r){return ph(r,{properties:n.properties})});case Boolean:return vt(e,hh);default:if(typeof t=="function")return vt(e,t);throw new Error("Unsupported schema type: ".concat(t&&t.name||t))}}function Cs(e,t,n){for(var r=0,o="";n+r<e.length;){var a=e[n+r];if(a===t)return[o,r];if(a==='"'){var i=Cs(e,'"',n+r+1);o+=i[0],r+=1+i[1]+1}else o+=a,r++}return[o,r]}function Mh(e,t){for(var n=[],r=0;r<e.length;){var o=Cs(e,t,r),a=mh(o,2),i=a[0],s=a[1];r+=s+t.length,n.push(i.trim())}return n}var Ah=function(t){return t[0].map(function(n,r){return t.map(function(o){return o[r]})})};function jh(e){for(var t=0,n=Object.keys(e);t<n.length;t++){var r=n[t],o=e[r];if(!o.prop)throw new Error('"prop" not defined for schema entry "'.concat(r,'".'))}}function gr(e){return e==null}function Yt(e){"@babel/helpers - typeof";return Yt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yt(e)}function ta(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function na(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ta(Object(n),!0).forEach(function(r){Th(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ta(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Th(e,t,n){return t=_h(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _h(e){var t=kh(e,"string");return Yt(t)==="symbol"?t:String(t)}function kh(e,t){if(Yt(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Yt(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Oh(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=n.includeNullValues,o=n.ignoreEmptyRows,a=n.isColumnOriented,i=n.rowMap,s={schemaPropertyValueForMissingColumn:void 0,schemaPropertyValueForUndefinedCellValue:void 0,schemaPropertyValueForNullCellValue:void 0,schemaPropertyShouldSkipRequiredValidationForMissingColumn:function(u,d){return d.path,!1},getEmptyObjectValue:function(u,d){var h=d.path;return h?void 0:null},getEmptyArrayValue:function(){return null},arrayValueSeparator:","};r&&(s.schemaPropertyValueForMissingColumn=null,s.schemaPropertyValueForUndefinedCellValue=null,s.schemaPropertyValueForNullCellValue=null,s.getEmptyObjectValue=function(l,u){return u.path,null});var c=Ch(e,t,na(na({},s),{},{rowIndexMap:i,isColumnOriented:a}));return o!==!1&&(c.rows=c.rows.filter(function(l){return l!==s.getEmptyObjectValue(l,{path:void 0})})),c}function qt(e){"@babel/helpers - typeof";return qt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qt(e)}var Ih=["schemaPropertyValueForEmptyCell"];function ra(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function oa(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ra(Object(n),!0).forEach(function(r){Eh(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ra(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Eh(e,t,n){return t=Nh(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Nh(e){var t=$h(e,"string");return qt(t)==="symbol"?t:String(t)}function $h(e,t){if(qt(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(qt(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rh(e,t){if(e==null)return{};var n=Dh(e,t),r,o;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)r=a[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Dh(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,a;for(a=0;a<r.length;a++)o=r[a],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function Lh(e,t,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},o=r.schemaPropertyValueForEmptyCell,a=Rh(r,Ih);return e(t,n,oa(oa({},a),{},{schemaPropertyValueForNullCellValue:o}))}function zr(e){"@babel/helpers - typeof";return zr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zr(e)}function Ps(e){for(var t={},n=0,r=Object.keys(e);n<r.length;n++){var o=r[n],a=e[o],i=void 0;zr(a)==="object"&&(a=Object.keys(e[o])[0],i=Ps(e[o][a])),t[o]={prop:a},i&&(t[o].type=i)}return t}function Gt(e){"@babel/helpers - typeof";return Gt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gt(e)}var zh=["schema","map"];function aa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function gn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?aa(Object(n),!0).forEach(function(r){Uh(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aa(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Uh(e,t,n){return t=Fh(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fh(e){var t=Hh(e,"string");return Gt(t)==="symbol"?t:String(t)}function Hh(e,t){if(Gt(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Gt(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Vh(e,t){if(e==null)return{};var n=Wh(e,t),r,o;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)r=a[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Wh(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,a;for(a=0;a<r.length;a++)o=r[a],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function Bh(e,t,n){var r=n.schema,o=n.map,a=Vh(n,zh);!r&&o&&(r=Ps(o));var i=th(e,t,gn(gn({},a),{},{properties:r||a.properties}));return r?Lh(Oh,i.data,r,gn(gn({},a),{},{properties:i.properties})):i}function Xh(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Xd(e).then(function(n){return Bh(n,Td,t)})}const Yh=()=>{const[e,t]=v.useState([]),[n,r]=v.useState(!1),[o,a]=v.useState({totalPages:0,totalElements:0,numberOfElements:0,pageNumber:0,pageSize:0}),[i,s]=v.useState([]),{authUser:c}=Wn(),[l,u]=v.useState(!1),d=()=>u(!0),h=()=>u(!1),{courseId:p}=Vn(),m=async M=>{r(!0);try{const b={page:M,size:10},_=await se.get(`course-registrations/course/${p}?page=${b.page}&size=${b.size}`),T=_.status===200?_.data:null;T.success?(t(T.data.content),a({totalPages:T.data.totalPages,totalElements:T.data.totalElements,numberOfElements:T.data.numberOfElements,pageNumber:T.data.pageable.pageNumber,pageSize:T.data.pageable.pageSize})):console.error("Failed to fetch students:",T.message)}catch(b){console.error("Error fetching students:",b)}finally{r(!1)}};v.useEffect(()=>{m(0)},[]);const g=M=>{m(M)},y=M=>{const b=M.target.files[0],_=[];Xh(b).then(T=>{const $=T[0],O=$.indexOf("Email"),A=$.indexOf("MSSV");if(O!==-1&&A!==-1)for(let N=1;N<T.length;N++){const j=T[N];j[O]?_.push(j[O].toString().trim()):j[A]&&_.push(`${j[A].toString().trim()}@student.hcmute.edu.vn`)}s(N=>[...N,..._])}).catch(T=>{console.error("Error reading file:",T)})},x=M=>{const b=M.target.value;s(b.split(`
`))},S=M=>{if(!M.length)return Me.error("Danh sách email không được để trống!"),!1;const b=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;for(let _ of M)if(!b.test(_))return Me.error(`Email không hợp lệ: ${_}`),!1;return!0},w=async()=>{r(!0),h();try{const _=document.querySelector("textarea").value.split(`
`).map(O=>O.trim()).filter(O=>O);s(_);const T=[...new Set(_)];if(!S(T)){r(!1);return}s(T);const $=await se.post(`/course-registrations/register/${p}/list-email`,{emails:T});$.status===200?(Me.success($.data.message),await m(0)):Me.error($.data.message,{type:"error"})}catch{Me.error("Có lỗi xảy ra khi gửi!",{type:"error"})}finally{r(!1)}},P=async M=>{r(!0);try{const b=await se.post(`/course-registrations/remove/${p}/list-email`,{emails:M});b.status===200?(await m(0),Me.success(b.data.message)):Me.error(b.data.message,{type:"error"})}catch{Me.error("Có lỗi xảy ra khi xóa!",{type:"error"})}finally{r(!1)}};return f.jsxs("div",{className:"w-full h-full",children:[f.jsx("div",{className:"flex justify-end items-center mb-2",children:c.role==="TEACHER"&&f.jsxs("button",{className:`py-2 px-3  bg-gradient-to-br from-[#5BCEC9] to-[#14919B]\r
    shadow-md hover:shadow-lg text-white rounded-lg  hover:bg-secondary transition-colors flex items-center`,onClick:d,children:[f.jsx(Jl,{}),"Thêm sinh viên"]})}),n?f.jsx(Pt,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:200},children:f.jsx(an,{})}):f.jsx(ss,{totalStudents:o.totalElements,students:e,paginationInfo:o,onPageChange:g,onDeleteStudents:P}),f.jsx(hi,{open:l,onClose:h,maxWidth:"sm",fullWidth:!0,hideBackdrop:!1,children:f.jsxs("div",{className:"relative bg-white rounded-lg shadow-xl",children:[f.jsx(pi,{className:"text-xl font-bold mb-4",children:"Thêm sinh viên"}),f.jsx("button",{onClick:h,className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700",children:f.jsx(bi,{className:"h-6 w-6"})}),f.jsx(mi,{children:f.jsxs("div",{className:"mt-2 space-y-4",children:[f.jsx("input",{type:"file",onChange:y,accept:".csv, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel",className:"w-full p-2 border border-gray-300 rounded"}),f.jsx("textarea",{placeholder:"Student Details",className:"w-full p-2 border border-gray-300 rounded resize-none h-32",value:i.join(`
`),onChange:x}),f.jsx("button",{onClick:w,className:`w-full py-2 px-4  bg-gradient-to-br from-[#5BCEC9] to-[#14919B]\r
    shadow-md hover:shadow-lg text-white rounded-lg  hover:bg-secondary transition-colors`,children:"Gửi"})]})})]})})]})},gt="/modules";class wt{static async getLecturesByModuleId(t){return await se.get(`${gt}/${t}/lectures`,{headers:{"Content-Type":"application/json"}}).then(n=>n.data.data).catch(n=>{console.log(n)})}static async getResourcesByModuleId(t){return await se.get(`${gt}/${t}/resources`,{headers:{"Content-Type":"application/json"}}).then(n=>n.data.data).catch(n=>{console.log(n)})}static async getQuizzesByModuleId(t){return await se.get(`${gt}/${t}/quizzes`,{headers:{"Content-Type":"application/json"}}).then(n=>n.data.data).catch(n=>{console.log(n)})}static async getAssignmentsByModuleId(t){return await se.get(`${gt}/${t}/assignments`,{headers:{"Content-Type":"application/json"}}).then(n=>n.data.data).catch(n=>{console.log(n)})}static async getAllAssignmentsByModuleId(t){return await se.get(`${gt}/${t}/assignments`,{headers:{"Content-Type":"application/json"}}).then(n=>n.data.data).catch(n=>{console.log(n)})}static async getAssignmentById(t){return await se.get(`${gt}/assignments/${t}`,{headers:{"Content-Type":"application/json"}}).then(n=>n.data.data).catch(n=>{console.log(n)})}static async getAssignmentSubmissions(t){return await se.get(`/assignment-submissions/assignment/${t}`,{headers:{"Content-Type":"application/json"}}).then(n=>n.data.data).catch(n=>{console.log(n)})}static async getQuizSubmissions(t){return await se.get(`/quizzes/${t}/submissions`,{headers:{"Content-Type":"application/json"}}).then(n=>n.data.data).catch(n=>{console.log(n)})}}const Ms="DEFAULT_X_AXIS_KEY",qh="DEFAULT_Y_AXIS_KEY",Gh={top:50,bottom:50,left:50,right:50};function Kh({controlled:e,default:t,name:n,state:r="value"}){const{current:o}=v.useRef(e!==void 0),[a,i]=v.useState(t),s=o?e:a,c=v.useCallback(l=>{o||i(l)},[]);return[s,c]}const As=v.createContext({isInitialized:!1,data:{highlightedItem:null,setHighlighted:()=>{},clearHighlighted:()=>{},isHighlighted:()=>!1,isFaded:()=>!1}}),Qh=(e,t)=>n=>e?e.fade==="series"?n.seriesId===(t==null?void 0:t.seriesId)&&n.dataIndex!==(t==null?void 0:t.dataIndex):e.fade==="global"?n.seriesId!==(t==null?void 0:t.seriesId)||n.dataIndex!==(t==null?void 0:t.dataIndex):!1:!1,Zh=(e,t)=>n=>e?e.highlight==="series"?n.seriesId===(t==null?void 0:t.seriesId):e.highlight==="item"?n.dataIndex===(t==null?void 0:t.dataIndex)&&n.seriesId===(t==null?void 0:t.seriesId):!1:!1,Jh=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"];function ep(e,t,n=Jh){return e.type==="pie"?C({},e,{data:e.data.map((r,o)=>C({color:n[o%n.length]},r))}):C({color:n[t%n.length]},e)}const tp=({series:e,colors:t,seriesFormatters:n,dataset:r})=>{const o={};e.forEach((i,s)=>{var u;const{id:c=`auto-generated-id-${s}`,type:l}=i;if(o[l]===void 0&&(o[l]={series:{},seriesOrder:[]}),((u=o[l])==null?void 0:u.series[c])!==void 0)throw new Error(`MUI X: series' id "${c}" is not unique.`);o[l].series[c]=C({id:c},ep(i,s,t)),o[l].seriesOrder.push(c)});const a={};return Object.keys(n).forEach(i=>{var c;const s=o[i];s!==void 0&&(a[i]=((c=n[i])==null?void 0:c.call(n,s,r))??o[i])}),a},np=["#02B2AF","#2E96FF","#B800D8","#60009B","#2731C8","#03008D"],rp=["#02B2AF","#72CCFF","#DA00FF","#9001CB","#2E96FF","#3B48E0"],op=e=>e==="dark"?rp:np,js=v.createContext({isInitialized:!1,data:{}}),fn=v.createContext({isInitialized:!1,data:{colorProcessors:{},seriesFormatters:{},xExtremumGetters:{},yExtremumGetters:{},rotationExtremumGetters:{},radiusExtremumGetters:{}}}),ia=(e,t)=>t==="x"?{x:e,y:null}:{x:null,y:e},Ts=e=>{var c;const{axis:t,getFilters:n,isDefaultAxis:r}=e,o=n==null?void 0:n({currentAxisId:t.id,isDefaultAxis:r}),a=o?(c=t.data)==null?void 0:c.filter((l,u)=>o({x:null,y:null},u)):t.data,i=Math.min(...a??[]),s=Math.max(...a??[]);return[i,s]},_s=e=>t=>{const{series:n,axis:r,getFilters:o,isDefaultAxis:a}=t;return Object.keys(n).filter(i=>{const s=n[i].yAxisId??n[i].yAxisKey;return s===r.id||a&&s===void 0}).reduce((i,s)=>{const{stackedData:c}=n[s],l=o==null?void 0:o({currentAxisId:r.id,isDefaultAxis:a,seriesXAxisId:n[s].xAxisId??n[s].xAxisKey,seriesYAxisId:n[s].yAxisId??n[s].yAxisKey}),[u,d]=(c==null?void 0:c.reduce((h,p,m)=>l&&(!l(ia(p[0],e),m)||!l(ia(p[1],e),m))?h:[Math.min(...p,h[0]),Math.max(...p,h[1])],[1/0,-1/0]))??[1/0,-1/0];return[Math.min(u,i[0]),Math.max(d,i[1])]},[1/0,-1/0])},ap=e=>Object.keys(e.series).some(n=>e.series[n].layout==="horizontal")?_s("x")(e):Ts(e),ip=e=>Object.keys(e.series).some(n=>e.series[n].layout==="horizontal")?Ts(e):_s("y")(e);function re(e){return function(){return e}}const sa=Math.abs,ge=Math.atan2,Qe=Math.cos,sp=Math.max,yr=Math.min,Re=Math.sin,St=Math.sqrt,Se=1e-12,Kt=Math.PI,In=Kt/2,jn=2*Kt;function lp(e){return e>1?0:e<-1?Kt:Math.acos(e)}function la(e){return e>=1?In:e<=-1?-In:Math.asin(e)}const Ur=Math.PI,Fr=2*Ur,Je=1e-6,cp=Fr-Je;function ks(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function up(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return ks;const n=10**t;return function(r){this._+=r[0];for(let o=1,a=r.length;o<a;++o)this._+=Math.round(arguments[o]*n)/n+r[o]}}class dp{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?ks:up(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,o){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+o}`}bezierCurveTo(t,n,r,o,a,i){this._append`C${+t},${+n},${+r},${+o},${this._x1=+a},${this._y1=+i}`}arcTo(t,n,r,o,a){if(t=+t,n=+n,r=+r,o=+o,a=+a,a<0)throw new Error(`negative radius: ${a}`);let i=this._x1,s=this._y1,c=r-t,l=o-n,u=i-t,d=s-n,h=u*u+d*d;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(h>Je)if(!(Math.abs(d*c-l*u)>Je)||!a)this._append`L${this._x1=t},${this._y1=n}`;else{let p=r-i,m=o-s,g=c*c+l*l,y=p*p+m*m,x=Math.sqrt(g),S=Math.sqrt(h),w=a*Math.tan((Ur-Math.acos((g+h-y)/(2*x*S)))/2),P=w/S,M=w/x;Math.abs(P-1)>Je&&this._append`L${t+P*u},${n+P*d}`,this._append`A${a},${a},0,0,${+(d*p>u*m)},${this._x1=t+M*c},${this._y1=n+M*l}`}}arc(t,n,r,o,a,i){if(t=+t,n=+n,r=+r,i=!!i,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(o),c=r*Math.sin(o),l=t+s,u=n+c,d=1^i,h=i?o-a:a-o;this._x1===null?this._append`M${l},${u}`:(Math.abs(this._x1-l)>Je||Math.abs(this._y1-u)>Je)&&this._append`L${l},${u}`,r&&(h<0&&(h=h%Fr+Fr),h>cp?this._append`A${r},${r},0,1,${d},${t-s},${n-c}A${r},${r},0,1,${d},${this._x1=l},${this._y1=u}`:h>Je&&this._append`A${r},${r},0,${+(h>=Ur)},${d},${this._x1=t+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(t,n,r,o){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+o}h${-r}Z`}toString(){return this._}}function fp(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new dp(t)}function hp(e){return e.innerRadius}function pp(e){return e.outerRadius}function mp(e){return e.startAngle}function gp(e){return e.endAngle}function yp(e){return e&&e.padAngle}function xp(e,t,n,r,o,a,i,s){var c=n-e,l=r-t,u=i-o,d=s-a,h=d*c-u*l;if(!(h*h<Se))return h=(u*(t-a)-d*(e-o))/h,[e+h*c,t+h*l]}function yn(e,t,n,r,o,a,i){var s=e-n,c=t-r,l=(i?a:-a)/St(s*s+c*c),u=l*c,d=-l*s,h=e+u,p=t+d,m=n+u,g=r+d,y=(h+m)/2,x=(p+g)/2,S=m-h,w=g-p,P=S*S+w*w,M=o-a,b=h*g-m*p,_=(w<0?-1:1)*St(sp(0,M*M*P-b*b)),T=(b*w-S*_)/P,$=(-b*S-w*_)/P,O=(b*w+S*_)/P,A=(-b*S+w*_)/P,N=T-y,j=$-x,I=O-y,D=A-x;return N*N+j*j>I*I+D*D&&(T=O,$=A),{cx:T,cy:$,x01:-u,y01:-d,x11:T*(o/M-1),y11:$*(o/M-1)}}function Os(){var e=hp,t=pp,n=re(0),r=null,o=mp,a=gp,i=yp,s=null,c=fp(l);function l(){var u,d,h=+e.apply(this,arguments),p=+t.apply(this,arguments),m=o.apply(this,arguments)-In,g=a.apply(this,arguments)-In,y=sa(g-m),x=g>m;if(s||(s=u=c()),p<h&&(d=p,p=h,h=d),!(p>Se))s.moveTo(0,0);else if(y>jn-Se)s.moveTo(p*Qe(m),p*Re(m)),s.arc(0,0,p,m,g,!x),h>Se&&(s.moveTo(h*Qe(g),h*Re(g)),s.arc(0,0,h,g,m,x));else{var S=m,w=g,P=m,M=g,b=y,_=y,T=i.apply(this,arguments)/2,$=T>Se&&(r?+r.apply(this,arguments):St(h*h+p*p)),O=yr(sa(p-h)/2,+n.apply(this,arguments)),A=O,N=O,j,I;if($>Se){var D=la($/h*Re(T)),R=la($/p*Re(T));(b-=D*2)>Se?(D*=x?1:-1,P+=D,M-=D):(b=0,P=M=(m+g)/2),(_-=R*2)>Se?(R*=x?1:-1,S+=R,w-=R):(_=0,S=w=(m+g)/2)}var U=p*Qe(S),F=p*Re(S),V=h*Qe(M),Y=h*Re(M);if(O>Se){var ae=p*Qe(w),K=p*Re(w),pe=h*Qe(P),ce=h*Re(P),Q;if(y<Kt)if(Q=xp(U,F,pe,ce,ae,K,V,Y)){var be=U-Q[0],W=F-Q[1],H=ae-Q[0],E=K-Q[1],L=1/Re(lp((be*H+W*E)/(St(be*be+W*W)*St(H*H+E*E)))/2),z=St(Q[0]*Q[0]+Q[1]*Q[1]);A=yr(O,(h-z)/(L-1)),N=yr(O,(p-z)/(L+1))}else A=N=0}_>Se?N>Se?(j=yn(pe,ce,U,F,p,N,x),I=yn(ae,K,V,Y,p,N,x),s.moveTo(j.cx+j.x01,j.cy+j.y01),N<O?s.arc(j.cx,j.cy,N,ge(j.y01,j.x01),ge(I.y01,I.x01),!x):(s.arc(j.cx,j.cy,N,ge(j.y01,j.x01),ge(j.y11,j.x11),!x),s.arc(0,0,p,ge(j.cy+j.y11,j.cx+j.x11),ge(I.cy+I.y11,I.cx+I.x11),!x),s.arc(I.cx,I.cy,N,ge(I.y11,I.x11),ge(I.y01,I.x01),!x))):(s.moveTo(U,F),s.arc(0,0,p,S,w,!x)):s.moveTo(U,F),!(h>Se)||!(b>Se)?s.lineTo(V,Y):A>Se?(j=yn(V,Y,ae,K,h,-A,x),I=yn(U,F,pe,ce,h,-A,x),s.lineTo(j.cx+j.x01,j.cy+j.y01),A<O?s.arc(j.cx,j.cy,A,ge(j.y01,j.x01),ge(I.y01,I.x01),!x):(s.arc(j.cx,j.cy,A,ge(j.y01,j.x01),ge(j.y11,j.x11),!x),s.arc(0,0,h,ge(j.cy+j.y11,j.cx+j.x11),ge(I.cy+I.y11,I.cx+I.x11),x),s.arc(I.cx,I.cy,A,ge(I.y11,I.x11),ge(I.y01,I.x01),!x))):s.arc(0,0,h,M,P,x)}if(s.closePath(),u)return s=null,u+""||null}return l.centroid=function(){var u=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,d=(+o.apply(this,arguments)+ +a.apply(this,arguments))/2-Kt/2;return[Qe(d)*u,Re(d)*u]},l.innerRadius=function(u){return arguments.length?(e=typeof u=="function"?u:re(+u),l):e},l.outerRadius=function(u){return arguments.length?(t=typeof u=="function"?u:re(+u),l):t},l.cornerRadius=function(u){return arguments.length?(n=typeof u=="function"?u:re(+u),l):n},l.padRadius=function(u){return arguments.length?(r=u==null?null:typeof u=="function"?u:re(+u),l):r},l.startAngle=function(u){return arguments.length?(o=typeof u=="function"?u:re(+u),l):o},l.endAngle=function(u){return arguments.length?(a=typeof u=="function"?u:re(+u),l):a},l.padAngle=function(u){return arguments.length?(i=typeof u=="function"?u:re(+u),l):i},l.context=function(u){return arguments.length?(s=u??null,l):s},l}function Is(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function bp(e,t){return t<e?-1:t>e?1:t>=e?0:NaN}function vp(e){return e}function wp(){var e=vp,t=bp,n=null,r=re(0),o=re(jn),a=re(0);function i(s){var c,l=(s=Is(s)).length,u,d,h=0,p=new Array(l),m=new Array(l),g=+r.apply(this,arguments),y=Math.min(jn,Math.max(-jn,o.apply(this,arguments)-g)),x,S=Math.min(Math.abs(y)/l,a.apply(this,arguments)),w=S*(y<0?-1:1),P;for(c=0;c<l;++c)(P=m[p[c]=c]=+e(s[c],c,s))>0&&(h+=P);for(t!=null?p.sort(function(M,b){return t(m[M],m[b])}):n!=null&&p.sort(function(M,b){return n(s[M],s[b])}),c=0,d=h?(y-l*w)/h:0;c<l;++c,g=x)u=p[c],P=m[u],x=g+(P>0?P*d:0)+w,m[u]={data:s[u],index:c,value:P,startAngle:g,endAngle:x,padAngle:S};return m}return i.value=function(s){return arguments.length?(e=typeof s=="function"?s:re(+s),i):e},i.sortValues=function(s){return arguments.length?(t=s,n=null,i):t},i.sort=function(s){return arguments.length?(n=s,t=null,i):n},i.startAngle=function(s){return arguments.length?(r=typeof s=="function"?s:re(+s),i):r},i.endAngle=function(s){return arguments.length?(o=typeof s=="function"?s:re(+s),i):o},i.padAngle=function(s){return arguments.length?(a=typeof s=="function"?s:re(+s),i):a},i}function jt(e,t){if((i=e.length)>1)for(var n=1,r,o,a=e[t[0]],i,s=a.length;n<i;++n)for(o=a,a=e[t[n]],r=0;r<s;++r)a[r][1]+=a[r][0]=isNaN(o[r][1])?o[r][0]:o[r][1]}function Tt(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function Sp(e,t){return e[t]}function Cp(e){const t=[];return t.key=e,t}function Es(){var e=re([]),t=Tt,n=jt,r=Sp;function o(a){var i=Array.from(e.apply(this,arguments),Cp),s,c=i.length,l=-1,u;for(const d of a)for(s=0,++l;s<c;++s)(i[s][l]=[0,+r(d,i[s].key,l,a)]).data=d;for(s=0,u=Is(t(i));s<c;++s)i[u[s]].index=s;return n(i,u),i}return o.keys=function(a){return arguments.length?(e=typeof a=="function"?a:re(Array.from(a)),o):e},o.value=function(a){return arguments.length?(r=typeof a=="function"?a:re(+a),o):r},o.order=function(a){return arguments.length?(t=a==null?Tt:typeof a=="function"?a:re(Array.from(a)),o):t},o.offset=function(a){return arguments.length?(n=a??jt,o):n},o}function Pp(e,t){if((r=e.length)>0){for(var n,r,o=0,a=e[0].length,i;o<a;++o){for(i=n=0;n<r;++n)i+=e[n][o][1]||0;if(i)for(n=0;n<r;++n)e[n][o][1]/=i}jt(e,t)}}function Mp(e,t){if((c=e.length)>0)for(var n,r=0,o,a,i,s,c,l=e[t[0]].length;r<l;++r)for(i=s=0,n=0;n<c;++n)(a=(o=e[t[n]][r])[1]-o[0])>0?(o[0]=i,o[1]=i+=a):a<0?(o[1]=s,o[0]=s+=a):(o[0]=0,o[1]=a)}function Ap(e,t){if((o=e.length)>0){for(var n=0,r=e[t[0]],o,a=r.length;n<a;++n){for(var i=0,s=0;i<o;++i)s+=e[i][n][1]||0;r[n][1]+=r[n][0]=-s/2}jt(e,t)}}function jp(e,t){if(!(!((i=e.length)>0)||!((a=(o=e[t[0]]).length)>0))){for(var n=0,r=1,o,a,i;r<a;++r){for(var s=0,c=0,l=0;s<i;++s){for(var u=e[t[s]],d=u[r][1]||0,h=u[r-1][1]||0,p=(d-h)/2,m=0;m<s;++m){var g=e[t[m]],y=g[r][1]||0,x=g[r-1][1]||0;p+=y-x}c+=d,l+=p*d}o[r-1][1]+=o[r-1][0]=n,c&&(n-=l/c)}o[r-1][1]+=o[r-1][0]=n,jt(e,t)}}function Ns(e){var t=e.map(Tp);return Tt(e).sort(function(n,r){return t[n]-t[r]})}function Tp(e){for(var t=-1,n=0,r=e.length,o,a=-1/0;++t<r;)(o=+e[t][1])>a&&(a=o,n=t);return n}function $s(e){var t=e.map(Rs);return Tt(e).sort(function(n,r){return t[n]-t[r]})}function Rs(e){for(var t=0,n=-1,r=e.length,o;++n<r;)(o=+e[n][1])&&(t+=o);return t}function _p(e){return $s(e).reverse()}function kp(e){var t=e.length,n,r,o=e.map(Rs),a=Ns(e),i=0,s=0,c=[],l=[];for(n=0;n<t;++n)r=a[n],i<s?(i+=o[r],c.push(r)):(s+=o[r],l.push(r));return l.reverse().concat(c)}function Op(e){return Tt(e).reverse()}const xr={appearance:Ns,ascending:$s,descending:_p,insideOut:kp,none:Tt,reverse:Op},br={expand:Pp,diverging:Mp,none:jt,silhouette:Ap,wiggle:jp},Ds=e=>{const{series:t,seriesOrder:n,defaultStrategy:r}=e,o=[],a={};return n.forEach(i=>{const{stack:s,stackOrder:c,stackOffset:l}=t[i];s===void 0?o.push({ids:[i],stackingOrder:xr.none,stackingOffset:br.none}):a[s]===void 0?(a[s]=o.length,o.push({ids:[i],stackingOrder:xr[c??(r==null?void 0:r.stackOrder)??"none"],stackingOffset:br[l??(r==null?void 0:r.stackOffset)??"diverging"]})):(o[a[s]].ids.push(i),c!==void 0&&(o[a[s]].stackingOrder=xr[c]),l!==void 0&&(o[a[s]].stackingOffset=br[l]))}),o};function Ls(e,t){const n={};return Object.keys(e).forEach(r=>{n[r]=C({},e[r],{valueFormatter:e[r].valueFormatter??t})}),n}const Ip=(e,t)=>{const{seriesOrder:n,series:r}=e,o=Ds(e),a=t??[];n.forEach(s=>{const c=r[s].data;if(c!==void 0)c.forEach((l,u)=>{a.length<=u?a.push({[s]:l}):a[u][s]=l});else if(t===void 0)throw new Error([`MUI X: bar series with id='${s}' has no data.`,"Either provide a data property to the series or use the dataset prop."].join(`
`))});const i={};return o.forEach(s=>{const{ids:c,stackingOffset:l,stackingOrder:u}=s,d=Es().keys(c.map(h=>{const p=r[h].dataKey;return r[h].data===void 0&&p!==void 0?p:h})).value((h,p)=>h[p]??0).order(u).offset(l)(a);c.forEach((h,p)=>{const m=r[h].dataKey;i[h]=C({layout:"vertical"},r[h],{data:m?t.map(g=>{const y=g[m];return typeof y!="number"?0:y}):r[h].data,stackedData:d[p].map(([g,y])=>[g,y])})})}),{seriesOrder:n,stackingGroups:o,series:Ls(i,s=>s==null?"":s.toLocaleString())}},Ep=(e,t,n)=>{const r=e.layout==="vertical",o=r?t==null?void 0:t.colorScale:n==null?void 0:n.colorScale,a=r?n==null?void 0:n.colorScale:t==null?void 0:t.colorScale,i=r?t==null?void 0:t.data:n==null?void 0:n.data;return a?s=>{const c=e.data[s],l=c===null?e.color:a(c);return l===null?e.color:l}:o&&i?s=>{const c=i[s],l=c===null?e.color:o(c);return l===null?e.color:l}:()=>e.color},Np={seriesType:"bar",seriesFormatter:Ip,colorProcessor:Ep,xExtremumGetter:ap,yExtremumGetter:ip},En=(e,t)=>[t[0]===null?e[0]:Math.min(e[0],t[0]),t[1]===null?e[1]:Math.max(e[1],t[1])],$p=e=>{const{series:t,axis:n,isDefaultAxis:r,getFilters:o}=e;return Object.keys(t).filter(a=>{const i=t[a].xAxisId??t[a].xAxisKey;return i===n.id||i===void 0&&r}).reduce((a,i)=>{var l;const s=o==null?void 0:o({currentAxisId:n.id,isDefaultAxis:r,seriesXAxisId:t[i].xAxisId??t[i].xAxisKey,seriesYAxisId:t[i].yAxisId??t[i].yAxisKey}),c=(l=t[i].data)==null?void 0:l.reduce((u,d,h)=>s&&!s(d,h)?u:En(u,[d.x,d.x]),[1/0,-1/0]);return En(a,c??[1/0,-1/0])},[1/0,-1/0])},Rp=e=>{const{series:t,axis:n,isDefaultAxis:r,getFilters:o}=e;return Object.keys(t).filter(a=>{const i=t[a].yAxisId??t[a].yAxisKey;return i===n.id||i===void 0&&r}).reduce((a,i)=>{var l;const s=o==null?void 0:o({currentAxisId:n.id,isDefaultAxis:r,seriesXAxisId:t[i].xAxisId??t[i].xAxisKey,seriesYAxisId:t[i].yAxisId??t[i].yAxisKey}),c=(l=t[i].data)==null?void 0:l.reduce((u,d,h)=>s&&!s(d,h)?u:En(u,[d.y,d.y]),[1/0,-1/0]);return En(a,c??[1/0,-1/0])},[1/0,-1/0])},Dp=({series:e,seriesOrder:t},n)=>({series:Object.fromEntries(Object.entries(e).map(([o,a])=>{const i=a==null?void 0:a.datasetKeys,s=["x","y","id"].filter(l=>typeof(i==null?void 0:i[l])!="string");if(a!=null&&a.datasetKeys&&s.length>0)throw new Error([`MUI X: scatter series with id='${o}' has incomplete datasetKeys.`,`Properties ${s.map(l=>`"${l}"`).join(", ")} are missing.`].join(`
`));const c=i?(n==null?void 0:n.map(l=>({x:l[i.x]??null,y:l[i.y]??null,z:i.z&&l[i.z],id:l[i.id]})))??[]:a.data??[];return[o,C({},a,{data:c,valueFormatter:a.valueFormatter??(l=>`(${l.x}, ${l.y})`)})]})),seriesOrder:t}),Lp=(e,t,n,r)=>{const o=r==null?void 0:r.colorScale,a=n==null?void 0:n.colorScale,i=t==null?void 0:t.colorScale;return o?s=>{var u,d;if(((u=r==null?void 0:r.data)==null?void 0:u[s])!==void 0){const h=o((d=r==null?void 0:r.data)==null?void 0:d[s]);if(h!==null)return h}const c=e.data[s],l=c===null?e.color:o(c.z);return l===null?e.color:l}:a?s=>{const c=e.data[s],l=c===null?e.color:a(c.y);return l===null?e.color:l}:i?s=>{const c=e.data[s],l=c===null?e.color:i(c.x);return l===null?e.color:l}:()=>e.color},zp={seriesType:"scatter",seriesFormatter:Dp,colorProcessor:Lp,xExtremumGetter:$p,yExtremumGetter:Rp},Up=e=>{const{axis:t}=e,n=Math.min(...t.data??[]),r=Math.max(...t.data??[]);return[n,r]};function Fp(e,t,n){return t.reduce((r,o,a)=>{const[i,s]=e(o);return n&&(!n({y:i,x:null},a)||!n({y:s,x:null},a))?r:[Math.min(i,s,r[0]),Math.max(i,s,r[1])]},[1/0,-1/0])}const Hp=e=>{const{series:t,axis:n,isDefaultAxis:r,getFilters:o}=e;return Object.keys(t).filter(a=>{const i=t[a].yAxisId??t[a].yAxisKey;return i===n.id||r&&i===void 0}).reduce((a,i)=>{const{area:s,stackedData:c}=t[i],l=s!==void 0,u=o==null?void 0:o({currentAxisId:n.id,isDefaultAxis:r,seriesXAxisId:t[i].xAxisId??t[i].xAxisKey,seriesYAxisId:t[i].yAxisId??t[i].yAxisKey}),d=l&&n.scaleType!=="log"&&typeof t[i].baseline!="string"?g=>g:g=>[g[1],g[1]],h=Fp(d,c,u),[p,m]=h;return[Math.min(p,a[0]),Math.max(m,a[1])]},[1/0,-1/0])},Vp=(e,t)=>{const{seriesOrder:n,series:r}=e,o=Ds(C({},e,{defaultStrategy:{stackOffset:"none"}})),a=t??[];n.forEach(s=>{const c=r[s].data;c!==void 0&&c.forEach((l,u)=>{a.length<=u?a.push({[s]:l}):a[u][s]=l})});const i={};return o.forEach(s=>{const{ids:c,stackingOrder:l,stackingOffset:u}=s,d=Es().keys(c.map(h=>{const p=r[h].dataKey;return r[h].data===void 0&&p!==void 0?p:h})).value((h,p)=>h[p]??0).order(l).offset(u)(a);c.forEach((h,p)=>{const m=r[h].dataKey;i[h]=C({},r[h],{data:m?t.map(g=>{const y=g[m];return typeof y!="number"?null:y}):r[h].data,stackedData:d[p].map(([g,y])=>[g,y])})})}),{seriesOrder:n,stackingGroups:o,series:Ls(i,s=>s==null?"":s.toLocaleString())}},Wp=(e,t,n)=>{const r=n==null?void 0:n.colorScale,o=t==null?void 0:t.colorScale;return r?a=>{const i=e.data[a],s=i===null?e.color:r(i);return s===null?e.color:s}:o?a=>{var c;const i=(c=t.data)==null?void 0:c[a],s=i===null?e.color:o(i);return s===null?e.color:s}:()=>e.color},Bp={seriesType:"line",colorProcessor:Wp,seriesFormatter:Vp,xExtremumGetter:Up,yExtremumGetter:Hp};function $e(e,t){return typeof e=="function"?e(t):e}const Xp=(e="none")=>{if(typeof e=="function")return e;switch(e){case"none":return null;case"desc":return(t,n)=>n-t;case"asc":return(t,n)=>t-n;default:return null}},Yp=e=>{const{seriesOrder:t,series:n}=e,r={};return t.forEach(o=>{const a=wp().startAngle(2*Math.PI*(n[o].startAngle??0)/360).endAngle(2*Math.PI*(n[o].endAngle??360)/360).padAngle(2*Math.PI*(n[o].paddingAngle??0)/360).sortValues(Xp(n[o].sortingValues??"none"))(n[o].data.map(i=>i.value));r[o]=C({valueFormatter:i=>i.value.toLocaleString()},n[o],{data:n[o].data.map((i,s)=>C({},i,{id:i.id??`auto-generated-pie-id-${o}-${s}`},a[s])).map((i,s)=>{var c,l;return C({},i,{formattedValue:((l=(c=n[o]).valueFormatter)==null?void 0:l.call(c,C({},i,{label:$e(i.label,"arc")}),{dataIndex:s}))??i.value.toLocaleString()})})})}),{seriesOrder:t,series:r}},qp=e=>t=>e.data[t].color,Gp={seriesType:"pie",colorProcessor:qp,seriesFormatter:Yp},Kp=[Np,zp,Bp,Gp];function Qp(e){const t=e??Kp,n={},r={},o={},a={},i={},s={};for(let c=0;c<t.length;c+=1){const l=t[c],u=l.seriesType;n[u]=l.seriesFormatter,r[u]=l.colorProcessor,l.xExtremumGetter&&(o[u]=l.xExtremumGetter),l.yExtremumGetter&&(a[u]=l.yExtremumGetter),l.rotationExtremumGetter&&(i[u]=l.rotationExtremumGetter),l.radiusExtremumGetter&&(s[u]=l.radiusExtremumGetter)}return{seriesFormatters:n,colorProcessors:r,xExtremumGetters:o,yExtremumGetters:a,rotationExtremumGetters:i,radiusExtremumGetters:s}}function Zp(e){const{children:t,plugins:n}=e,r=v.useMemo(()=>({isInitialized:!0,data:Qp(n)}),[n]);return f.jsx(fn.Provider,{value:r,children:t})}function zs(e){const{isInitialized:t,data:n}=v.useContext(fn);if(!t)throw new Error(["MUI X: Could not find the plugin context.","It looks like you rendered your component outside of a ChartsContainer parent component."].join(`
`));return n.colorProcessors}function Jp(e){const{isInitialized:t,data:n}=v.useContext(fn);if(!t)throw new Error(["MUI X: Could not find the plugin context.","It looks like you rendered your component outside of a ChartsContainer parent component."].join(`
`));return n.seriesFormatters}function em(e){const{isInitialized:t,data:n}=v.useContext(fn);if(!t)throw new Error(["MUI X: Could not find the plugin context.","It looks like you rendered your component outside of a ChartsContainer parent component."].join(`
`));return n.xExtremumGetters}function tm(e){const{isInitialized:t,data:n}=v.useContext(fn);if(!t)throw new Error(["MUI X: Could not find the plugin context.","It looks like you rendered your component outside of a ChartsContainer parent component."].join(`
`));return n.yExtremumGetters}function nm(e){const{series:t,dataset:n,colors:r=op,children:o}=e,a=Jp(),i=on(),s=v.useMemo(()=>({isInitialized:!0,data:tp({series:t,colors:typeof r=="function"?r(i.palette.mode):r,seriesFormatters:a,dataset:n})}),[t,r,i.palette.mode,a,n]);return f.jsx(js.Provider,{value:s,children:o})}function lt(){const{isInitialized:e,data:t}=v.useContext(js);if(!e)throw new Error(["MUI X: Could not find the series ref context.","It looks like you rendered your component outside of a ChartsContainer parent component."].join(`
`));return t}function rm(){const e=lt();return v.useMemo(()=>e.pie,[e.pie])}const om=["highlighted","faded"],am=e=>{const t=e??{},{highlighted:n,faded:r}=t,o=te(t,om);return C({highlight:n,fade:r},o)};function im({children:e,highlightedItem:t,onHighlightChange:n}){const[r,o]=Kh({controlled:t,default:null,name:"HighlightedProvider",state:"highlightedItem"}),a=lt(),i=v.useMemo(()=>{const l=new Map;return Object.keys(a).forEach(u=>{const d=a[u];Object.keys((d==null?void 0:d.series)??{}).forEach(h=>{const p=d==null?void 0:d.series[h];l.set(h,am(p==null?void 0:p.highlightScope))})}),l},[a]),s=r&&r.seriesId?i.get(r.seriesId)??void 0:void 0,c=v.useMemo(()=>({isInitialized:!0,data:{highlightScope:s,highlightedItem:r,setHighlighted:l=>{o(l),n==null||n(l)},clearHighlighted:()=>{o(null),n==null||n(null)},isHighlighted:Zh(s,r),isFaded:Qh(s,r)}}),[r,s,o,n]);return f.jsx(As.Provider,{value:c,children:e})}function ao(){const{isInitialized:e,data:t}=v.useContext(As);if(!e)throw new Error(["MUI X: Could not find the highlighted ref context.","It looks like you rendered your component outside of a ChartsContainer parent component."].join(`
`));return t}function Tn(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function sm(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function io(e){let t,n,r;e.length!==2?(t=Tn,n=(s,c)=>Tn(e(s),c),r=(s,c)=>e(s)-c):(t=e===Tn||e===sm?e:lm,n=e,r=e);function o(s,c,l=0,u=s.length){if(l<u){if(t(c,c)!==0)return u;do{const d=l+u>>>1;n(s[d],c)<0?l=d+1:u=d}while(l<u)}return l}function a(s,c,l=0,u=s.length){if(l<u){if(t(c,c)!==0)return u;do{const d=l+u>>>1;n(s[d],c)<=0?l=d+1:u=d}while(l<u)}return l}function i(s,c,l=0,u=s.length){const d=o(s,c,l,u-1);return d>l&&r(s[d-1],c)>-r(s[d],c)?d-1:d}return{left:o,center:i,right:a}}function lm(){return 0}function cm(e){return e===null?NaN:+e}const um=io(Tn),Us=um.right;io(cm).center;class ca extends Map{constructor(t,n=hm){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,o]of t)this.set(r,o)}get(t){return super.get(ua(this,t))}has(t){return super.has(ua(this,t))}set(t,n){return super.set(dm(this,t),n)}delete(t){return super.delete(fm(this,t))}}function ua({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function dm({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function fm({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function hm(e){return e!==null&&typeof e=="object"?e.valueOf():e}const pm=Math.sqrt(50),mm=Math.sqrt(10),gm=Math.sqrt(2);function Nn(e,t,n){const r=(t-e)/Math.max(0,n),o=Math.floor(Math.log10(r)),a=r/Math.pow(10,o),i=a>=pm?10:a>=mm?5:a>=gm?2:1;let s,c,l;return o<0?(l=Math.pow(10,-o)/i,s=Math.round(e*l),c=Math.round(t*l),s/l<e&&++s,c/l>t&&--c,l=-l):(l=Math.pow(10,o)*i,s=Math.round(e/l),c=Math.round(t/l),s*l<e&&++s,c*l>t&&--c),c<s&&.5<=n&&n<2?Nn(e,t,n*2):[s,c,l]}function Hr(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[o,a,i]=r?Nn(t,e,n):Nn(e,t,n);if(!(a>=o))return[];const s=a-o+1,c=new Array(s);if(r)if(i<0)for(let l=0;l<s;++l)c[l]=(a-l)/-i;else for(let l=0;l<s;++l)c[l]=(a-l)*i;else if(i<0)for(let l=0;l<s;++l)c[l]=(o+l)/-i;else for(let l=0;l<s;++l)c[l]=(o+l)*i;return c}function Vr(e,t,n){return t=+t,e=+e,n=+n,Nn(e,t,n)[2]}function Wr(e,t,n){t=+t,e=+e,n=+n;const r=t<e,o=r?Vr(t,e,n):Vr(e,t,n);return(r?-1:1)*(o<0?1/-o:o)}function ym(e,t,n){e=+e,t=+t,n=(o=arguments.length)<2?(t=e,e=0,1):o<3?1:+n;for(var r=-1,o=Math.max(0,Math.ceil((t-e)/n))|0,a=new Array(o);++r<o;)a[r]=e+r*n;return a}function Ge(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function xm(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const da=Symbol("implicit");function $n(){var e=new ca,t=[],n=[],r=da;function o(a){let i=e.get(a);if(i===void 0){if(r!==da)return r;e.set(a,i=t.push(a)-1)}return n[i%n.length]}return o.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new ca;for(const i of a)e.has(i)||e.set(i,t.push(i)-1);return o},o.range=function(a){return arguments.length?(n=Array.from(a),o):n.slice()},o.unknown=function(a){return arguments.length?(r=a,o):r},o.copy=function(){return $n(t,n).unknown(r)},Ge.apply(o,arguments),o}function so(){var e=$n().unknown(void 0),t=e.domain,n=e.range,r=0,o=1,a,i,s=!1,c=0,l=0,u=.5;delete e.unknown;function d(){var h=t().length,p=o<r,m=p?o:r,g=p?r:o;a=(g-m)/Math.max(1,h-c+l*2),s&&(a=Math.floor(a)),m+=(g-m-a*(h-c))*u,i=a*(1-c),s&&(m=Math.round(m),i=Math.round(i));var y=ym(h).map(function(x){return m+a*x});return n(p?y.reverse():y)}return e.domain=function(h){return arguments.length?(t(h),d()):t()},e.range=function(h){return arguments.length?([r,o]=h,r=+r,o=+o,d()):[r,o]},e.rangeRound=function(h){return[r,o]=h,r=+r,o=+o,s=!0,d()},e.bandwidth=function(){return i},e.step=function(){return a},e.round=function(h){return arguments.length?(s=!!h,d()):s},e.padding=function(h){return arguments.length?(c=Math.min(1,l=+h),d()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),d()):c},e.paddingOuter=function(h){return arguments.length?(l=+h,d()):l},e.align=function(h){return arguments.length?(u=Math.max(0,Math.min(1,h)),d()):u},e.copy=function(){return so(t(),[r,o]).round(s).paddingInner(c).paddingOuter(l).align(u)},Ge.apply(d(),arguments)}function Fs(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return Fs(t())},e}function bm(){return Fs(so.apply(null,arguments).paddingInner(1))}function lo(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Hs(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function hn(){}var Qt=.7,Rn=1/Qt,Ct="\\s*([+-]?\\d+)\\s*",Zt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Le="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",vm=/^#([0-9a-f]{3,8})$/,wm=new RegExp(`^rgb\\(${Ct},${Ct},${Ct}\\)$`),Sm=new RegExp(`^rgb\\(${Le},${Le},${Le}\\)$`),Cm=new RegExp(`^rgba\\(${Ct},${Ct},${Ct},${Zt}\\)$`),Pm=new RegExp(`^rgba\\(${Le},${Le},${Le},${Zt}\\)$`),Mm=new RegExp(`^hsl\\(${Zt},${Le},${Le}\\)$`),Am=new RegExp(`^hsla\\(${Zt},${Le},${Le},${Zt}\\)$`),fa={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};lo(hn,Jt,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:ha,formatHex:ha,formatHex8:jm,formatHsl:Tm,formatRgb:pa,toString:pa});function ha(){return this.rgb().formatHex()}function jm(){return this.rgb().formatHex8()}function Tm(){return Vs(this).formatHsl()}function pa(){return this.rgb().formatRgb()}function Jt(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=vm.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?ma(t):n===3?new Ce(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?xn(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?xn(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=wm.exec(e))?new Ce(t[1],t[2],t[3],1):(t=Sm.exec(e))?new Ce(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Cm.exec(e))?xn(t[1],t[2],t[3],t[4]):(t=Pm.exec(e))?xn(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Mm.exec(e))?xa(t[1],t[2]/100,t[3]/100,1):(t=Am.exec(e))?xa(t[1],t[2]/100,t[3]/100,t[4]):fa.hasOwnProperty(e)?ma(fa[e]):e==="transparent"?new Ce(NaN,NaN,NaN,0):null}function ma(e){return new Ce(e>>16&255,e>>8&255,e&255,1)}function xn(e,t,n,r){return r<=0&&(e=t=n=NaN),new Ce(e,t,n,r)}function _m(e){return e instanceof hn||(e=Jt(e)),e?(e=e.rgb(),new Ce(e.r,e.g,e.b,e.opacity)):new Ce}function Br(e,t,n,r){return arguments.length===1?_m(e):new Ce(e,t,n,r??1)}function Ce(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}lo(Ce,Br,Hs(hn,{brighter(e){return e=e==null?Rn:Math.pow(Rn,e),new Ce(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Qt:Math.pow(Qt,e),new Ce(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ce(at(this.r),at(this.g),at(this.b),Dn(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ga,formatHex:ga,formatHex8:km,formatRgb:ya,toString:ya}));function ga(){return`#${nt(this.r)}${nt(this.g)}${nt(this.b)}`}function km(){return`#${nt(this.r)}${nt(this.g)}${nt(this.b)}${nt((isNaN(this.opacity)?1:this.opacity)*255)}`}function ya(){const e=Dn(this.opacity);return`${e===1?"rgb(":"rgba("}${at(this.r)}, ${at(this.g)}, ${at(this.b)}${e===1?")":`, ${e})`}`}function Dn(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function at(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function nt(e){return e=at(e),(e<16?"0":"")+e.toString(16)}function xa(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Ne(e,t,n,r)}function Vs(e){if(e instanceof Ne)return new Ne(e.h,e.s,e.l,e.opacity);if(e instanceof hn||(e=Jt(e)),!e)return new Ne;if(e instanceof Ne)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,o=Math.min(t,n,r),a=Math.max(t,n,r),i=NaN,s=a-o,c=(a+o)/2;return s?(t===a?i=(n-r)/s+(n<r)*6:n===a?i=(r-t)/s+2:i=(t-n)/s+4,s/=c<.5?a+o:2-a-o,i*=60):s=c>0&&c<1?0:i,new Ne(i,s,c,e.opacity)}function Om(e,t,n,r){return arguments.length===1?Vs(e):new Ne(e,t,n,r??1)}function Ne(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}lo(Ne,Om,Hs(hn,{brighter(e){return e=e==null?Rn:Math.pow(Rn,e),new Ne(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Qt:Math.pow(Qt,e),new Ne(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,o=2*n-r;return new Ce(vr(e>=240?e-240:e+120,o,r),vr(e,o,r),vr(e<120?e+240:e-120,o,r),this.opacity)},clamp(){return new Ne(ba(this.h),bn(this.s),bn(this.l),Dn(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Dn(this.opacity);return`${e===1?"hsl(":"hsla("}${ba(this.h)}, ${bn(this.s)*100}%, ${bn(this.l)*100}%${e===1?")":`, ${e})`}`}}));function ba(e){return e=(e||0)%360,e<0?e+360:e}function bn(e){return Math.max(0,Math.min(1,e||0))}function vr(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const co=e=>()=>e;function Im(e,t){return function(n){return e+n*t}}function Em(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function Nm(e){return(e=+e)==1?Ws:function(t,n){return n-t?Em(t,n,e):co(isNaN(t)?n:t)}}function Ws(e,t){var n=t-e;return n?Im(e,n):co(isNaN(e)?t:e)}const va=function e(t){var n=Nm(t);function r(o,a){var i=n((o=Br(o)).r,(a=Br(a)).r),s=n(o.g,a.g),c=n(o.b,a.b),l=Ws(o.opacity,a.opacity);return function(u){return o.r=i(u),o.g=s(u),o.b=c(u),o.opacity=l(u),o+""}}return r.gamma=e,r}(1);function $m(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),o;return function(a){for(o=0;o<n;++o)r[o]=e[o]*(1-a)+t[o]*a;return r}}function Rm(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Dm(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,o=new Array(r),a=new Array(n),i;for(i=0;i<r;++i)o[i]=Kn(e[i],t[i]);for(;i<n;++i)a[i]=t[i];return function(s){for(i=0;i<r;++i)a[i]=o[i](s);return a}}function Bs(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function en(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Lm(e,t){var n={},r={},o;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(o in t)o in e?n[o]=Kn(e[o],t[o]):r[o]=t[o];return function(a){for(o in n)r[o]=n[o](a);return r}}var Xr=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,wr=new RegExp(Xr.source,"g");function zm(e){return function(){return e}}function Um(e){return function(t){return e(t)+""}}function Fm(e,t){var n=Xr.lastIndex=wr.lastIndex=0,r,o,a,i=-1,s=[],c=[];for(e=e+"",t=t+"";(r=Xr.exec(e))&&(o=wr.exec(t));)(a=o.index)>n&&(a=t.slice(n,a),s[i]?s[i]+=a:s[++i]=a),(r=r[0])===(o=o[0])?s[i]?s[i]+=o:s[++i]=o:(s[++i]=null,c.push({i,x:en(r,o)})),n=wr.lastIndex;return n<t.length&&(a=t.slice(n),s[i]?s[i]+=a:s[++i]=a),s.length<2?c[0]?Um(c[0].x):zm(t):(t=c.length,function(l){for(var u=0,d;u<t;++u)s[(d=c[u]).i]=d.x(l);return s.join("")})}function Kn(e,t){var n=typeof t,r;return t==null||n==="boolean"?co(t):(n==="number"?en:n==="string"?(r=Jt(t))?(t=r,va):Fm:t instanceof Jt?va:t instanceof Date?Bs:Rm(t)?$m:Array.isArray(t)?Dm:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Lm:en)(e,t)}function Xs(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function Hm(e){return function(){return e}}function Vm(e){return+e}var wa=[0,1];function _e(e){return e}function Yr(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:Hm(isNaN(t)?NaN:.5)}function Wm(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function Bm(e,t,n){var r=e[0],o=e[1],a=t[0],i=t[1];return o<r?(r=Yr(o,r),a=n(i,a)):(r=Yr(r,o),a=n(a,i)),function(s){return a(r(s))}}function Xm(e,t,n){var r=Math.min(e.length,t.length)-1,o=new Array(r),a=new Array(r),i=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++i<r;)o[i]=Yr(e[i],e[i+1]),a[i]=n(t[i],t[i+1]);return function(s){var c=Us(e,s,1,r)-1;return a[c](o[c](s))}}function Qn(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function uo(){var e=wa,t=wa,n=Kn,r,o,a,i=_e,s,c,l;function u(){var h=Math.min(e.length,t.length);return i!==_e&&(i=Wm(e[0],e[h-1])),s=h>2?Xm:Bm,c=l=null,d}function d(h){return h==null||isNaN(h=+h)?a:(c||(c=s(e.map(r),t,n)))(r(i(h)))}return d.invert=function(h){return i(o((l||(l=s(t,e.map(r),en)))(h)))},d.domain=function(h){return arguments.length?(e=Array.from(h,Vm),u()):e.slice()},d.range=function(h){return arguments.length?(t=Array.from(h),u()):t.slice()},d.rangeRound=function(h){return t=Array.from(h),n=Xs,u()},d.clamp=function(h){return arguments.length?(i=h?!0:_e,u()):i!==_e},d.interpolate=function(h){return arguments.length?(n=h,u()):n},d.unknown=function(h){return arguments.length?(a=h,d):a},function(h,p){return r=h,o=p,u()}}function Ys(){return uo()(_e,_e)}function Ym(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Ln(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function _t(e){return e=Ln(Math.abs(e)),e?e[1]:NaN}function qm(e,t){return function(n,r){for(var o=n.length,a=[],i=0,s=e[0],c=0;o>0&&s>0&&(c+s+1>r&&(s=Math.max(1,r-c)),a.push(n.substring(o-=s,o+s)),!((c+=s+1)>r));)s=e[i=(i+1)%e.length];return a.reverse().join(t)}}function Gm(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var Km=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function tn(e){if(!(t=Km.exec(e)))throw new Error("invalid format: "+e);var t;return new fo({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}tn.prototype=fo.prototype;function fo(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}fo.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Qm(e){e:for(var t=e.length,n=1,r=-1,o;n<t;++n)switch(e[n]){case".":r=o=n;break;case"0":r===0&&(r=n),o=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(o+1):e}var qs;function Zm(e,t){var n=Ln(e,t);if(!n)return e+"";var r=n[0],o=n[1],a=o-(qs=Math.max(-8,Math.min(8,Math.floor(o/3)))*3)+1,i=r.length;return a===i?r:a>i?r+new Array(a-i+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+Ln(e,Math.max(0,t+a-1))[0]}function Sa(e,t){var n=Ln(e,t);if(!n)return e+"";var r=n[0],o=n[1];return o<0?"0."+new Array(-o).join("0")+r:r.length>o+1?r.slice(0,o+1)+"."+r.slice(o+1):r+new Array(o-r.length+2).join("0")}const Ca={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Ym,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Sa(e*100,t),r:Sa,s:Zm,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Pa(e){return e}var Ma=Array.prototype.map,Aa=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Jm(e){var t=e.grouping===void 0||e.thousands===void 0?Pa:qm(Ma.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",o=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?Pa:Gm(Ma.call(e.numerals,String)),i=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"−":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function l(d){d=tn(d);var h=d.fill,p=d.align,m=d.sign,g=d.symbol,y=d.zero,x=d.width,S=d.comma,w=d.precision,P=d.trim,M=d.type;M==="n"?(S=!0,M="g"):Ca[M]||(w===void 0&&(w=12),P=!0,M="g"),(y||h==="0"&&p==="=")&&(y=!0,h="0",p="=");var b=g==="$"?n:g==="#"&&/[boxX]/.test(M)?"0"+M.toLowerCase():"",_=g==="$"?r:/[%p]/.test(M)?i:"",T=Ca[M],$=/[defgprs%]/.test(M);w=w===void 0?6:/[gprs]/.test(M)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function O(A){var N=b,j=_,I,D,R;if(M==="c")j=T(A)+j,A="";else{A=+A;var U=A<0||1/A<0;if(A=isNaN(A)?c:T(Math.abs(A),w),P&&(A=Qm(A)),U&&+A==0&&m!=="+"&&(U=!1),N=(U?m==="("?m:s:m==="-"||m==="("?"":m)+N,j=(M==="s"?Aa[8+qs/3]:"")+j+(U&&m==="("?")":""),$){for(I=-1,D=A.length;++I<D;)if(R=A.charCodeAt(I),48>R||R>57){j=(R===46?o+A.slice(I+1):A.slice(I))+j,A=A.slice(0,I);break}}}S&&!y&&(A=t(A,1/0));var F=N.length+A.length+j.length,V=F<x?new Array(x-F+1).join(h):"";switch(S&&y&&(A=t(V+A,V.length?x-j.length:1/0),V=""),p){case"<":A=N+A+j+V;break;case"=":A=N+V+A+j;break;case"^":A=V.slice(0,F=V.length>>1)+N+A+j+V.slice(F);break;default:A=V+N+A+j;break}return a(A)}return O.toString=function(){return d+""},O}function u(d,h){var p=l((d=tn(d),d.type="f",d)),m=Math.max(-8,Math.min(8,Math.floor(_t(h)/3)))*3,g=Math.pow(10,-m),y=Aa[8+m/3];return function(x){return p(g*x)+y}}return{format:l,formatPrefix:u}}var vn,ho,Gs;eg({thousands:",",grouping:[3],currency:["$",""]});function eg(e){return vn=Jm(e),ho=vn.format,Gs=vn.formatPrefix,vn}function tg(e){return Math.max(0,-_t(Math.abs(e)))}function ng(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(_t(t)/3)))*3-_t(Math.abs(e)))}function rg(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,_t(t)-_t(e))+1}function og(e,t,n,r){var o=Wr(e,t,n),a;switch(r=tn(r??",f"),r.type){case"s":{var i=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(a=ng(o,i))&&(r.precision=a),Gs(r,i)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=rg(o,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=tg(o))&&(r.precision=a-(r.type==="%")*2);break}}return ho(r)}function po(e){var t=e.domain;return e.ticks=function(n){var r=t();return Hr(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var o=t();return og(o[0],o[o.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),o=0,a=r.length-1,i=r[o],s=r[a],c,l,u=10;for(s<i&&(l=i,i=s,s=l,l=o,o=a,a=l);u-- >0;){if(l=Vr(i,s,n),l===c)return r[o]=i,r[a]=s,t(r);if(l>0)i=Math.floor(i/l)*l,s=Math.ceil(s/l)*l;else if(l<0)i=Math.ceil(i*l)/l,s=Math.floor(s*l)/l;else break;c=l}return e},e}function Ks(){var e=Ys();return e.copy=function(){return Qn(e,Ks())},Ge.apply(e,arguments),po(e)}function Qs(e,t){e=e.slice();var n=0,r=e.length-1,o=e[n],a=e[r],i;return a<o&&(i=n,n=r,r=i,i=o,o=a,a=i),e[n]=t.floor(o),e[r]=t.ceil(a),e}function ja(e){return Math.log(e)}function Ta(e){return Math.exp(e)}function ag(e){return-Math.log(-e)}function ig(e){return-Math.exp(-e)}function sg(e){return isFinite(e)?+("1e"+e):e<0?0:e}function lg(e){return e===10?sg:e===Math.E?Math.exp:t=>Math.pow(e,t)}function cg(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function _a(e){return(t,n)=>-e(-t,n)}function ug(e){const t=e(ja,Ta),n=t.domain;let r=10,o,a;function i(){return o=cg(r),a=lg(r),n()[0]<0?(o=_a(o),a=_a(a),e(ag,ig)):e(ja,Ta),t}return t.base=function(s){return arguments.length?(r=+s,i()):r},t.domain=function(s){return arguments.length?(n(s),i()):n()},t.ticks=s=>{const c=n();let l=c[0],u=c[c.length-1];const d=u<l;d&&([l,u]=[u,l]);let h=o(l),p=o(u),m,g;const y=s==null?10:+s;let x=[];if(!(r%1)&&p-h<y){if(h=Math.floor(h),p=Math.ceil(p),l>0){for(;h<=p;++h)for(m=1;m<r;++m)if(g=h<0?m/a(-h):m*a(h),!(g<l)){if(g>u)break;x.push(g)}}else for(;h<=p;++h)for(m=r-1;m>=1;--m)if(g=h>0?m/a(-h):m*a(h),!(g<l)){if(g>u)break;x.push(g)}x.length*2<y&&(x=Hr(l,u,y))}else x=Hr(h,p,Math.min(p-h,y)).map(a);return d?x.reverse():x},t.tickFormat=(s,c)=>{if(s==null&&(s=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=tn(c)).precision==null&&(c.trim=!0),c=ho(c)),s===1/0)return c;const l=Math.max(1,r*s/t.ticks().length);return u=>{let d=u/a(Math.round(o(u)));return d*r<r-.5&&(d*=r),d<=l?c(u):""}},t.nice=()=>n(Qs(n(),{floor:s=>a(Math.floor(o(s))),ceil:s=>a(Math.ceil(o(s)))})),t}function Zs(){const e=ug(uo()).domain([1,10]);return e.copy=()=>Qn(e,Zs()).base(e.base()),Ge.apply(e,arguments),e}function ka(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function dg(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function fg(e){return e<0?-e*e:e*e}function hg(e){var t=e(_e,_e),n=1;function r(){return n===1?e(_e,_e):n===.5?e(dg,fg):e(ka(n),ka(1/n))}return t.exponent=function(o){return arguments.length?(n=+o,r()):n},po(t)}function mo(){var e=hg(uo());return e.copy=function(){return Qn(e,mo()).exponent(e.exponent())},Ge.apply(e,arguments),e}function pg(){return mo.apply(null,arguments).exponent(.5)}function Js(){var e=[.5],t=[0,1],n,r=1;function o(a){return a!=null&&a<=a?t[Us(e,a,0,r)]:n}return o.domain=function(a){return arguments.length?(e=Array.from(a),r=Math.min(e.length,t.length-1),o):e.slice()},o.range=function(a){return arguments.length?(t=Array.from(a),r=Math.min(e.length,t.length-1),o):t.slice()},o.invertExtent=function(a){var i=t.indexOf(a);return[e[i-1],e[i]]},o.unknown=function(a){return arguments.length?(n=a,o):n},o.copy=function(){return Js().domain(e).range(t).unknown(n)},Ge.apply(o,arguments)}const Sr=new Date,Cr=new Date;function oe(e,t,n,r){function o(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return o.floor=a=>(e(a=new Date(+a)),a),o.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),o.round=a=>{const i=o(a),s=o.ceil(a);return a-i<s-a?i:s},o.offset=(a,i)=>(t(a=new Date(+a),i==null?1:Math.floor(i)),a),o.range=(a,i,s)=>{const c=[];if(a=o.ceil(a),s=s==null?1:Math.floor(s),!(a<i)||!(s>0))return c;let l;do c.push(l=new Date(+a)),t(a,s),e(a);while(l<a&&a<i);return c},o.filter=a=>oe(i=>{if(i>=i)for(;e(i),!a(i);)i.setTime(i-1)},(i,s)=>{if(i>=i)if(s<0)for(;++s<=0;)for(;t(i,-1),!a(i););else for(;--s>=0;)for(;t(i,1),!a(i););}),n&&(o.count=(a,i)=>(Sr.setTime(+a),Cr.setTime(+i),e(Sr),e(Cr),Math.floor(n(Sr,Cr))),o.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?o.filter(r?i=>r(i)%a===0:i=>o.count(0,i)%a===0):o)),o}const zn=oe(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);zn.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?oe(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):zn);zn.range;const Ue=1e3,ke=Ue*60,Fe=ke*60,We=Fe*24,go=We*7,Oa=We*30,Pr=We*365,rt=oe(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Ue)},(e,t)=>(t-e)/Ue,e=>e.getUTCSeconds());rt.range;const yo=oe(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ue)},(e,t)=>{e.setTime(+e+t*ke)},(e,t)=>(t-e)/ke,e=>e.getMinutes());yo.range;const xo=oe(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*ke)},(e,t)=>(t-e)/ke,e=>e.getUTCMinutes());xo.range;const bo=oe(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ue-e.getMinutes()*ke)},(e,t)=>{e.setTime(+e+t*Fe)},(e,t)=>(t-e)/Fe,e=>e.getHours());bo.range;const vo=oe(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Fe)},(e,t)=>(t-e)/Fe,e=>e.getUTCHours());vo.range;const pn=oe(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*ke)/We,e=>e.getDate()-1);pn.range;const Zn=oe(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/We,e=>e.getUTCDate()-1);Zn.range;const el=oe(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/We,e=>Math.floor(e/We));el.range;function ct(e){return oe(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*ke)/go)}const Jn=ct(0),Un=ct(1),mg=ct(2),gg=ct(3),kt=ct(4),yg=ct(5),xg=ct(6);Jn.range;Un.range;mg.range;gg.range;kt.range;yg.range;xg.range;function ut(e){return oe(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/go)}const er=ut(0),Fn=ut(1),bg=ut(2),vg=ut(3),Ot=ut(4),wg=ut(5),Sg=ut(6);er.range;Fn.range;bg.range;vg.range;Ot.range;wg.range;Sg.range;const wo=oe(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());wo.range;const So=oe(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());So.range;const Be=oe(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Be.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:oe(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Be.range;const Xe=oe(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Xe.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:oe(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});Xe.range;function tl(e,t,n,r,o,a){const i=[[rt,1,Ue],[rt,5,5*Ue],[rt,15,15*Ue],[rt,30,30*Ue],[a,1,ke],[a,5,5*ke],[a,15,15*ke],[a,30,30*ke],[o,1,Fe],[o,3,3*Fe],[o,6,6*Fe],[o,12,12*Fe],[r,1,We],[r,2,2*We],[n,1,go],[t,1,Oa],[t,3,3*Oa],[e,1,Pr]];function s(l,u,d){const h=u<l;h&&([l,u]=[u,l]);const p=d&&typeof d.range=="function"?d:c(l,u,d),m=p?p.range(l,+u+1):[];return h?m.reverse():m}function c(l,u,d){const h=Math.abs(u-l)/d,p=io(([,,y])=>y).right(i,h);if(p===i.length)return e.every(Wr(l/Pr,u/Pr,d));if(p===0)return zn.every(Math.max(Wr(l,u,d),1));const[m,g]=i[h/i[p-1][2]<i[p][2]/h?p-1:p];return m.every(g)}return[s,c]}const[Cg,Pg]=tl(Xe,So,er,el,vo,xo),[Mg,Ag]=tl(Be,wo,Jn,pn,bo,yo);function Mr(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Ar(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Rt(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function jg(e){var t=e.dateTime,n=e.date,r=e.time,o=e.periods,a=e.days,i=e.shortDays,s=e.months,c=e.shortMonths,l=Dt(o),u=Lt(o),d=Dt(a),h=Lt(a),p=Dt(i),m=Lt(i),g=Dt(s),y=Lt(s),x=Dt(c),S=Lt(c),w={a:U,A:F,b:V,B:Y,c:null,d:Da,e:Da,f:Kg,g:iy,G:ly,H:Yg,I:qg,j:Gg,L:nl,m:Qg,M:Zg,p:ae,q:K,Q:Ua,s:Fa,S:Jg,u:ey,U:ty,V:ny,w:ry,W:oy,x:null,X:null,y:ay,Y:sy,Z:cy,"%":za},P={a:pe,A:ce,b:Q,B:be,c:null,d:La,e:La,f:hy,g:Cy,G:My,H:uy,I:dy,j:fy,L:ol,m:py,M:my,p:W,q:H,Q:Ua,s:Fa,S:gy,u:yy,U:xy,V:by,w:vy,W:wy,x:null,X:null,y:Sy,Y:Py,Z:Ay,"%":za},M={a:O,A,b:N,B:j,c:I,d:$a,e:$a,f:Vg,g:Na,G:Ea,H:Ra,I:Ra,j:zg,L:Hg,m:Lg,M:Ug,p:$,q:Dg,Q:Bg,s:Xg,S:Fg,u:Ig,U:Eg,V:Ng,w:Og,W:$g,x:D,X:R,y:Na,Y:Ea,Z:Rg,"%":Wg};w.x=b(n,w),w.X=b(r,w),w.c=b(t,w),P.x=b(n,P),P.X=b(r,P),P.c=b(t,P);function b(E,L){return function(z){var k=[],q=-1,X=0,ue=E.length,ie,Te,ht;for(z instanceof Date||(z=new Date(+z));++q<ue;)E.charCodeAt(q)===37&&(k.push(E.slice(X,q)),(Te=Ia[ie=E.charAt(++q)])!=null?ie=E.charAt(++q):Te=ie==="e"?" ":"0",(ht=L[ie])&&(ie=ht(z,Te)),k.push(ie),X=q+1);return k.push(E.slice(X,q)),k.join("")}}function _(E,L){return function(z){var k=Rt(1900,void 0,1),q=T(k,E,z+="",0),X,ue;if(q!=z.length)return null;if("Q"in k)return new Date(k.Q);if("s"in k)return new Date(k.s*1e3+("L"in k?k.L:0));if(L&&!("Z"in k)&&(k.Z=0),"p"in k&&(k.H=k.H%12+k.p*12),k.m===void 0&&(k.m="q"in k?k.q:0),"V"in k){if(k.V<1||k.V>53)return null;"w"in k||(k.w=1),"Z"in k?(X=Ar(Rt(k.y,0,1)),ue=X.getUTCDay(),X=ue>4||ue===0?Fn.ceil(X):Fn(X),X=Zn.offset(X,(k.V-1)*7),k.y=X.getUTCFullYear(),k.m=X.getUTCMonth(),k.d=X.getUTCDate()+(k.w+6)%7):(X=Mr(Rt(k.y,0,1)),ue=X.getDay(),X=ue>4||ue===0?Un.ceil(X):Un(X),X=pn.offset(X,(k.V-1)*7),k.y=X.getFullYear(),k.m=X.getMonth(),k.d=X.getDate()+(k.w+6)%7)}else("W"in k||"U"in k)&&("w"in k||(k.w="u"in k?k.u%7:"W"in k?1:0),ue="Z"in k?Ar(Rt(k.y,0,1)).getUTCDay():Mr(Rt(k.y,0,1)).getDay(),k.m=0,k.d="W"in k?(k.w+6)%7+k.W*7-(ue+5)%7:k.w+k.U*7-(ue+6)%7);return"Z"in k?(k.H+=k.Z/100|0,k.M+=k.Z%100,Ar(k)):Mr(k)}}function T(E,L,z,k){for(var q=0,X=L.length,ue=z.length,ie,Te;q<X;){if(k>=ue)return-1;if(ie=L.charCodeAt(q++),ie===37){if(ie=L.charAt(q++),Te=M[ie in Ia?L.charAt(q++):ie],!Te||(k=Te(E,z,k))<0)return-1}else if(ie!=z.charCodeAt(k++))return-1}return k}function $(E,L,z){var k=l.exec(L.slice(z));return k?(E.p=u.get(k[0].toLowerCase()),z+k[0].length):-1}function O(E,L,z){var k=p.exec(L.slice(z));return k?(E.w=m.get(k[0].toLowerCase()),z+k[0].length):-1}function A(E,L,z){var k=d.exec(L.slice(z));return k?(E.w=h.get(k[0].toLowerCase()),z+k[0].length):-1}function N(E,L,z){var k=x.exec(L.slice(z));return k?(E.m=S.get(k[0].toLowerCase()),z+k[0].length):-1}function j(E,L,z){var k=g.exec(L.slice(z));return k?(E.m=y.get(k[0].toLowerCase()),z+k[0].length):-1}function I(E,L,z){return T(E,t,L,z)}function D(E,L,z){return T(E,n,L,z)}function R(E,L,z){return T(E,r,L,z)}function U(E){return i[E.getDay()]}function F(E){return a[E.getDay()]}function V(E){return c[E.getMonth()]}function Y(E){return s[E.getMonth()]}function ae(E){return o[+(E.getHours()>=12)]}function K(E){return 1+~~(E.getMonth()/3)}function pe(E){return i[E.getUTCDay()]}function ce(E){return a[E.getUTCDay()]}function Q(E){return c[E.getUTCMonth()]}function be(E){return s[E.getUTCMonth()]}function W(E){return o[+(E.getUTCHours()>=12)]}function H(E){return 1+~~(E.getUTCMonth()/3)}return{format:function(E){var L=b(E+="",w);return L.toString=function(){return E},L},parse:function(E){var L=_(E+="",!1);return L.toString=function(){return E},L},utcFormat:function(E){var L=b(E+="",P);return L.toString=function(){return E},L},utcParse:function(E){var L=_(E+="",!0);return L.toString=function(){return E},L}}}var Ia={"-":"",_:" ",0:"0"},le=/^\s*\d+/,Tg=/^%/,_g=/[\\^$*+?|[\]().{}]/g;function B(e,t,n){var r=e<0?"-":"",o=(r?-e:e)+"",a=o.length;return r+(a<n?new Array(n-a+1).join(t)+o:o)}function kg(e){return e.replace(_g,"\\$&")}function Dt(e){return new RegExp("^(?:"+e.map(kg).join("|")+")","i")}function Lt(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function Og(e,t,n){var r=le.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function Ig(e,t,n){var r=le.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function Eg(e,t,n){var r=le.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function Ng(e,t,n){var r=le.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function $g(e,t,n){var r=le.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function Ea(e,t,n){var r=le.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function Na(e,t,n){var r=le.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Rg(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Dg(e,t,n){var r=le.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function Lg(e,t,n){var r=le.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function $a(e,t,n){var r=le.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function zg(e,t,n){var r=le.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function Ra(e,t,n){var r=le.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function Ug(e,t,n){var r=le.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function Fg(e,t,n){var r=le.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function Hg(e,t,n){var r=le.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function Vg(e,t,n){var r=le.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Wg(e,t,n){var r=Tg.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function Bg(e,t,n){var r=le.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function Xg(e,t,n){var r=le.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function Da(e,t){return B(e.getDate(),t,2)}function Yg(e,t){return B(e.getHours(),t,2)}function qg(e,t){return B(e.getHours()%12||12,t,2)}function Gg(e,t){return B(1+pn.count(Be(e),e),t,3)}function nl(e,t){return B(e.getMilliseconds(),t,3)}function Kg(e,t){return nl(e,t)+"000"}function Qg(e,t){return B(e.getMonth()+1,t,2)}function Zg(e,t){return B(e.getMinutes(),t,2)}function Jg(e,t){return B(e.getSeconds(),t,2)}function ey(e){var t=e.getDay();return t===0?7:t}function ty(e,t){return B(Jn.count(Be(e)-1,e),t,2)}function rl(e){var t=e.getDay();return t>=4||t===0?kt(e):kt.ceil(e)}function ny(e,t){return e=rl(e),B(kt.count(Be(e),e)+(Be(e).getDay()===4),t,2)}function ry(e){return e.getDay()}function oy(e,t){return B(Un.count(Be(e)-1,e),t,2)}function ay(e,t){return B(e.getFullYear()%100,t,2)}function iy(e,t){return e=rl(e),B(e.getFullYear()%100,t,2)}function sy(e,t){return B(e.getFullYear()%1e4,t,4)}function ly(e,t){var n=e.getDay();return e=n>=4||n===0?kt(e):kt.ceil(e),B(e.getFullYear()%1e4,t,4)}function cy(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+B(t/60|0,"0",2)+B(t%60,"0",2)}function La(e,t){return B(e.getUTCDate(),t,2)}function uy(e,t){return B(e.getUTCHours(),t,2)}function dy(e,t){return B(e.getUTCHours()%12||12,t,2)}function fy(e,t){return B(1+Zn.count(Xe(e),e),t,3)}function ol(e,t){return B(e.getUTCMilliseconds(),t,3)}function hy(e,t){return ol(e,t)+"000"}function py(e,t){return B(e.getUTCMonth()+1,t,2)}function my(e,t){return B(e.getUTCMinutes(),t,2)}function gy(e,t){return B(e.getUTCSeconds(),t,2)}function yy(e){var t=e.getUTCDay();return t===0?7:t}function xy(e,t){return B(er.count(Xe(e)-1,e),t,2)}function al(e){var t=e.getUTCDay();return t>=4||t===0?Ot(e):Ot.ceil(e)}function by(e,t){return e=al(e),B(Ot.count(Xe(e),e)+(Xe(e).getUTCDay()===4),t,2)}function vy(e){return e.getUTCDay()}function wy(e,t){return B(Fn.count(Xe(e)-1,e),t,2)}function Sy(e,t){return B(e.getUTCFullYear()%100,t,2)}function Cy(e,t){return e=al(e),B(e.getUTCFullYear()%100,t,2)}function Py(e,t){return B(e.getUTCFullYear()%1e4,t,4)}function My(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Ot(e):Ot.ceil(e),B(e.getUTCFullYear()%1e4,t,4)}function Ay(){return"+0000"}function za(){return"%"}function Ua(e){return+e}function Fa(e){return Math.floor(+e/1e3)}var yt,il,sl;jy({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function jy(e){return yt=jg(e),il=yt.format,yt.parse,sl=yt.utcFormat,yt.utcParse,yt}function Ty(e){return new Date(e)}function _y(e){return e instanceof Date?+e:+new Date(+e)}function Co(e,t,n,r,o,a,i,s,c,l){var u=Ys(),d=u.invert,h=u.domain,p=l(".%L"),m=l(":%S"),g=l("%I:%M"),y=l("%I %p"),x=l("%a %d"),S=l("%b %d"),w=l("%B"),P=l("%Y");function M(b){return(c(b)<b?p:s(b)<b?m:i(b)<b?g:a(b)<b?y:r(b)<b?o(b)<b?x:S:n(b)<b?w:P)(b)}return u.invert=function(b){return new Date(d(b))},u.domain=function(b){return arguments.length?h(Array.from(b,_y)):h().map(Ty)},u.ticks=function(b){var _=h();return e(_[0],_[_.length-1],b??10)},u.tickFormat=function(b,_){return _==null?M:l(_)},u.nice=function(b){var _=h();return(!b||typeof b.range!="function")&&(b=t(_[0],_[_.length-1],b??10)),b?h(Qs(_,b)):u},u.copy=function(){return Qn(u,Co(e,t,n,r,o,a,i,s,c,l))},u}function ll(){return Ge.apply(Co(Mg,Ag,Be,wo,Jn,pn,bo,yo,rt,il).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function ky(){return Ge.apply(Co(Cg,Pg,Xe,So,er,Zn,vo,xo,rt,sl).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Oy(){var e=0,t=1,n,r,o,a,i=_e,s=!1,c;function l(d){return d==null||isNaN(d=+d)?c:i(o===0?.5:(d=(a(d)-n)*o,s?Math.max(0,Math.min(1,d)):d))}l.domain=function(d){return arguments.length?([e,t]=d,n=a(e=+e),r=a(t=+t),o=n===r?0:1/(r-n),l):[e,t]},l.clamp=function(d){return arguments.length?(s=!!d,l):s},l.interpolator=function(d){return arguments.length?(i=d,l):i};function u(d){return function(h){var p,m;return arguments.length?([p,m]=h,i=d(p,m),l):[i(0),i(1)]}}return l.range=u(Kn),l.rangeRound=u(Xs),l.unknown=function(d){return arguments.length?(c=d,l):c},function(d){return a=d,n=d(e),r=d(t),o=n===r?0:1/(r-n),l}}function Iy(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function cl(){var e=po(Oy()(_e));return e.copy=function(){return Iy(e,cl())},xm.apply(e,arguments)}function Ey(e){return e.type==="piecewise"?Js(e.thresholds,e.colors):cl([e.min??0,e.max??100],e.color)}function Hn(e){return e.values?$n(e.values,e.colors).unknown(e.unknownColor??null):$n(e.colors.map((t,n)=>n),e.colors).unknown(e.unknownColor??null)}function _n(e){return e.type==="ordinal"?Hn(e):Ey(e)}const Po=v.createContext({zAxis:{},zAxisIds:[]});function Ny(e){const{zAxis:t,dataset:n,children:r}=e,o=v.useMemo(()=>t==null?void 0:t.map(i=>{const s=i.dataKey;if(s===void 0||i.data!==void 0)return i;if(n===void 0)throw new Error("MUI X: z-axis uses `dataKey` but no `dataset` is provided.");return C({},i,{data:n.map(c=>c[s])})}),[t,n]),a=v.useMemo(()=>{const i=(o==null?void 0:o.map((c,l)=>C({id:`defaultized-z-axis-${l}`},c)))??[],s={};return i.forEach(c=>{s[c.id]=C({},c,{colorScale:c.colorMap&&(c.colorMap.type==="ordinal"&&c.data?Hn(C({values:c.data},c.colorMap)):_n(c.colorMap.type==="continuous"?C({min:c.min,max:c.max},c.colorMap):c.colorMap))})}),{zAxis:s,zAxisIds:i.map(({id:c})=>c)}},[o]);return f.jsx(Po.Provider,{value:a,children:r})}let Ha=0;function $y(e){const[t,n]=v.useState(e),r=t;return v.useEffect(()=>{t==null&&(Ha+=1,n(`mui-${Ha}`))},[t]),r}const Va=Il.useId;function Ry(e){return Va!==void 0?Va():$y(e)}const Dy=(e,t,n)=>{const r=C({},Gh,n);return v.useMemo(()=>({left:r.left,top:r.top,right:r.right,bottom:r.bottom,width:Math.max(0,e-r.left-r.right),height:Math.max(0,t-r.top-r.bottom)}),[e,t,r.top,r.bottom,r.left,r.right])},tr=v.createContext({top:0,left:0,bottom:0,right:0,height:300,width:400,chartId:"",isPointInside:()=>!1}),ul=v.createContext({isInitialized:!1,data:{current:null}});function Ly(e){const{width:t,height:n,margin:r,svgRef:o,children:a}=e,i=Dy(t,n,r),s=Ry(),c=v.useCallback(({x:d,y:h},p)=>{if(p!=null&&p.targetElement&&(p!=null&&p.targetElement.closest("[data-drawing-container]")))return!0;const m=d>=i.left-1&&d<=i.left+i.width,g=h>=i.top-1&&h<=i.top+i.height;return(p==null?void 0:p.direction)==="x"?m:((p==null?void 0:p.direction)==="y"||m)&&g},[i]),l=v.useMemo(()=>C({chartId:s??""},i,{isPointInside:c}),[s,i,c]),u=v.useMemo(()=>({isInitialized:!0,data:o}),[o]);return f.jsx(ul.Provider,{value:u,children:f.jsx(tr.Provider,{value:l,children:a})})}function Ye(){const{left:e,top:t,width:n,height:r,bottom:o,right:a,isPointInside:i}=v.useContext(tr);return v.useMemo(()=>({left:e,top:t,width:n,height:r,bottom:o,right:a,isPointInside:i}),[r,e,t,n,o,a,i])}function st(e){return e.bandwidth!==void 0}function zy(e){return e.scaleType==="band"}function Uy(e){return e.scaleType==="point"}function Mo(e){return typeof e=="number"&&!Number.isFinite(e)}function Fy(e){const{tickMaxStep:t,tickMinStep:n,tickNumber:r,range:o,domain:a}=e,i=n===void 0?999:Math.floor(Math.abs(a[1]-a[0])/n),s=t===void 0?2:Math.ceil(Math.abs(a[1]-a[0])/t),c=r??Math.floor(Math.abs(o[1]-o[0])/50);return Math.min(i,Math.max(s,c))}const jr={start:0,extremities:0,end:1,middle:.5};function dl(e){const{scale:t,tickNumber:n,valueFormatter:r,tickInterval:o,tickPlacement:a="extremities",tickLabelPlacement:i="middle"}=e;return v.useMemo(()=>{if(st(t)){const l=t.domain();return t.bandwidth()>0?[...(typeof o=="function"&&l.filter(o)||typeof o=="object"&&o||l).map(h=>({value:h,formattedValue:(r==null?void 0:r(h,{location:"tick"}))??`${h}`,offset:t(h)-(t.step()-t.bandwidth())/2+jr[a]*t.step(),labelOffset:i==="tick"?0:t.step()*(jr[i]-jr[a])})),...a==="extremities"?[{formattedValue:void 0,offset:t.range()[1],labelOffset:0}]:[]]:(typeof o=="function"&&l.filter(o)||typeof o=="object"&&o||l).map(d=>({value:d,formattedValue:(r==null?void 0:r(d,{location:"tick"}))??`${d}`,offset:t(d),labelOffset:0}))}return t.domain().some(Mo)?[]:(typeof o=="object"?o:t.ticks(n)).map(l=>({value:l,formattedValue:(r==null?void 0:r(l,{location:"tick"}))??t.tickFormat(n)(l),offset:t(l),labelOffset:0}))},[t,o,n,r,a,i])}function Hy(e,t,n){switch(e){case"log":return Zs(t,n);case"pow":return mo(t,n);case"sqrt":return pg(t,n);case"time":return ll(t,n);case"utc":return ky(t,n);default:return Ks(t,n)}}const Tr=(e,t)=>{const n=e[1]-e[0],r=t[1]-t[0],o=e[0]-t[0]*n/r,a=e[1]+(100-t[1])*n/r;return[o,a]},Vy=(e,t,n,r,o,a,i)=>{var p;const s=r[t],c=((p=a[t])==null?void 0:p.series)??{},[l,u]=(s==null?void 0:s({series:c,axis:n,axisIndex:o,isDefaultAxis:o===0,getFilters:i}))??[1/0,-1/0],[d,h]=e;return[Math.min(l,d),Math.max(u,h)]},Wy=(e,t,n,r,o)=>{const i=Object.keys(t).reduce((s,c)=>Vy(s,c,e,t,n,r,o),[1/0,-1/0]);return Number.isNaN(i[0])||Number.isNaN(i[1])?[1/0,-1/0]:i};function By(e,t,n){if(t==="rotation"){const{startAngle:o=0,endAngle:a=o+360}=n;return n.reverse?[Math.PI*o/180,Math.PI*a/180]:[Math.PI*a/180,Math.PI*o/180]}if(t==="radius"){const{minRadius:o=0,maxRadius:a=Math.min(e.width,e.height)/2}=n;return[o,a]}const r=t==="x"?[e.left,e.left+e.width]:[e.top+e.height,e.top];return n.reverse?[r[1],r[0]]:r}const Wa=e=>(e==null?void 0:e[0])instanceof Date;function Ba(e,t){const n=ll(e.data,t);return(r,{location:o})=>o==="tick"?n.tickFormat(e.tickNumber)(r):`${r.toLocaleString()}`}const Xy=.2,Yy=.1;function Xa({drawingArea:e,formattedSeries:t,axis:n,extremumGetters:r,axisDirection:o,zoomData:a,zoomOptions:i,getFilters:s}){const c={};return n.forEach((l,u)=>{const d=l,h=i==null?void 0:i[d.id],p=a==null?void 0:a.find(({axisId:I})=>I===d.id),m=p?[p.start,p.end]:[0,100],g=By(e,o,d),[y,x]=Wy(d,r,u,t,p===void 0&&!h?s:void 0),S=d.data??[];if(zy(d)){const I=d.categoryGapRatio??Xy,D=d.barGapRatio??Yy,R=o==="y"?[g[1],g[0]]:g,U=Tr(R,m);if(c[d.id]=C({categoryGapRatio:I,barGapRatio:D},d,{data:S,scale:so(d.data,U).paddingInner(I).paddingOuter(I/2),tickNumber:d.data.length,colorScale:d.colorMap&&(d.colorMap.type==="ordinal"?Hn(C({values:d.data},d.colorMap)):_n(d.colorMap))}),Wa(d.data)){const F=Ba(d,R);c[d.id].valueFormatter=d.valueFormatter??F}}if(Uy(d)){const I=o==="y"?[...g].reverse():g,D=Tr(I,m);if(c[d.id]=C({},d,{data:S,scale:bm(d.data,D),tickNumber:d.data.length,colorScale:d.colorMap&&(d.colorMap.type==="ordinal"?Hn(C({values:d.data},d.colorMap)):_n(d.colorMap))}),Wa(d.data)){const R=Ba(d,I);c[d.id].valueFormatter=d.valueFormatter??R}}if(d.scaleType==="band"||d.scaleType==="point")return;const w=d.scaleType??"linear",P=d.domainLimit??"nice",M=[d.min??y,d.max??x];if(typeof P=="function"){const{min:I,max:D}=P(y,x);M[0]=I,M[1]=D}const b=Fy(C({},d,{range:g,domain:M})),_=b/((m[1]-m[0])/100),T=Tr(g,m),$=Hy(w,M,T),O=P==="nice"?$.nice(b):$,[A,N]=O.domain(),j=[d.min??A,d.max??N];c[d.id]=C({},d,{data:S,scaleType:w,scale:O.domain(j),tickNumber:_,colorScale:d.colorMap&&_n(d.colorMap)})}),{axis:c,axisIds:n.map(({id:l})=>l)}}const fl=v.createContext({isInitialized:!1,data:{xAxis:{},yAxis:{},xAxisIds:[],yAxisIds:[]}});function qy(e){const{xAxis:t,yAxis:n,children:r}=e,o=lt(),a=Ye(),i=em(),s=tm(),c=v.useMemo(()=>Xa({drawingArea:a,formattedSeries:o,axis:t,extremumGetters:i,axisDirection:"x"}),[a,o,t,i]),l=v.useMemo(()=>Xa({drawingArea:a,formattedSeries:o,axis:n,extremumGetters:s,axisDirection:"y"}),[a,o,n,s]),u=v.useMemo(()=>({isInitialized:!0,data:{xAxis:c.axis,yAxis:l.axis,xAxisIds:c.axisIds,yAxisIds:l.axisIds}}),[c,l]);return f.jsx(fl.Provider,{value:u,children:r})}const Ke=()=>{const{data:e}=v.useContext(fl);return e};function Ya(e){return st(e)?t=>(e(t)??0)+e.bandwidth()/2:t=>e(t)}function hl(){const{isInitialized:e,data:t}=v.useContext(ul);if(!e)throw new Error(["MUI X: Could not find the svg ref context.","It looks like you rendered your component outside of a ChartsContainer parent component."].join(`
`));return t}function dt(e,t,n=void 0){const r={};return Object.keys(e).forEach(o=>{r[o]=e[o].reduce((a,i)=>{if(i){const s=t(i);s!==""&&a.push(s),n&&n[i]&&a.push(n[i])}return a},[]).join(" ")}),r}const qa=e=>e,Gy=()=>{let e=qa;return{configure(t){e=t},generate(t){return e(t)},reset(){e=qa}}},Ky=Gy(),Qy={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function ft(e,t,n="Mui"){const r=Qy[t];return r?`${n}-${r}`:`${Ky.generate(e)}-${t}`}function Et(e,t,n="Mui"){const r={};return t.forEach(o=>{r[o]=ft(e,o,n)}),r}function Zy(){return typeof window>"u"}const Ze={widthCache:{},cacheCount:0},Jy=2e3,e0={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},t0=["minWidth","maxWidth","width","minHeight","maxHeight","height","top","left","fontSize","padding","margin","paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom"],Ga="mui_measurement_span";function pl(e,t){return t0.indexOf(e)>=0&&t===+t?`${t}px`:t}function ml(e){return e.split("").reduce((r,o)=>o===o.toUpperCase()?[...r,"-",o.toLowerCase()]:[...r,o],[]).join("")}const n0=e=>Object.keys(e).sort().reduce((t,n)=>`${t}${ml(n)}:${pl(n,e[n])};`,"");let _r;const r0=(e,t={})=>{if(e==null||Zy())return{width:0,height:0};const n=`${e}`,r=n0(t),o=`${n}-${r}`;if(Ze.widthCache[o])return Ze.widthCache[o];try{let a=document.getElementById(Ga);a===null&&(a=document.createElement("span"),a.setAttribute("id",Ga),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));const i=C({},e0,t);Object.keys(i).map(l=>(a.style[ml(l)]=pl(l,i[l]),l)),a.textContent=n;const s=a.getBoundingClientRect(),c={width:s.width,height:s.height};return Ze.widthCache[o]=c,Ze.cacheCount+1>Jy?(Ze.cacheCount=0,Ze.widthCache={}):Ze.cacheCount+=1,_r&&clearTimeout(_r),_r=setTimeout(()=>{a.textContent=""},0),c}catch{return{width:0,height:0}}};function Ao({style:e,needsComputation:t,text:n}){return n.split(`
`).map(r=>C({text:r},t?r0(r,e):{width:0,height:0}))}const o0=["x","y","style","text","ownerState"],a0=["angle","textAnchor","dominantBaseline"];function nn(e){const{x:t,y:n,style:r,text:o}=e,a=te(e,o0),i=r??{},{angle:s,textAnchor:c,dominantBaseline:l}=i,u=te(i,a0),d=v.useMemo(()=>Ao({style:u,needsComputation:o.includes(`
`),text:o}),[u,o]);let h;switch(l){case"hanging":h=0;break;case"central":h=(d.length-1)/2*-d[0].height;break;default:h=(d.length-1)*-d[0].height;break}const p=[];return s&&p.push(`rotate(${s}, ${t}, ${n})`),f.jsx("text",C({},a,{transform:p.length>0?p.join(" "):void 0,x:t,y:n,textAnchor:c,dominantBaseline:l,style:u,children:d.map((m,g)=>f.jsx("tspan",{x:t,dy:`${g===0?h:d[0].height}px`,dominantBaseline:l,children:m.text},g))}))}function i0(e,t){typeof e=="function"?e(t):e&&(e.current=t)}function gl(...e){return v.useMemo(()=>e.every(t=>t==null)?null:t=>{e.forEach(n=>{i0(n,t)})},e)}function s0(e){return typeof e=="string"}function l0(e,t,n){return e===void 0||s0(e)?t:C({},t,{ownerState:C({},t.ownerState,n)})}function c0(e,t=[]){if(e===void 0)return{};const n={};return Object.keys(e).filter(r=>r.match(/^on[A-Z]/)&&typeof e[r]=="function"&&!t.includes(r)).forEach(r=>{n[r]=e[r]}),n}function Ka(e){if(e===void 0)return{};const t={};return Object.keys(e).filter(n=>!(n.match(/^on[A-Z]/)&&typeof e[n]=="function")).forEach(n=>{t[n]=e[n]}),t}function u0(e){const{getSlotProps:t,additionalProps:n,externalSlotProps:r,externalForwardedProps:o,className:a}=e;if(!t){const p=He(n==null?void 0:n.className,a,o==null?void 0:o.className,r==null?void 0:r.className),m=C({},n==null?void 0:n.style,o==null?void 0:o.style,r==null?void 0:r.style),g=C({},n,o,r);return p.length>0&&(g.className=p),Object.keys(m).length>0&&(g.style=m),{props:g,internalRef:void 0}}const i=c0(C({},o,r)),s=Ka(r),c=Ka(o),l=t(i),u=He(l==null?void 0:l.className,n==null?void 0:n.className,a,o==null?void 0:o.className,r==null?void 0:r.className),d=C({},l==null?void 0:l.style,n==null?void 0:n.style,o==null?void 0:o.style,r==null?void 0:r.style),h=C({},l,n,c,s);return u.length>0&&(h.className=u),Object.keys(d).length>0&&(h.style=d),{props:h,internalRef:l.ref}}function d0(e,t,n){return typeof e=="function"?e(t,n):e}const f0=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];function Ve(e){var t;const{elementType:n,externalSlotProps:r,ownerState:o,skipResolvingSlotProps:a=!1}=e,i=te(e,f0),s=a?{}:d0(r,o),{props:c,internalRef:l}=u0(C({},i,{externalSlotProps:s})),u=gl(l,s==null?void 0:s.ref,(t=e.additionalProps)==null?void 0:t.ref);return l0(n,C({},c,{ref:u}),o)}function h0(e){return e&&e.ownerDocument||document}function p0(e){return h0(e).defaultView||window}const qr=typeof window<"u"?v.useLayoutEffect:v.useEffect;function yl(e){return ft("MuiChartsAxis",e)}const wn=Et("MuiChartsAxis",["root","line","tickContainer","tick","tickLabel","label","directionX","directionY","top","bottom","left","right"]),xl=he("g",{name:"MuiChartsAxis",slot:"Root",overridesResolver:(e,t)=>t.root})(({theme:e})=>({[`& .${wn.tickLabel}`]:C({},e.typography.caption,{fill:(e.vars||e).palette.text.primary}),[`& .${wn.label}`]:C({},e.typography.body1,{fill:(e.vars||e).palette.text.primary}),[`& .${wn.line}`]:{stroke:(e.vars||e).palette.text.primary,shapeRendering:"crispEdges",strokeWidth:1},[`& .${wn.tick}`]:{stroke:(e.vars||e).palette.text.primary,shapeRendering:"crispEdges"}})),Qa=5;function m0(e,t,n=0){const r=Math.min(Math.abs(n)%180,Math.abs(Math.abs(n)%180-180)%180);if(r<Qa)return e;if(r>90-Qa)return t;const o=r*Math.PI/180,a=Math.atan2(t,e);return o<a?e/Math.cos(o):t/Math.sin(o)}function g0(e=!1){const[t,n]=v.useState(!1);return qr(()=>{e||n(!0)},[e]),v.useEffect(()=>{e&&n(!0)},[e]),t}const y0=["scale","tickNumber","reverse"],x0=e=>{const{classes:t,position:n}=e;return dt({root:["root","directionX",n],line:["line"],tickContainer:["tickContainer"],tick:["tick"],tickLabel:["tickLabel"],label:["label"]},yl,t)};function b0(e,{tickLabelStyle:t,tickLabelInterval:n,reverse:r,isMounted:o}){const a=e.map(l=>{if(!o||l.formattedValue===void 0)return C({},l,{width:0,height:0});const u=Ao({style:t,needsComputation:!0,text:l.formattedValue});return C({},l,{width:Math.max(...u.map(d=>d.width)),height:Math.max(u.length*u[0].height)})});if(typeof n=="function")return a.map((l,u)=>C({},l,{skipLabel:!n(l.value,u)}));let i=0,s=0;const c=r?-1:1;return a.map((l,u)=>{const{width:d,offset:h,labelOffset:p,height:m}=l,g=m0(d,m,t==null?void 0:t.angle),y=h+p,x=1.2;return i=y-c*(x*g)/2,u>0&&c*i<c*s?C({},l,{skipLabel:!0}):(s=y+c*(x*g)/2,l)})}const v0=he(xl,{name:"MuiChartsXAxis",slot:"Root",overridesResolver:(e,t)=>t.root})({}),w0={position:"bottom",disableLine:!1,disableTicks:!1,tickSize:6};function Za(e){const{xAxisIds:t,xAxis:n}=Ke(),r=n[e.axisId??t[0]],{scale:o,tickNumber:a,reverse:i}=r,s=te(r,y0),c=g0(),l=It({props:C({},s,e),name:"MuiChartsXAxis"}),u=C({},w0,l),{position:d,disableLine:h,disableTicks:p,tickLabelStyle:m,label:g,labelStyle:y,tickFontSize:x,labelFontSize:S,tickSize:w,valueFormatter:P,slots:M,slotProps:b,tickInterval:_,tickLabelInterval:T,tickPlacement:$,tickLabelPlacement:O,sx:A}=u,N=on(),j=x0(C({},u,{theme:N})),{left:I,top:D,width:R,height:U,isPointInside:F}=Ye(),V=p?4:w,Y=d==="bottom"?1:-1,ae=(M==null?void 0:M.axisLine)??"line",K=(M==null?void 0:M.axisTick)??"line",pe=(M==null?void 0:M.axisTickLabel)??nn,ce=(M==null?void 0:M.axisLabel)??nn,Q=Ve({elementType:pe,externalSlotProps:b==null?void 0:b.axisTickLabel,additionalProps:{style:C({textAnchor:"middle",dominantBaseline:d==="bottom"?"hanging":"auto",fontSize:x??12},m)},className:j.tickLabel,ownerState:{}}),be=dl({scale:o,tickNumber:a,valueFormatter:P,tickInterval:_,tickPlacement:$,tickLabelPlacement:O}),W=b0(be,{tickLabelStyle:Q.style,tickLabelInterval:T,reverse:i,isMounted:c}),H={x:I+R/2,y:Y*(V+22)},E=Ve({elementType:ce,externalSlotProps:b==null?void 0:b.axisLabel,additionalProps:{style:C({fontSize:S??14,textAnchor:"middle",dominantBaseline:d==="bottom"?"hanging":"auto"},y)},ownerState:{}}),L=o.domain(),z=st(o);return z&&L.length===0||!z&&L.some(Mo)?null:f.jsxs(v0,{transform:`translate(0, ${d==="bottom"?D+U:D})`,className:j.root,sx:A,children:[!h&&f.jsx(ae,C({x1:I,x2:I+R,className:j.line},b==null?void 0:b.axisLine)),W.map(({formattedValue:k,offset:q,labelOffset:X,skipLabel:ue},ie)=>{const Te=X??0,ht=Y*(V+3),rr=F({x:q,y:-1},{direction:"x"}),jo=F({x:q+Te,y:-1},{direction:"x"});return f.jsxs("g",{transform:`translate(${q}, 0)`,className:j.tickContainer,children:[!p&&rr&&f.jsx(K,C({y2:Y*V,className:j.tick},b==null?void 0:b.axisTick)),k!==void 0&&!ue&&jo&&f.jsx(pe,C({x:Te,y:ht},Q,{text:k.toString()}))]},ie)}),g&&f.jsx("g",{className:j.label,children:f.jsx(ce,C({},H,E,{text:g}))})]})}const S0=["scale","tickNumber"],C0=e=>{const{classes:t,position:n}=e;return dt({root:["root","directionY",n],line:["line"],tickContainer:["tickContainer"],tick:["tick"],tickLabel:["tickLabel"],label:["label"]},yl,t)},P0=he(xl,{name:"MuiChartsYAxis",slot:"Root",overridesResolver:(e,t)=>t.root})({}),M0={position:"left",disableLine:!1,disableTicks:!1,tickFontSize:12,labelFontSize:14,tickSize:6};function Ja(e){const{yAxisIds:t,yAxis:n}=Ke(),r=n[e.axisId??t[0]],{scale:o,tickNumber:a}=r,i=te(r,S0),s=It({props:C({},i,e),name:"MuiChartsYAxis"}),c=C({},M0,s),{position:l,disableLine:u,disableTicks:d,tickFontSize:h,label:p,labelFontSize:m,labelStyle:g,tickLabelStyle:y,tickSize:x,valueFormatter:S,slots:w,slotProps:P,tickPlacement:M,tickLabelPlacement:b,tickInterval:_,tickLabelInterval:T,sx:$}=c,O=on(),A=Kr(),N=C0(C({},c,{theme:O})),{left:j,top:I,width:D,height:R,isPointInside:U}=Ye(),F=d?4:x,V=dl({scale:o,tickNumber:a,valueFormatter:S,tickPlacement:M,tickLabelPlacement:b,tickInterval:_}),Y=l==="right"?1:-1,ae={x:Y*(h+F+10),y:I+R/2},K=(w==null?void 0:w.axisLine)??"line",pe=(w==null?void 0:w.axisTick)??"line",ce=(w==null?void 0:w.axisTickLabel)??nn,Q=(w==null?void 0:w.axisLabel)??nn,be=!A&&l==="right"||A&&l!=="right",W=Ve({elementType:ce,externalSlotProps:P==null?void 0:P.axisTickLabel,additionalProps:{style:C({fontSize:h,textAnchor:be?"start":"end",dominantBaseline:"central"},y)},className:N.tickLabel,ownerState:{}}),H=Ve({elementType:Q,externalSlotProps:P==null?void 0:P.axisLabel,additionalProps:{style:C({fontSize:m,angle:Y*90,textAnchor:"middle",dominantBaseline:"auto"},g)},ownerState:{}}),E=Ve({elementType:K,externalSlotProps:P==null?void 0:P.axisLine,additionalProps:{strokeLinecap:"square"},ownerState:{}}),L=o.domain(),z=st(o);return z&&L.length===0||!z&&L.some(Mo)?null:f.jsxs(P0,{transform:`translate(${l==="right"?j+D:j}, 0)`,className:N.root,sx:$,children:[!u&&f.jsx(K,C({y1:I,y2:I+R,className:N.line},E)),V.map(({formattedValue:k,offset:q,labelOffset:X,value:ue},ie)=>{const Te=Y*(F+2),ht=X,rr=typeof T=="function"&&!(T!=null&&T(ue,ie));return U({x:-1,y:q},{direction:"y"})?f.jsxs("g",{transform:`translate(0, ${q})`,className:N.tickContainer,children:[!d&&f.jsx(pe,C({x2:Y*F,className:N.tick},P==null?void 0:P.axisTick)),k!==void 0&&!rr&&f.jsx(ce,C({x:Te,y:ht,text:k.toString()},W))]},ie):null}),p&&f.jsx("g",{className:N.label,children:f.jsx(Q,C({},ae,H,{text:p}))})]})}const Sn=(e,t)=>e==null?null:typeof e=="object"?e.axisId??t??null:e,Cn=(e,t,n)=>typeof e=="object"?C({},e,{slots:C({},t,e==null?void 0:e.slots),slotProps:C({},n,e==null?void 0:e.slotProps)}):{slots:t,slotProps:n};function A0(e){const{topAxis:t,leftAxis:n,rightAxis:r,bottomAxis:o,slots:a,slotProps:i}=e,{xAxis:s,xAxisIds:c,yAxis:l,yAxisIds:u}=Ke(),d=Sn(n===void 0?u[0]:n,u[0]),h=Sn(o===void 0?c[0]:o,c[0]),p=Sn(t,c[0]),m=Sn(r,u[0]);if(p!==null&&!s[p])throw new Error([`MUI X: id used for top axis "${p}" is not defined.`,`Available ids are: ${c.join(", ")}.`].join(`
`));if(d!==null&&!l[d])throw new Error([`MUI X: id used for left axis "${d}" is not defined.`,`Available ids are: ${u.join(", ")}.`].join(`
`));if(m!==null&&!l[m])throw new Error([`MUI X: id used for right axis "${m}" is not defined.`,`Available ids are: ${u.join(", ")}.`].join(`
`));if(h!==null&&!s[h])throw new Error([`MUI X: id used for bottom axis "${h}" is not defined.`,`Available ids are: ${c.join(", ")}.`].join(`
`));const g=Cn(t,a,i),y=Cn(o,a,i),x=Cn(n,a,i),S=Cn(r,a,i);return f.jsxs(v.Fragment,{children:[p&&f.jsx(Za,C({},g,{position:"top",axisId:p})),h&&f.jsx(Za,C({},y,{position:"bottom",axisId:h})),d&&f.jsx(Ja,C({},x,{position:"left",axisId:d})),m&&f.jsx(Ja,C({},S,{position:"right",axisId:m}))]})}const mn=v.createContext({item:null,axis:{x:null,y:null},useVoronoiInteraction:!1,dispatch:()=>null}),j0=(e,t)=>{switch(t.type){case"enterItem":return C({},e,{item:t.data});case"exitChart":return e.item===null&&e.axis.x===null&&e.axis.y===null?e:C({},e,{axis:{x:null,y:null},item:null});case"updateVoronoiUsage":return C({},e,{useVoronoiInteraction:t.useVoronoiInteraction});case"leaveItem":return e.item===null||Object.keys(t.data).some(n=>t.data[n]!==e.item[n])?e:C({},e,{item:null});case"updateAxis":return t.data.x===e.axis.x&&t.data.y===e.axis.y?e:C({},e,{axis:t.data});default:return e}};function T0(e){const{children:t}=e,[n,r]=v.useReducer(j0,{item:null,axis:{x:null,y:null},useVoronoiInteraction:!1}),o=v.useMemo(()=>C({},n,{dispatch:r}),[n]);return f.jsx(mn.Provider,{value:o,children:t})}function _0(e){if(e===null)return{getBoundingClientRect:()=>({width:0,height:0,x:0,y:0,top:0,right:0,bottom:0,left:0,toJSON:()=>""})};const{x:t,y:n}=e,r={width:0,height:0,x:t,y:n,top:n,right:t,bottom:n,left:t};return{getBoundingClientRect:()=>C({},r,{toJSON:()=>JSON.stringify(r)})}}function k0(){const e=hl(),[t,n]=v.useState(null);return v.useEffect(()=>{const r=e.current;if(r===null)return()=>{};const o=i=>{i.pointerType!=="mouse"&&n(null)},a=i=>{n({x:i.clientX,y:i.clientY,height:i.height,pointerType:i.pointerType})};return r.addEventListener("pointerdown",a),r.addEventListener("pointermove",a),r.addEventListener("pointerup",o),()=>{r.removeEventListener("pointerdown",a),r.removeEventListener("pointermove",a),r.removeEventListener("pointerup",o)}},[e]),t}function O0(e,t){if(e==="item")return t!==null;const n=t.x!==null,r=t.y!==null;return n||r}function I0(e){return e instanceof Date?e.toUTCString():e.toLocaleString()}function E0(e){return ft("MuiChartsTooltip",e)}const ei=Et("MuiChartsTooltip",["root","paper","table","row","cell","mark","markCell","labelCell","valueCell"]),bl=he("div",{name:"MuiChartsTooltip",slot:"Container",overridesResolver:(e,t)=>t.paper})(({theme:e})=>({boxShadow:e.shadows[1],backgroundColor:(e.vars||e).palette.background.paper,color:(e.vars||e).palette.text.primary,transition:e.transitions.create("box-shadow"),borderRadius:e.shape.borderRadius})),vl=he("table",{name:"MuiChartsTooltip",slot:"Table",overridesResolver:(e,t)=>t.table})(({theme:e})=>({borderSpacing:0,"& thead td":{borderBottom:`solid ${(e.vars||e).palette.divider} 1px`}})),Gr=he("tr",{name:"MuiChartsTooltip",slot:"Row",overridesResolver:(e,t)=>t.row})(({theme:e})=>({"tr:first-of-type& td":{paddingTop:e.spacing(1)},"tr:last-of-type& td":{paddingBottom:e.spacing(1)}})),ot=he("td",{name:"MuiChartsTooltip",slot:"Cell",overridesResolver:(e,t)=>t.cell})(({theme:e})=>({verticalAlign:"middle",color:(e.vars||e).palette.text.secondary,[`&.${ei.labelCell}`]:{paddingLeft:e.spacing(1)},[`&.${ei.valueCell}`]:{paddingLeft:e.spacing(4),color:(e.vars||e).palette.text.primary},"td:first-of-type&":{paddingLeft:e.spacing(2)},"td:last-of-type&":{paddingRight:e.spacing(2)}})),wl=he("div",{name:"MuiChartsTooltip",slot:"Mark",overridesResolver:(e,t)=>t.mark,shouldForwardProp:e=>El(e)&&e!=="color"})(({theme:e,color:t})=>({width:e.spacing(1),height:e.spacing(1),borderRadius:"50%",boxShadow:e.shadows[1],background:t,borderColor:(e.vars||e).palette.background.paper,border:`solid ${(e.vars||e).palette.background.paper} ${e.spacing(.25)}`,boxSizing:"content-box"}));function N0(e){var u;const{series:t,itemData:n,sx:r,classes:o,getColor:a}=e;if(n.dataIndex===void 0||!t.data[n.dataIndex])return null;const{displayedLabel:i,color:s}=t.type==="pie"?{color:a(n.dataIndex),displayedLabel:$e(t.data[n.dataIndex].label,"tooltip")}:{color:a(n.dataIndex),displayedLabel:$e(t.label,"tooltip")},c=t.type==="pie"?C({},t.data[n.dataIndex],{label:$e(t.data[n.dataIndex].label,"tooltip")}):t.data[n.dataIndex],l=(u=t.valueFormatter)==null?void 0:u.call(t,c,{dataIndex:n.dataIndex});return f.jsx(bl,{sx:r,className:o.paper,children:f.jsx(vl,{className:o.table,children:f.jsx("tbody",{children:f.jsxs(Gr,{className:o.row,children:[f.jsx(ot,{className:He(o.markCell,o.cell),children:f.jsx(wl,{color:s,className:o.mark})}),f.jsx(ot,{className:He(o.labelCell,o.cell),children:i}),f.jsx(ot,{className:He(o.valueCell,o.cell),children:l})]})})})})}function $0(e){var P;const{content:t,itemData:n,sx:r,classes:o,contentProps:a}=e,i=lt()[n.type].series[n.seriesId],{xAxis:s,yAxis:c,xAxisIds:l,yAxisIds:u}=Ke(),{zAxis:d,zAxisIds:h}=v.useContext(Po),p=zs(),m=i.xAxisId??i.xAxisKey??l[0],g=i.yAxisId??i.yAxisKey??u[0],y=i.zAxisId??i.zAxisKey??h[0],x=((P=p[i.type])==null?void 0:P.call(p,i,m&&s[m],g&&c[g],y&&d[y]))??(()=>""),S=t??N0,w=Ve({elementType:S,externalSlotProps:a,additionalProps:{itemData:n,series:i,sx:r,classes:o,getColor:x},ownerState:{}});return f.jsx(S,C({},w))}let ti;class R0{constructor(){if(this.types=new Set,ti)throw new Error("You can only create one instance!");ti=this.types}addType(t){this.types.add(t)}getTypes(){return this.types}}const nr=new R0;nr.addType("bar");nr.addType("line");nr.addType("scatter");function Sl(e){return nr.getTypes().has(e)}function D0(e){return Sl(e.type)}function L0(e){const{series:t,axis:n,dataIndex:r,axisValue:o,sx:a,classes:i}=e;if(r==null)return null;const s=n.valueFormatter??(c=>n.scaleType==="utc"?I0(c):c.toLocaleString());return f.jsx(bl,{sx:a,className:i.paper,children:f.jsxs(vl,{className:i.table,children:[o!=null&&!n.hideTooltip&&f.jsx("thead",{children:f.jsx(Gr,{children:f.jsx(ot,{colSpan:3,children:f.jsx(Mn,{children:s(o,{location:"tooltip"})})})})}),f.jsx("tbody",{children:t.filter(D0).map(({id:c,label:l,valueFormatter:u,data:d,getColor:h})=>{const p=u(d[r]??null,{dataIndex:r});if(p==null)return null;const m=$e(l,"tooltip"),g=h(r);return f.jsxs(Gr,{className:i.row,children:[f.jsx(ot,{className:He(i.markCell,i.cell),children:g&&f.jsx(wl,{color:g,className:i.mark})}),f.jsx(ot,{className:He(i.labelCell,i.cell),children:m?f.jsx(Mn,{children:m}):null}),f.jsx(ot,{className:He(i.valueCell,i.cell),children:f.jsx(Mn,{children:p})})]},c)})})]})})}function z0(e){const{content:t,contentProps:n,axisData:r,sx:o,classes:a}=e,i=r.x&&r.x.index!==-1,s=i?r.x&&r.x.index:r.y&&r.y.index,c=i?r.x&&r.x.value:r.y&&r.y.value,{xAxisIds:l,xAxis:u,yAxisIds:d,yAxis:h}=Ke(),{zAxisIds:p,zAxis:m}=v.useContext(Po),g=lt(),y=zs(),x=i?l[0]:d[0],S=v.useMemo(()=>{const b=[];return Object.keys(g).filter(Sl).forEach(_=>{g[_].seriesOrder.forEach(T=>{var j;const $=g[_].series[T],O=$.xAxisId??$.xAxisKey,A=$.yAxisId??$.yAxisKey,N=i?O:A;if(N===void 0||N===x){const I=g[_].series[T],D=O??l[0],R=A??d[0],U=I.zAxisId??I.zAxisKey??p[0],F=((j=y[_])==null?void 0:j.call(y,I,u[D],h[R],U&&m[U]))??(()=>"");b.push(C({},I,{getColor:F}))}})}),b},[x,y,i,g,u,l,h,d,m,p]),w=v.useMemo(()=>i?u[x]:h[x],[x,i,u,h]),P=t??L0,M=Ve({elementType:P,externalSlotProps:n,additionalProps:{axisData:r,series:S,axis:w,dataIndex:s,axisValue:c,sx:o,classes:a},ownerState:{}});return f.jsx(P,C({},M))}const U0=e=>{const{classes:t}=e;return dt({root:["root"],paper:["paper"],table:["table"],row:["row"],cell:["cell"],mark:["mark"],markCell:["markCell"],labelCell:["labelCell"],valueCell:["valueCell"]},E0,t)},F0=he(Gl,{name:"MuiChartsTooltip",slot:"Root",overridesResolver:(e,t)=>t.root})(({theme:e})=>({pointerEvents:"none",zIndex:e.zIndex.modal}));function H0(e){const t=It({props:e,name:"MuiChartsTooltip"}),{trigger:n="axis",itemContent:r,axisContent:o,slots:a,slotProps:i}=t,s=k0(),{item:c,axis:l}=v.useContext(mn),u=n==="item"?c:l,d=O0(n,u),h=s!==null&&d,p=U0({classes:t.classes}),m=(a==null?void 0:a.popper)??F0,g=Ve({elementType:m,externalSlotProps:i==null?void 0:i.popper,additionalProps:{open:h,placement:(s==null?void 0:s.pointerType)==="mouse"?"right-start":"top",anchorEl:_0(s),modifiers:[{name:"offset",options:{offset:[0,(s==null?void 0:s.pointerType)==="touch"?40-s.height:0]}}]},ownerState:{}});return n==="none"?null:f.jsx(Ci,{children:h&&f.jsx(m,C({},g,{className:p.root,children:n==="item"?f.jsx($0,{itemData:u,content:(a==null?void 0:a.itemContent)??r,contentProps:i==null?void 0:i.itemContent,sx:{mx:2},classes:p}):f.jsx(z0,{axisData:u,content:(a==null?void 0:a.axisContent)??o,contentProps:i==null?void 0:i.axisContent,sx:{mx:2},classes:p})}))})}const V0=e=>{const{seriesOrder:t,series:n}=e;return t.reduce((r,o)=>{const a=$e(n[o].label,"legend");return a===void 0||r.push({id:o,seriesId:o,color:n[o].color,label:a}),r},[])},W0=e=>{const{seriesOrder:t,series:n}=e;return t.reduce((r,o)=>{const a=$e(n[o].label,"legend");return a===void 0||r.push({id:o,seriesId:o,color:n[o].color,label:a}),r},[])},B0=e=>{const{seriesOrder:t,series:n}=e;return t.reduce((r,o)=>{const a=$e(n[o].label,"legend");return a===void 0||r.push({id:o,seriesId:o,color:n[o].color,label:a}),r},[])},X0=e=>{const{seriesOrder:t,series:n}=e;return t.reduce((r,o)=>(n[o].data.forEach(a=>{const i=$e(a.label,"legend");i!==void 0&&r.push({id:a.id,seriesId:o,color:a.color,label:i,itemId:a.id})}),r),[])},Y0={bar:V0,scatter:W0,line:B0,pie:X0};function q0(e){return Object.keys(e).flatMap(t=>{const n=Y0[t];return n===void 0?[]:n(e[t])})}function G0(e){return ft("MuiChartsLegend",e)}Et("MuiChartsLegend",["root","series","itemBackground","mark","label","column","row"]);const K0=["label"];function Q0(e,t,n,r,o,a,i){let s=0,c=0,l=0,u=0,d=0;const h=[0];return[e.map(m=>{let{label:g}=m,y=te(m,K0);const x=t(g,n),S=C({},y,{label:g,positionX:s,positionY:c,innerHeight:x.innerHeight,innerWidth:x.innerWidth,outerHeight:x.outerHeight,outerWidth:x.outerWidth,rowIndex:d});return r==="row"&&(s+x.innerWidth>o&&(s=0,c+=h[d],d+=1,h.length<=d&&h.push(0),S.positionX=s,S.positionY=c,S.rowIndex=d),l=Math.max(l,s+x.outerWidth),u=Math.max(u,c+x.outerHeight),h[d]=Math.max(h[d],x.outerHeight),s+=x.outerWidth),r==="column"&&(c+x.innerHeight>a&&(s=l+i,c=0,d=0,S.positionX=s,S.positionY=c,S.rowIndex=d),h.length<=d&&h.push(0),l=Math.max(l,s+x.outerWidth),u=Math.max(u,c+x.outerHeight),d+=1,c+=x.outerHeight),S}).map(m=>C({},m,{positionY:m.positionY+(r==="row"?h[m.rowIndex]/2:m.outerHeight/2)})),l,u]}function Z0(e){const t=Kr(),{id:n,positionY:r,label:o,positionX:a,innerHeight:i,innerWidth:s,legendWidth:c,color:l,gapX:u,gapY:d,itemMarkHeight:h,itemMarkWidth:p,markGap:m,labelStyle:g,classes:y,onClick:x}=e;return f.jsxs("g",{className:He(y==null?void 0:y.series,`${y==null?void 0:y.series}-${n}`),transform:`translate(${u+(t?c-a:a)} ${d+r})`,children:[f.jsx("rect",{x:t?-(s+2):-2,y:-h/2-2,width:s+4,height:i+4,fill:"transparent",className:y==null?void 0:y.itemBackground,onClick:x,style:{pointerEvents:x?"all":"none",cursor:x?"pointer":"unset"}}),f.jsx("rect",{className:y==null?void 0:y.mark,x:t?-p:0,y:-h/2,width:p,height:h,fill:l,style:{pointerEvents:"none"}}),f.jsx(nn,{style:C({pointerEvents:"none"},g),text:o,x:(t?-1:1)*(p+m),y:0})]})}const J0=["rotate","dominantBaseline"],ex=he("g",{name:"MuiChartsLegend",slot:"Root",overridesResolver:(e,t)=>t.root})({}),tx=e=>typeof e=="number"?{left:e,right:e,top:e,bottom:e}:C({left:0,right:0,top:0,bottom:0},e);function nx(e){const{position:t,direction:n,itemsToDisplay:r,classes:o,itemMarkWidth:a=20,itemMarkHeight:i=20,markGap:s=5,itemGap:c=10,padding:l=10,labelStyle:u,onItemClick:d}=e,h=on(),p=Ye(),m=v.useMemo(()=>C({},h.typography.subtitle1,{color:"inherit",dominantBaseline:"central",textAnchor:"start",fill:(h.vars||h).palette.text.primary,lineHeight:1},u),[u,h]),g=v.useMemo(()=>tx(l),[l]),y=v.useCallback((O,A={})=>{const N=te(A,J0),j=Ao({style:N,needsComputation:!0,text:O}),I={innerWidth:a+s+Math.max(...j.map(D=>D.width)),innerHeight:Math.max(i,j.length*j[0].height)};return C({},I,{outerWidth:I.innerWidth+c,outerHeight:I.innerHeight+c})},[c,i,a,s]),x=p.left+p.width+p.right,S=p.top+p.height+p.bottom,w=x-g.left-g.right,P=S-g.top-g.bottom,[M,b,_]=v.useMemo(()=>Q0(r,y,m,n,w,P,c),[r,y,m,n,w,P,c]),T=v.useMemo(()=>{switch(t.horizontal){case"left":return g.left;case"right":return x-g.right-b;default:return(x-b)/2}},[t.horizontal,g.left,g.right,x,b]),$=v.useMemo(()=>{switch(t.vertical){case"top":return g.top;case"bottom":return S-g.bottom-_;default:return(S-_)/2}},[t.vertical,g.top,g.bottom,S,_]);return f.jsx(Ci,{children:f.jsx(ex,{className:o==null?void 0:o.root,children:M.map((O,A)=>v.createElement(Z0,C({},O,{key:O.id,gapX:T,gapY:$,legendWidth:b,itemMarkHeight:i,itemMarkWidth:a,markGap:s,labelStyle:m,classes:o,onClick:d?N=>d(N,A):void 0})))})})}const rx=["drawingArea","seriesToDisplay","hidden","onItemClick"],ox=e=>({type:"series",color:e.color,label:e.label,seriesId:e.seriesId,itemId:e.itemId});function ax(e){const{seriesToDisplay:t,hidden:n,onItemClick:r}=e,o=te(e,rx);return n?null:f.jsx(nx,C({},o,{itemsToDisplay:t,onItemClick:r?(a,i)=>r(a,ox(t[i]),i):void 0}))}const ix=["slots","slotProps"],sx=e=>{const{classes:t,direction:n}=e;return dt({root:["root",n],mark:["mark"],label:["label"],series:["series"],itemBackground:["itemBackground"]},G0,t)};function lx(e){const t=It({props:e,name:"MuiChartsLegend"}),n=C({direction:"row"},t,{position:C({horizontal:"middle",vertical:"top"},t.position)}),{slots:r,slotProps:o}=n,a=te(n,ix),i=on(),s=sx(C({},n,{theme:i})),c=Ye(),l=lt(),u=q0(l),d=(r==null?void 0:r.legend)??ax,h=Ve({elementType:d,externalSlotProps:o==null?void 0:o.legend,additionalProps:C({},a,{classes:s,drawingArea:c,series:l,seriesToDisplay:u}),ownerState:{}});return f.jsx(d,C({},h))}const cx=10;function ni(e){const{gradientUnits:t,isReversed:n,gradientId:r,size:o,direction:a,scale:i,colorScale:s,colorMap:c}=e,l=[c.min??0,c.max??100],u=l.map(i).filter(m=>m!==void 0);if(u.length!==2)return null;const d=typeof l[0]=="number"?en(l[0],l[1]):Bs(l[0],l[1]),h=Math.round((Math.max(...u)-Math.min(...u))/cx),p=`${l[0]}-${l[1]}-`;return f.jsx("linearGradient",{id:r,x1:"0",x2:"0",y1:"0",y2:"0",[`${a}${n?1:2}`]:t==="objectBoundingBox"?1:`${o}px`,gradientUnits:t??"userSpaceOnUse",children:Array.from({length:h+1},(m,g)=>{const y=d(g/h);if(y===void 0)return null;const x=i(y);if(x===void 0)return null;const S=n?1-x/o:x/o,w=s(y);return w===null?null:f.jsx("stop",{offset:S,stopColor:w,stopOpacity:1},p+g)})})}function et(e,t){if(typeof e=="number")return e;if(e==="100%")return t;if(e.endsWith("%")){const n=Number.parseFloat(e.slice(0,e.length-1));if(!Number.isNaN(n))return n*t/100}if(e.endsWith("px")){const n=Number.parseFloat(e.slice(0,e.length-2));if(!Number.isNaN(n))return n}throw new Error(`MUI X: Received an unknown value "${e}". It should be a number, or a string with a percentage value.`)}function ux(e){return ft("MuiChartsAxisHighlight",e)}Et("MuiChartsAxisHighlight",["root"]);const dx=()=>dt({root:["root"]},ux),Pn=he("path",{name:"MuiChartsAxisHighlight",slot:"Root",overridesResolver:(e,t)=>t.root})(({theme:e})=>({pointerEvents:"none",variants:[{props:{axisHighlight:"band"},style:C({fill:"white",fillOpacity:.1},e.applyStyles("light",{fill:"gray"}))},{props:{axisHighlight:"line"},style:C({strokeDasharray:"5 2",stroke:"#ffffff"},e.applyStyles("light",{stroke:"#000000"}))}]}));function fx(e){const{x:t,y:n}=e,{xAxisIds:r,xAxis:o,yAxisIds:a,yAxis:i}=Ke(),s=dx(),c=r[0],l=a[0],u=o[c].scale,d=i[l].scale,{axis:h}=v.useContext(mn),p=Ya(u),m=Ya(d),g=h.x,y=h.y,x=t==="band"&&g!==null&&st(u),S=n==="band"&&y!==null&&st(d);return f.jsxs(v.Fragment,{children:[x&&u(g.value)!==void 0&&f.jsx(Pn,{d:`M ${u(g.value)-(u.step()-u.bandwidth())/2} ${d.range()[0]} l ${u.step()} 0 l 0 ${d.range()[1]-d.range()[0]} l ${-u.step()} 0 Z`,className:s.root,ownerState:{axisHighlight:"band"}}),S&&d(y.value)!==void 0&&f.jsx(Pn,{d:`M ${u.range()[0]} ${d(y.value)-(d.step()-d.bandwidth())/2} l 0 ${d.step()} l ${u.range()[1]-u.range()[0]} 0 l 0 ${-d.step()} Z`,className:s.root,ownerState:{axisHighlight:"band"}}),t==="line"&&h.x!==null&&f.jsx(Pn,{d:`M ${p(h.x.value)} ${d.range()[0]} L ${p(h.x.value)} ${d.range()[1]}`,className:s.root,ownerState:{axisHighlight:"line"}}),n==="line"&&h.y!==null&&f.jsx(Pn,{d:`M ${u.range()[0]} ${m(h.y.value)} L ${u.range()[1]} ${m(h.y.value)}`,className:s.root,ownerState:{axisHighlight:"line"}})]})}function hx(e,t){const n=e.createSVGPoint();return n.x=t.clientX,n.y=t.clientY,n.matrixTransform(e.getScreenCTM().inverse())}const px=e=>{const{dispatch:t}=v.useContext(mn),{setHighlighted:n,clearHighlighted:r}=ao();return a=>({onPointerEnter:()=>{t({type:"enterItem",data:a}),n({seriesId:a.seriesId,dataIndex:a.dataIndex})},onPointerLeave:l=>{l.currentTarget.hasPointerCapture(l.pointerId)&&l.currentTarget.releasePointerCapture(l.pointerId),t({type:"leaveItem",data:a}),r()},onPointerDown:l=>{l.currentTarget.hasPointerCapture(l.pointerId)&&l.currentTarget.releasePointerCapture(l.pointerId)}})},Cl=v.createContext({isInitialized:!1,data:{skipAnimation:void 0}});function mx(e){const{children:t,skipAnimation:n}=e,r=typeof window>"u"||!(window!=null&&window.matchMedia),[o,a]=v.useState(r||void 0);tc(()=>{var l;if(r)return;const s=u=>{const d=u.matches||void 0;a(d),nc.assign({skipAnimation:d})},c=window.matchMedia("(prefers-reduced-motion)");return s(c),(l=c==null?void 0:c.addEventListener)==null||l.call(c,"change",s),()=>{var u;(u=c==null?void 0:c.removeEventListener)==null||u.call(c,"change",s)}},[]);const i=v.useMemo(()=>({isInitialized:!0,data:{skipAnimation:n||o}}),[o,n]);return f.jsx(Cl.Provider,{value:i,children:t})}function gx(e){const{isInitialized:t,data:n}=v.useContext(Cl);if(!t)throw new Error(["MUI X: Could not find the animation ref context.","It looks like you rendered your component outside of a ChartsContainer parent component."].join(`
`));return e||n.skipAnimation}function xt(e){return e instanceof Date?e.getTime():e}const yx=e=>{const t=hl(),n=Ye(),{xAxis:r,yAxis:o,xAxisIds:a,yAxisIds:i}=Ke(),{dispatch:s}=v.useContext(mn),c=a[0],l=i[0],u=v.useRef({isInChart:!1,x:-1,y:-1});v.useEffect(()=>{const d=t.current;if(d===null||e)return()=>{};function h(y,x){const{scale:S,data:w,reverse:P}=y;if(!st(S)){const b=S.invert(x);if(w===void 0)return{value:b,index:-1};const _=xt(b),T=w==null?void 0:w.findIndex(($,O)=>{const A=xt($);return A>_&&(O===0||Math.abs(_-A)<=Math.abs(_-xt(w[O-1])))||A<=_&&(O===w.length-1||Math.abs(xt(b)-A)<Math.abs(xt(b)-xt(w[O+1])))});return{value:T!==void 0&&T>=0?w[T]:b,index:T}}const M=S.bandwidth()===0?Math.floor((x-Math.min(...S.range())+S.step()/2)/S.step()):Math.floor((x-Math.min(...S.range()))/S.step());if(M<0||M>=w.length)return null;if(P){const b=w.length-1-M;return{index:b,value:w[b]}}return{index:M,value:w[M]}}const p=()=>{u.current={isInChart:!1,x:-1,y:-1},s({type:"exitChart"})},m=y=>{const x="targetTouches"in y?y.targetTouches[0]:y,S=hx(d,x);if(u.current.x=S.x,u.current.y=S.y,!n.isPointInside(S,{targetElement:y.target})){u.current.isInChart&&(s({type:"exitChart"}),u.current.isInChart=!1);return}u.current.isInChart=!0;const w=h(r[c],S.x),P=h(o[l],S.y);s({type:"updateAxis",data:{x:w,y:P}})},g=y=>{const x=y.currentTarget;x&&x.hasPointerCapture(y.pointerId)&&x.releasePointerCapture(y.pointerId)};return d.addEventListener("pointerdown",g),d.addEventListener("pointermove",m),d.addEventListener("pointerout",p),d.addEventListener("pointercancel",p),d.addEventListener("pointerleave",p),()=>{d.removeEventListener("pointerdown",g),d.removeEventListener("pointermove",m),d.removeEventListener("pointerout",p),d.removeEventListener("pointercancel",p),d.removeEventListener("pointerleave",p)}},[t,s,l,o,c,r,e,n])},xx=["children","width","height","viewBox","disableAxisListener","className","title","desc"],bx=he("svg",{name:"MuiChartsSurface",slot:"Root"})(()=>({touchAction:"none"})),vx=v.forwardRef(function(t,n){const r=It({props:t,name:"MuiChartsSurface"}),{children:o,width:a,height:i,viewBox:s,disableAxisListener:c=!1,className:l,title:u,desc:d}=r,h=te(r,xx),p=C({width:a,height:i,x:0,y:0},s);return yx(c),f.jsxs(bx,C({width:a,height:i,viewBox:`${p.x} ${p.y} ${p.width} ${p.height}`,ref:n,className:l},h,{children:[f.jsx("title",{children:u}),f.jsx("desc",{children:d}),o]}))});function ri(e){const{isReversed:t,gradientId:n,size:r,direction:o,scale:a,colorMap:i}=e;return r<=0?null:f.jsx("linearGradient",{id:n,x1:"0",x2:"0",y1:"0",y2:"0",[`${o}${t?1:2}`]:`${r}px`,gradientUnits:"userSpaceOnUse",children:i.thresholds.map((s,c)=>{const l=a(s);if(l===void 0)return null;const u=t?1-l/r:l/r;return f.jsxs(v.Fragment,{children:[f.jsx("stop",{offset:u,stopColor:i.colors[c],stopOpacity:1}),f.jsx("stop",{offset:u,stopColor:i.colors[c+1],stopOpacity:1})]},s.toString()+c)})})}function wx(){const{chartId:e}=v.useContext(tr);return v.useCallback((t,n)=>`${e}-gradient-${n}-${t}`,[e])}function Sx(){const{top:e,height:t,bottom:n,left:r,width:o,right:a}=Ye(),i=e+t+n,s=r+o+a,c=wx(),{xAxisIds:l,xAxis:u,yAxisIds:d,yAxis:h}=Ke();return f.jsxs("defs",{children:[d.filter(p=>h[p].colorMap!==void 0).map(p=>{const m=c(p,"y"),{colorMap:g,scale:y,colorScale:x,reverse:S}=h[p];return(g==null?void 0:g.type)==="piecewise"?f.jsx(ri,{isReversed:!S,scale:y,colorMap:g,size:i,gradientId:m,direction:"y"},m):(g==null?void 0:g.type)==="continuous"?f.jsx(ni,{isReversed:!S,scale:y,colorScale:x,colorMap:g,size:i,gradientId:m,direction:"y"},m):null}),l.filter(p=>u[p].colorMap!==void 0).map(p=>{const m=c(p,"x"),{colorMap:g,scale:y,reverse:x,colorScale:S}=u[p];return(g==null?void 0:g.type)==="piecewise"?f.jsx(ri,{isReversed:x,scale:y,colorMap:g,size:s,gradientId:m,direction:"x"},m):(g==null?void 0:g.type)==="continuous"?f.jsx(ni,{isReversed:x,scale:y,colorScale:S,colorMap:g,size:s,gradientId:m,direction:"x"},m):null})]})}const oi=(e,t,n)=>{const r=n==="x"?Ms:qh;return[...(e==null?void 0:e.map((o,a)=>C({id:`defaultized-${n}-axis-${a}`},o)))??[],...e===void 0||e.findIndex(({id:o})=>o===r)===-1?[{id:r,scaleType:"linear"}]:[]].map(o=>{const a=o.dataKey;if(a===void 0||o.data!==void 0)return o;if(t===void 0)throw new Error(`MUI X: ${n}-axis uses \`dataKey\` but no \`dataset\` is provided.`);return C({},o,{data:t.map(i=>i[a])})})},Cx=(e,t,n)=>{const r=v.useMemo(()=>oi(e,n,"x"),[e,n]),o=v.useMemo(()=>oi(t,n,"y"),[t,n]);return[r,o]},Px=["width","height","series","margin","xAxis","yAxis","zAxis","colors","dataset","sx","title","desc","disableAxisListener","highlightedItem","onHighlightChange","plugins","children","skipAnimation"],Mx=(e,t)=>{const{width:n,height:r,series:o,margin:a,xAxis:i,yAxis:s,zAxis:c,colors:l,dataset:u,sx:d,title:h,desc:p,disableAxisListener:m,highlightedItem:g,onHighlightChange:y,plugins:x,children:S,skipAnimation:w}=e,P=te(e,Px),M=v.useRef(null),b=gl(t,M),[_,T]=Cx(i,s,u),$={width:n,height:r,margin:a,svgRef:M},O={skipAnimation:w},A={plugins:x},N={series:o,colors:l,dataset:u},j={xAxis:_,yAxis:T,dataset:u},I={zAxis:c,dataset:u},D={highlightedItem:g,onHighlightChange:y},R=C({},P,{width:n,height:r,ref:b,sx:d,title:h,desc:p,disableAxisListener:m});return{children:S,drawingProviderProps:$,seriesProviderProps:N,cartesianProviderProps:j,zAxisContextProps:I,highlightedProviderProps:D,chartsSurfaceProps:R,pluginProviderProps:A,animationProviderProps:O,xAxis:_,yAxis:T}},Ax=v.forwardRef(function(t,n){const{children:r,drawingProviderProps:o,seriesProviderProps:a,cartesianProviderProps:i,zAxisContextProps:s,highlightedProviderProps:c,chartsSurfaceProps:l,pluginProviderProps:u,animationProviderProps:d}=Mx(t,n);return f.jsx(Ly,C({},o,{children:f.jsx(Zp,C({},u,{children:f.jsx(nm,C({},a,{children:f.jsx(qy,C({},i,{children:f.jsx(Ny,C({},s,{children:f.jsx(T0,{children:f.jsx(im,C({},c,{children:f.jsxs(vx,C({},l,{children:[f.jsx(Sx,{}),f.jsx(mx,C({},d,{children:r}))]}))}))})}))}))}))}))}))}),jx=he("div",{name:"MuiResponsiveChart",slot:"Container"})(({ownerState:e})=>({width:e.width??"100%",height:e.height??"100%",display:"flex",position:"relative",flexGrow:1,flexDirection:"column",alignItems:"center",justifyContent:"center",overflow:"hidden","&>svg":{width:"100%",height:"100%"}})),Tx=(e,t,n)=>{const r=v.useRef({displayError:!1,initialCompute:!0,computeRun:0}),o=v.useRef(null),[a,i]=v.useState(0),[s,c]=v.useState(0),l=v.useCallback(()=>{const u=o==null?void 0:o.current;if(!u)return{};const h=p0(u).getComputedStyle(u),p=Math.floor(parseFloat(h.height))||0,m=Math.floor(parseFloat(h.width))||0;return i(m),c(p),{width:m,height:p}},[]);return v.useEffect(()=>{r.current.displayError=!0},[]),qr(()=>{if(!n||!r.current.initialCompute||r.current.computeRun>20)return;const u=l();u.width!==a||u.height!==s?r.current.computeRun+=1:r.current.initialCompute&&(r.current.initialCompute=!1)},[a,s,l,n]),qr(()=>{if(e!==void 0&&t!==void 0)return()=>{};l();const u=o.current;if(typeof ResizeObserver>"u")return()=>{};let d;const h=new ResizeObserver(()=>{d=requestAnimationFrame(()=>{l()})});return u&&h.observe(u),()=>{d&&cancelAnimationFrame(d),u&&h.unobserve(u)}},[l,t,e]),{containerRef:o,width:e??a,height:t??s}},_x=["width","height","resolveSizeBeforeRender","margin","children","series","colors","dataset","desc","disableAxisListener","highlightedItem","onHighlightChange","plugins","sx","title","viewBox","xAxis","yAxis","zAxis","skipAnimation"],kx=(e,t)=>{const{width:n,height:r,resolveSizeBeforeRender:o,margin:a,children:i,series:s,colors:c,dataset:l,desc:u,disableAxisListener:d,highlightedItem:h,onHighlightChange:p,plugins:m,sx:g,title:y,viewBox:x,xAxis:S,yAxis:w,zAxis:P,skipAnimation:M}=e,b=te(e,_x),{containerRef:_,width:T,height:$}=Tx(n,r,o),O=C({},b,{ownerState:{width:n,height:r},ref:_});return{hasIntrinsicSize:T&&$,chartContainerProps:{margin:a,children:i,series:s,colors:c,dataset:l,desc:u,disableAxisListener:d,highlightedItem:h,onHighlightChange:p,plugins:m,sx:g,title:y,viewBox:x,xAxis:S,yAxis:w,zAxis:P,skipAnimation:M,width:T,height:$,ref:t},resizableChartContainerProps:O}},Ox=v.forwardRef(function(t,n){const{hasIntrinsicSize:r,chartContainerProps:o,resizableChartContainerProps:a}=kx(t,n);return f.jsx(jx,C({},a,{children:r?f.jsx(Ax,C({},o)):null}))}),Ix=["message"],Ex=he("text")(({theme:e})=>C({},e.typography.body2,{stroke:"none",fill:e.palette.text.primary,shapeRendering:"crispEdges",textAnchor:"middle",dominantBaseline:"middle"}));function Nx(e){const{message:t}=e,n=te(e,Ix),{top:r,left:o,height:a,width:i}=Ye();return f.jsx(Ex,C({x:o+i/2,y:r+a/2},n,{children:t??"Loading data…"}))}const $x=["message"],Rx=he("text")(({theme:e})=>C({},e.typography.body2,{stroke:"none",fill:e.palette.text.primary,shapeRendering:"crispEdges",textAnchor:"middle",dominantBaseline:"middle"}));function Dx(e){const{message:t}=e,n=te(e,$x),{top:r,left:o,height:a,width:i}=Ye();return f.jsx(Rx,C({x:o+i/2,y:r+a/2},n,{children:t??"No data to display"}))}function Lx(){const e=lt();return Object.values(e).every(t=>{if(!t)return!0;const{series:n,seriesOrder:r}=t;return r.every(o=>n[o].data.length===0)})}function zx(e){var n,r,o,a;const t=Lx();if(e.loading){const i=((n=e.slots)==null?void 0:n.loadingOverlay)??Nx;return f.jsx(i,C({},(r=e.slotProps)==null?void 0:r.loadingOverlay))}if(t){const i=((o=e.slots)==null?void 0:o.noDataOverlay)??Dx;return f.jsx(i,C({},(a=e.slotProps)==null?void 0:a.noDataOverlay))}return null}const Ux=["classes","color","cornerRadius","dataIndex","endAngle","id","innerRadius","isFaded","isHighlighted","onClick","outerRadius","paddingAngle","startAngle","highlightScope"];function Fx(e){return ft("MuiPieArc",e)}Et("MuiPieArc",["root","highlighted","faded"]);const Hx=e=>{const{classes:t,id:n,isFaded:r,isHighlighted:o,dataIndex:a}=e,i={root:["root",`series-${n}`,`data-index-${a}`,o&&"highlighted",r&&"faded"]};return dt(i,Fx,t)},Vx=he(wi.path,{name:"MuiPieArc",slot:"Root",overridesResolver:(e,t)=>t.arc})(({theme:e})=>({stroke:(e.vars||e).palette.background.paper,transition:"opacity 0.2s ease-in, fill 0.2s ease-in, filter 0.2s ease-in"}));function Wx(e){const{classes:t,color:n,cornerRadius:r,dataIndex:o,endAngle:a,id:i,innerRadius:s,isFaded:c,isHighlighted:l,onClick:u,outerRadius:d,paddingAngle:h,startAngle:p}=e,m=te(e,Ux),g={id:i,dataIndex:o,classes:t,color:n,isFaded:c,isHighlighted:l},y=Hx(g),x=px();return f.jsx(Vx,C({d:kn([p,a,h,s,d,r],(S,w,P,M,b,_)=>Os().cornerRadius(_)({padAngle:P,startAngle:S,endAngle:w,innerRadius:M,outerRadius:b})),visibility:kn([p,a],(S,w)=>S===w?"hidden":"visible"),onClick:u,cursor:u?"pointer":"unset",ownerState:g,className:y.root,fill:g.color,opacity:g.isFaded?.3:1,filter:g.isHighlighted?"brightness(120%)":"none",strokeWidth:1,strokeLinejoin:"round"},m,x({type:"pie",seriesId:i,dataIndex:o})))}const Bx={keys:e=>e.id,from:({innerRadius:e,outerRadius:t,cornerRadius:n,startAngle:r,endAngle:o,paddingAngle:a,color:i,isFaded:s})=>({innerRadius:e,outerRadius:(e+t)/2,cornerRadius:n,startAngle:(r+o)/2,endAngle:(r+o)/2,paddingAngle:a,fill:i,opacity:s?.3:1}),leave:({innerRadius:e,startAngle:t,endAngle:n})=>({innerRadius:e,outerRadius:e,startAngle:(t+n)/2,endAngle:(t+n)/2}),enter:({innerRadius:e,outerRadius:t,startAngle:n,endAngle:r})=>({innerRadius:e,outerRadius:t,startAngle:n,endAngle:r}),update:({innerRadius:e,outerRadius:t,cornerRadius:n,startAngle:r,endAngle:o,paddingAngle:a,color:i,isFaded:s})=>({innerRadius:e,outerRadius:t,cornerRadius:n,startAngle:r,endAngle:o,paddingAngle:a,fill:i,opacity:s?.3:1}),config:{tension:120,friction:14,clamp:!0}},Xx={keys:e=>e.id,from:({innerRadius:e,outerRadius:t,arcLabelRadius:n,cornerRadius:r,startAngle:o,endAngle:a,paddingAngle:i})=>({innerRadius:e,outerRadius:(e+t)/2,cornerRadius:r,arcLabelRadius:n,startAngle:(o+a)/2,endAngle:(o+a)/2,paddingAngle:i,opacity:0}),leave:({innerRadius:e,startAngle:t,endAngle:n})=>({innerRadius:e,outerRadius:e,arcLabelRadius:e,startAngle:(t+n)/2,endAngle:(t+n)/2,opacity:0}),enter:({innerRadius:e,outerRadius:t,startAngle:n,endAngle:r,arcLabelRadius:o})=>({innerRadius:e,outerRadius:t,startAngle:n,endAngle:r,arcLabelRadius:o,opacity:1}),update:({innerRadius:e,outerRadius:t,cornerRadius:n,startAngle:r,endAngle:o,paddingAngle:a,arcLabelRadius:i})=>({innerRadius:e,outerRadius:t,cornerRadius:n,startAngle:r,endAngle:o,paddingAngle:a,arcLabelRadius:i,opacity:1}),config:{tension:120,friction:14,clamp:!0}};function Pl(e){const{id:t,data:n,faded:r,highlighted:o,paddingAngle:a=0,innerRadius:i=0,arcLabelRadius:s,outerRadius:c,cornerRadius:l=0}=e,{isFaded:u,isHighlighted:d}=ao();return v.useMemo(()=>n.map((p,m)=>{const g={seriesId:t,dataIndex:m},y=d(g),x=!y&&u(g),S=C({additionalRadius:0},x&&r||y&&o||{}),w=Math.max(0,Math.PI*(S.paddingAngle??a)/180),P=Math.max(0,S.innerRadius??i),M=Math.max(0,S.outerRadius??c+S.additionalRadius),b=S.cornerRadius??l,_=S.arcLabelRadius??s??(P+M)/2;return C({},p,S,{isFaded:x,isHighlighted:y,paddingAngle:w,innerRadius:P,outerRadius:M,cornerRadius:b,arcLabelRadius:_})}),[l,i,c,a,s,n,r,o,u,d,t])}const Yx=["slots","slotProps","innerRadius","outerRadius","cornerRadius","paddingAngle","id","highlighted","faded","data","onItemClick","skipAnimation"];function qx(e){const{slots:t,slotProps:n,innerRadius:r=0,outerRadius:o,cornerRadius:a=0,paddingAngle:i=0,id:s,highlighted:c,faded:l={additionalRadius:-5},data:u,onItemClick:d,skipAnimation:h}=e,p=te(e,Yx),m=Pl({innerRadius:r,outerRadius:o,cornerRadius:a,paddingAngle:i,id:s,highlighted:c,faded:l,data:u}),g=Si(m,C({},Bx,{immediate:h})),{highlightScope:y}=ao();if(u.length===0)return null;const x=(t==null?void 0:t.pieArc)??Wx;return f.jsx("g",C({},p,{children:g(({startAngle:S,endAngle:w,paddingAngle:P,innerRadius:M,outerRadius:b,cornerRadius:_},T,$,O)=>f.jsx(x,C({startAngle:S,endAngle:w,paddingAngle:P,innerRadius:M,outerRadius:b,cornerRadius:_,id:s,color:T.color,dataIndex:O,highlightScope:y,isFaded:T.isFaded,isHighlighted:T.isHighlighted,onClick:d&&(A=>{d(A,{type:"pie",seriesId:s,dataIndex:O},T)})},n==null?void 0:n.pieArc)))}))}const Gx=["id","classes","color","startAngle","endAngle","paddingAngle","arcLabelRadius","innerRadius","outerRadius","cornerRadius","formattedArcLabel","isHighlighted","isFaded","style"];function Kx(e){return ft("MuiPieArcLabel",e)}Et("MuiPieArcLabel",["root","highlighted","faded"]);const Qx=e=>{const{classes:t,id:n,isFaded:r,isHighlighted:o}=e,a={root:["root",`series-${n}`,o&&"highlighted",r&&"faded"]};return dt(a,Kx,t)},Zx=he(wi.text,{name:"MuiPieArcLabel",slot:"Root",overridesResolver:(e,t)=>t.root})(({theme:e})=>({fill:(e.vars||e).palette.text.primary,textAnchor:"middle",dominantBaseline:"middle",pointerEvents:"none"})),ai=(e,t)=>(n,r,o,a,i)=>{if(!e)return 0;const[s,c]=Os().cornerRadius(i).centroid({padAngle:o,startAngle:n,endAngle:r,innerRadius:a,outerRadius:a});return t==="x"?s:c};function Jx(e){const{id:t,classes:n,color:r,startAngle:o,endAngle:a,paddingAngle:i,arcLabelRadius:s,cornerRadius:c,formattedArcLabel:l,isHighlighted:u,isFaded:d,style:h}=e,p=te(e,Gx),g=Qx({id:t,classes:n,color:r,isFaded:d,isHighlighted:u});return f.jsx(Zx,C({className:g.root},p,{style:C({x:kn([o,a,i,s,c],ai(l,"x")),y:kn([o,a,i,s,c],ai(l,"y"))},h),children:l}))}const eb=["arcLabel","arcLabelMinAngle","arcLabelRadius","cornerRadius","data","faded","highlighted","id","innerRadius","outerRadius","paddingAngle","skipAnimation","slotProps","slots"],tb=["startAngle","endAngle","paddingAngle","innerRadius","outerRadius","arcLabelRadius","cornerRadius"],nb=180/Math.PI;function rb(e,t,n){var o;if(!e||(n.endAngle-n.startAngle)*nb<t)return null;switch(e){case"label":return $e(n.label,"arc");case"value":return(o=n.value)==null?void 0:o.toString();case"formattedValue":return n.formattedValue;default:return e(C({},n,{label:$e(n.label,"arc")}))}}function ob(e){const{arcLabel:t,arcLabelMinAngle:n=0,arcLabelRadius:r,cornerRadius:o=0,data:a,faded:i={additionalRadius:-5},highlighted:s,id:c,innerRadius:l,outerRadius:u,paddingAngle:d=0,skipAnimation:h,slotProps:p,slots:m}=e,g=te(e,eb),y=Pl({innerRadius:l,outerRadius:u,arcLabelRadius:r,cornerRadius:o,paddingAngle:d,id:c,highlighted:s,faded:i,data:a}),x=Si(y,C({},Xx,{immediate:h}));if(a.length===0)return null;const S=(m==null?void 0:m.pieArcLabel)??Jx;return f.jsx("g",C({},g,{children:x((w,P)=>{let{startAngle:M,endAngle:b,paddingAngle:_,innerRadius:T,outerRadius:$,arcLabelRadius:O,cornerRadius:A}=w,N=te(w,tb);return f.jsx(S,C({startAngle:M,endAngle:b,paddingAngle:_,innerRadius:T,outerRadius:$,arcLabelRadius:O,cornerRadius:A,style:N,id:c,color:P.color,isFaded:P.isFaded,isHighlighted:P.isHighlighted,formattedArcLabel:rb(t,n,P)},p==null?void 0:p.pieArcLabel))})}))}function ii(e,t){const{height:n,width:r}=t,{cx:o,cy:a}=e,i=Math.min(r,n)/2,s=et(o??"50%",r),c=et(a??"50%",n);return{cx:s,cy:c,availableRadius:i}}function ab(e){const{skipAnimation:t,slots:n,slotProps:r,onItemClick:o}=e,a=rm(),{left:i,top:s,width:c,height:l}=v.useContext(tr),u=gx(t);if(a===void 0)return null;const{series:d,seriesOrder:h}=a;return f.jsxs("g",{children:[h.map(p=>{const{innerRadius:m,outerRadius:g,cornerRadius:y,paddingAngle:x,data:S,cx:w,cy:P,highlighted:M,faded:b}=d[p],{cx:_,cy:T,availableRadius:$}=ii({cx:w,cy:P},{width:c,height:l}),O=et(g??$,$),A=et(m??0,$);return f.jsx("g",{transform:`translate(${i+_}, ${s+T})`,children:f.jsx(qx,{innerRadius:A,outerRadius:O,cornerRadius:y,paddingAngle:x,id:p,data:S,skipAnimation:u,highlighted:M,faded:b,onItemClick:o,slots:n,slotProps:r})},p)}),h.map(p=>{const{innerRadius:m,outerRadius:g,arcLabelRadius:y,cornerRadius:x,paddingAngle:S,arcLabel:w,arcLabelMinAngle:P,data:M,cx:b,cy:_}=d[p],{cx:T,cy:$,availableRadius:O}=ii({cx:b,cy:_},{width:c,height:l}),A=et(g??O,O),N=et(m??0,O),j=y===void 0?(A+N)/2:et(y,O);return f.jsx("g",{transform:`translate(${i+T}, ${s+$})`,children:f.jsx(ob,{innerRadius:N,outerRadius:A??O,arcLabelRadius:j,cornerRadius:x,paddingAngle:S,id:p,data:M,skipAnimation:u,arcLabel:w,arcLabelMinAngle:P,slots:n,slotProps:r})},p)})]})}const ib=["xAxis","yAxis","series","width","height","margin","colors","sx","tooltip","axisHighlight","skipAnimation","legend","topAxis","leftAxis","rightAxis","bottomAxis","children","slots","slotProps","onItemClick","loading","highlightedItem","onHighlightChange","className"],sb={top:5,bottom:5,left:5,right:100},lb={top:5,bottom:5,left:100,right:5},cb=v.forwardRef(function(t,n){const r=It({props:t,name:"MuiPieChart"}),{xAxis:o,yAxis:a,series:i,width:s,height:c,margin:l,colors:u,sx:d,tooltip:h={trigger:"item"},axisHighlight:p={x:"none",y:"none"},skipAnimation:m,legend:g,topAxis:y=null,leftAxis:x=null,rightAxis:S=null,bottomAxis:w=null,children:P,slots:M,slotProps:b,onItemClick:_,loading:T,highlightedItem:$,onHighlightChange:O,className:A}=r,N=te(r,ib),j=Kr(),I=C({},j?lb:sb,l),D=C({direction:"column",position:{vertical:"middle",horizontal:j?"left":"right"}},g);return f.jsxs(Ox,C({},N,{ref:n,series:i.map(R=>C({type:"pie"},R)),width:s,height:c,margin:I,xAxis:o??[{id:Ms,scaleType:"point",data:[...new Array(Math.max(0,...i.map(R=>R.data.length)))].map((R,U)=>U)}],yAxis:a,colors:u,sx:d,disableAxisListener:(h==null?void 0:h.trigger)!=="axis"&&(p==null?void 0:p.x)==="none"&&(p==null?void 0:p.y)==="none",highlightedItem:$,onHighlightChange:O,className:A,skipAnimation:m,children:[f.jsx(A0,{topAxis:y,leftAxis:x,rightAxis:S,bottomAxis:w,slots:M,slotProps:b}),f.jsx(ab,{slots:M,slotProps:b,onItemClick:_}),f.jsx(zx,{loading:T,slots:M,slotProps:b}),f.jsx(lx,C({},D,{slots:M,slotProps:b})),f.jsx(fx,C({},p)),!T&&f.jsx(H0,C({},h,{slots:M,slotProps:b})),P]}))}),Ml=({courseId:e})=>{const[t,n]=v.useState([]),[r,o]=v.useState(null),[a,i]=v.useState({labels:[],series:[]}),[s,c]=v.useState(!1),[l,u]=v.useState(!1),[d,h]=v.useState([]),[p,m]=v.useState(!1),[g,y]=v.useState(""),[x,S]=v.useState([]),w=()=>{var O;h(x),m(r.startsWith("quiz")),y(((O=t.find(A=>`${A.type}-${A.id}`===r))==null?void 0:O.title)||""),u(!0)},P=()=>u(!1);v.useEffect(()=>{e&&(async()=>{c(!0);const A=[],N=await M(e);for(const j of N){const I=await b(j.id);A.push(...I.map(R=>({...R,type:"assignment"})));const D=await _(j.id);A.push(...D.map(R=>({...R,type:"quiz"})))}n(A),A.length>0&&o(`${A[0].type}-${A[0].id}`),c(!1)})()},[e]);const M=async O=>{try{return await vi.getModulesByCourseId(O)}catch(A){return console.error(A),[]}},b=async O=>{try{return await wt.getAssignmentsByModuleId(O)}catch(A){return console.error(A),[]}},_=async O=>{try{return await wt.getQuizzesByModuleId(O)}catch(A){return console.error(A),[]}},T=async O=>{if(!O)return[];const[A,N]=O.split("-");try{if(A==="assignment")return await wt.getAssignmentSubmissions(Number(N));if(A==="quiz")return await wt.getQuizSubmissions(Number(N))}catch(j){return console.error(j),[]}return[]};v.useEffect(()=>{r&&(async()=>{c(!0);const A=await T(r);console.log("🚀 ~ fetchData ~ submissions:",A);const N=A.filter(R=>r.startsWith("quiz")?R.quizSubmission&&R.quizSubmission.score!==null&&R.quizSubmission.score!==void 0:R.score!==null&&R.score!==void 0);S(N);const j=N.reduce((R,U)=>{let F=r.startsWith("quiz")?U.quizSubmission.score:U.score;const V=r.startsWith("quiz")?Math.round(F/10*10)/10:Math.round(F*10)/10;return R[V]=(R[V]||0)+1,R},{}),I=Object.keys(j).sort((R,U)=>R-U),D=I.map(R=>j[R]);i({labels:I,series:[{data:D}]}),c(!1)})()},[r]);const $=O=>{o(O.target.value)};return f.jsxs("div",{className:"p-4 w-full",children:[f.jsxs(Nl,{fullWidth:!0,size:"small",sx:{mb:3},children:[f.jsx(gi,{id:"assignmentSelect-label",children:"Chọn bài tập/quiz"}),f.jsxs(Pt,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%"},children:[f.jsx($l,{labelId:"assignmentSelect-label",id:"assignmentSelect",value:r||"",label:"Chọn bài tập/quiz",onChange:$,sx:{minWidth:180,maxWidth:320},children:t.map(O=>f.jsxs(ec,{value:`${O.type}-${O.id}`,children:[O.type==="assignment"?"Bài tập: ":"Quiz: ",O.title]},`${O.type}-${O.id}`))}),f.jsx(Ft,{variant:"outlined",color:"primary",onClick:w,sx:{whiteSpace:"nowrap",ml:2},children:"Xem danh sách điểm & Xuất Excel"})]})]}),s?f.jsx(Pt,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:300},children:f.jsx(an,{})}):t.length>0?f.jsx(f.Fragment,{children:a.labels.length>0?f.jsxs("div",{className:"relative flex flex-col items-center",children:[f.jsx("div",{className:"text-lg font-bold text-slate-700 mb-4 mr-20 text-center",children:"Thống kê điểm số"}),f.jsx("div",{className:"flex justify-center",children:f.jsx(cb,{series:[{data:a.labels.map((O,A)=>({id:O,value:a.series[0].data[A],label:`Điểm ${O} (${a.series[0].data[A]})`})),innerRadius:20,outerRadius:150,paddingAngle:1}],width:500,height:300})})]}):f.jsx("p",{className:"text-slate-600 text-center",children:"Chưa có học sinh nào nộp ở mục này"})}):f.jsx("p",{className:"text-slate-500 text-center",children:"Chưa có bài tập hoặc quiz nào trong khóa học này."}),f.jsx(Rl,{open:l,onClose:P,submissions:d,isQuiz:p,title:g})]})};Ml.propTypes={courseId:ee.number.isRequired};function ub(){const[e,t]=v.useState({}),{courseId:n}=Vn(),[r,o]=v.useState([]),[a,i]=v.useState({}),[s,c]=v.useState({});v.useEffect(()=>{(async()=>{const d=await vi.getModulesByCourseId(n);if(d){const h=d;o(h);const p=h.map(async w=>{const P=await wt.getAllAssignmentsByModuleId(w.id);if(P.length>0){const M=P.map(async _=>{const T=await se.get(`/assignment-submissions/${_.id}/logged-in`);if(T.status===200){const $=T.data.data;return{assignment:_,submission:$}}return{assignment:_,submission:null}}),b=await Promise.all(M);return{moduleId:w.id,assignmentsWithSubmissions:b}}return{moduleId:w.id,assignmentsWithSubmissions:[]}}),m=h.map(async w=>{const P=await wt.getQuizzesByModuleId(w.id);if(P.length>0){const M=P.map(async _=>{const T=await se.get(`/quiz-submissions/student/quiz/${_.id}`);if(T.status===200){const $=T.data.data;return{quiz:_,submission:$}}return{quiz:_,submission:null}}),b=await Promise.all(M);return{moduleId:w.id,quizzesWithSubmissions:b}}return{moduleId:w.id,quizzesWithSubmissions:[]}}),g=await Promise.all(p),y={};g.forEach(({moduleId:w,assignmentsWithSubmissions:P})=>{y[w]=P}),i(y);const x=await Promise.all(m),S={};x.forEach(({moduleId:w,quizzesWithSubmissions:P})=>{S[w]=P}),c(S)}})()},[n]);const l=u=>{t(d=>({...d,[u]:!d[u]}))};return f.jsx("div",{className:"max-w-full overflow-x-auto",children:f.jsxs("div",{className:"min-w-[800px]",children:[f.jsxs("div",{className:"flex bg-slate-100  font-semibold text-slate-600 rounded-lg mb-3 px-4 ",children:[f.jsx("div",{className:"flex-1 p-2 text-left",children:"Mục điểm"}),f.jsx("div",{className:"w-40 p-2 text-center",children:"Điểm"})]}),r.map(u=>{var d,h;return f.jsxs("div",{className:"shadow-md mb-4 bg-white rounded-lg",children:[f.jsxs("button",{onClick:()=>l(u.id),className:"flex items-center w-full p-2  text-left border-slate-400 bg-blue-50 rounded-lg",children:[f.jsx(fi,{className:`w-5 h-5 mr-2 transition-transform ${e[u.id]?"transform rotate-0":"transform -rotate-90"}`}),f.jsx("span",{className:"text-base font-semibold text-slate-600",children:u.name})]}),e[u.id]&&((d=a[u.id])==null?void 0:d.map(({assignment:p,submission:m})=>f.jsxs("div",{className:"flex items-start border-t border-slate-400  px-6",children:[f.jsx("div",{className:"flex-1 p-2",children:f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(rc,{className:"text-pink-500",fontSize:"medium"}),f.jsx("a",{className:"text-blue-500 text-sm font-bold cursor-pointer",target:"_blank",rel:"noopener noreferrer",children:p.title})]})}),f.jsx("div",{className:"w-40 p-2 text-center text-sm text-slate-600 font-semibold",children:m?m.textSubmission===""&&m.fileSubmissionUrl===""?"Chưa nộp bài":m.score!==null?m.score:"Chưa chấm điểm":"-"})]},p.id))),e[u.id]&&((h=s[u.id])==null?void 0:h.map(({quiz:p,submission:m})=>f.jsxs("div",{className:"flex items-start border-t border-slate-400  px-6",children:[f.jsx("div",{className:"flex-1 p-2",children:f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(oc,{className:"text-primary",fontSize:"medium"}),f.jsx("a",{className:"text-blue-500 text-sm font-bold cursor-pointer",target:"_blank",rel:"noopener noreferrer",children:p.title})]})}),f.jsx("div",{className:"w-40 p-2 text-sm text-slate-600 font-semibold pl-12",children:m&&Array.isArray(m)&&m.length>0?f.jsx("div",{className:"flex flex-col gap-1",children:m.map((g,y)=>f.jsxs("div",{children:[f.jsxs("span",{className:"font-medium",children:["Lần ",y+1,":"]})," ",typeof g.score=="number"?(g.score/10).toFixed(1):"Chưa có điểm"]},g.id||y))}):m&&typeof m.score=="number"?m.score:m&&m.length===0?"Chưa làm":"-"})]},p.id)))]},u.id)})]})})}function db({open:e,onClose:t,onSubmit:n,inputClassName:r,categories:o,category:a,handleCategoryChange:i,showNewCategory:s,newCategory:c,setNewCategory:l,courseName:u,setCourseName:d,description:h,setDescription:p,startDate:m,handleDateSelect:g,selectedImage:y,handleImageChange:x,course:S,isSubmitting:w}){return f.jsxs(hi,{open:e,onClose:t,maxWidth:"md",fullWidth:!0,children:[f.jsxs(pi,{className:"text-2xl font-bold text-center text-slate-800",children:["Chỉnh sửa thông tin khóa học",f.jsx(ci,{"aria-label":"close",onClick:t,sx:{position:"absolute",right:8,top:8,color:P=>P.palette.grey[500]},size:"large",children:f.jsx(Kl,{})})]}),f.jsxs("form",{onSubmit:n,children:[f.jsx(mi,{dividers:!0,children:f.jsxs("div",{className:"space-y-6",children:[f.jsx(ar,{fullWidth:!0,label:"Tên khóa học",id:"courseName",name:"courseName",required:!0,value:u,onChange:P=>d(P.target.value)}),f.jsx(ar,{fullWidth:!0,label:"Mô tả",id:"description",name:"description",multiline:!0,rows:3,value:h,onChange:P=>p(P.target.value)}),f.jsx(Dl,{dateAdapter:ac,children:f.jsx(ic,{label:"Ngày bắt đầu",value:m,onChange:g,renderInput:P=>f.jsx(ar,{fullWidth:!0,required:!0,...P})})}),f.jsxs("div",{children:[f.jsx(gi,{htmlFor:"thumbnail",children:"Ảnh nền"}),f.jsx("input",{id:"thumbnail",name:"thumbnail",type:"file",accept:"image/*",style:{marginTop:8},onChange:x}),y&&f.jsx("div",{className:"w-max img-wrapper block mx-auto mt-4",children:f.jsx("img",{src:y,alt:"Selected",className:"max-w-xs h-auto rounded-lg"})}),!y&&(S==null?void 0:S.thumbnail)&&f.jsx("div",{className:"w-max img-wrapper block mx-auto mt-4",children:f.jsx("img",{src:S==null?void 0:S.thumbnail,alt:"Selected",className:"max-w-xs h-auto rounded-lg"})})]})]})}),f.jsxs(Ll,{children:[f.jsx(Ft,{onClick:t,color:"inherit",variant:"contained",children:"Hủy"}),f.jsx(Ft,{type:"submit",color:"primary",variant:"contained",disabled:w,startIcon:w?f.jsx(an,{size:20,color:"inherit"}):null,children:w?"Đang lưu...":"Chỉnh sửa"})]})]})]})}const fb=({user:e,content:t,createAt:n,topicId:r})=>{const o=JSON.parse(localStorage.getItem("user")||"{}"),{createTopicComment:a,getTopicComment:i}=sc(),{t:s}=Qr(),[c,l]=v.useState(!1),[u,d]=v.useState(""),[h,p]=v.useState([]),[m,g]=v.useState(!1),y=async()=>{const w=await i(r);console.log("🚀 ~ fetchComment ~ data:",w),p(w.data||[])};v.useEffect(()=>{y()},[]);const x=async()=>{u.trim()&&!c&&(l(!0),await a({content:u,topicId:r}),d(""),await y(),l(!1))},S=w=>{w.key==="Enter"&&!w.shiftKey&&(w.preventDefault(),x())};return f.jsxs("div",{className:"w-full p-4 bg-white rounded-lg shadow-lg border border-slate-200",children:[f.jsxs("div",{className:" flex items-center gap-2",children:[f.jsx("div",{className:"flex-shrink-0 w-[30px] h-[30px] rounded-full overflow-hidden border border-slate-300",children:f.jsx("img",{src:e.avatarUrl||Io,alt:"",className:"w-full h-full object-cover"})}),f.jsx("div",{className:"flex-1",children:f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("h3",{className:"font-semibold text-sm text-slate-700 truncate",children:e.username}),f.jsx("span",{className:"text-sm text-slate-500",children:si(n)})]})})]}),f.jsx("div",{className:"flex my-2 mx-4",children:f.jsx("p",{className:"text-slate-700 text-sm ",children:f.jsx("p",{dangerouslySetInnerHTML:{__html:t}})})}),f.jsxs("div",{className:"px-4 border-t border-slate-300 mx-2",children:[f.jsx("div",{className:"flex items-center gap-2 text-slate-600 cursor-pointer mt-2",onClick:()=>g(!m),children:f.jsx("span",{className:"text-sm text-slate-500 hover:underline hover:text-slate-600 transition",children:s("topic.comments_count",{count:h.length})})}),m&&f.jsx("div",{className:"px-4 my-2 space-y-2",children:h.length===0?f.jsx("p",{className:"text-slate-400 text-sm",children:s("topic.no_comments")}):h.map(w=>f.jsxs("div",{className:"flex items-start gap-2",children:[f.jsx("div",{className:"flex-shrink-0 w-[30px] h-[30px] rounded-full overflow-hidden border border-slate-300",children:f.jsx("img",{src:w.account.avatarUrl||Io,alt:"",className:"w-full h-full object-cover"})}),f.jsxs("div",{className:"flex-1 bg-slate-50 p-2 rounded-md",children:[f.jsxs("div",{className:"flex justify-between",children:[f.jsx("div",{className:"font-semibold text-sm text-slate-700",children:w.account.email}),f.jsx("div",{className:"text-sm text-slate-500",children:si(w.createdAt)})]}),f.jsx("p",{className:"text-slate-700 text-sm",children:w.content})]})]},w.id))})]}),f.jsxs("div",{className:"px-4 flex items-center gap-3 mt-2",children:[f.jsx("div",{className:"flex-shrink-0 w-[30px] h-[30px] rounded-full overflow-hidden border border-slate-300",children:f.jsx("img",{src:o.avatar,alt:"",className:"w-full h-full object-cover"})}),f.jsxs("div",{className:"flex-1 relative",children:[f.jsx("input",{type:"text",value:u,onChange:w=>d(w.target.value),onKeyDown:S,placeholder:s("topic.comment_input_placeholder"),className:"w-full py-2 px-3 border-b border-slate-300 focus:outline-none text-slate-600 "}),f.jsx("button",{className:"absolute right-2 top-1/2 -translate-y-1/2 contrast-50 hover:contrast-200 transition",onClick:x,disabled:c,children:c?f.jsx(zl,{className:"w-5 h-5 animate-spin text-primaryDark"}):f.jsx(lc,{className:"w-5 h-5"})})]})]})]})},si=e=>{const t=new Date(e[0],e[1]-1,e[2],e[3],e[4],e[5],Math.floor(e[6]/1e6)),n=r=>String(r).padStart(2,"0");return`${n(t.getHours())}:${n(t.getMinutes())}
     ${n(t.getDate())}/${n(t.getMonth()+1)}/${t.getFullYear()}`},hb={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"90%",maxWidth:600,bgcolor:"background.paper",borderRadius:2,boxShadow:24,p:4},pb=({forumId:e})=>{const[t,n]=v.useState(!1),[r,o]=v.useState(""),[a,i]=v.useState([]),[s,c]=v.useState(!1),[l,u]=v.useState(!1),{createForum:d,loading:h}=cc(),{t:p}=Qr(),{createTopic:m,getTopics:g}=uc(),y=async()=>{if(e){c(!0);try{const S=await g(e);d(e),i(S.data||[])}catch(S){console.error("Lỗi khi lấy danh sách topics:",S)}finally{c(!1)}}};v.useEffect(()=>{y()},[e]);const x=async()=>{if(!(!r.trim()||!e)){u(!0);try{await m({content:r,forumId:e}),await y(),n(!1),o("")}catch(S){console.error("Lỗi khi tạo topic:",S)}finally{u(!1)}}};return f.jsxs("div",{className:"flex flex-col gap-4 p-4 h-full focus:outline-none",tabIndex:-1,children:[e?f.jsxs("div",{className:"flex justify-between",children:[f.jsx("div",{className:"text-xl font-bold mb-2 text-slate-700",children:p("discussion")}),f.jsx(hc,{className:"w-fit ",onClick:()=>n(!0),children:p("forum.create_topic")})]}):f.jsx("div",{className:"text-lg text-center text-slate-600 font-semibold pt-6 h-full bg-white rounded-lg shadow-md",children:p("forum.please_select_forum")}),s?f.jsx("div",{className:"flex flex-col gap-4 h-full bg-white rounded-lg shadow-md p-6",children:Array.from({length:3}).map((S,w)=>f.jsx(dc,{},w))}):a.length>0&&e?f.jsx("div",{className:"flex flex-col gap-4 h-full overflow-y-auto",children:a.map(S=>f.jsx(fb,{topicId:S.id,user:S.account,content:S.content,createAt:S.createdAt},S.id))}):e&&f.jsx("div",{className:"text-center mt-6 text-slate-600 font-semibold",children:p("forum.no_topics")}),f.jsx(Ul,{open:t,onClose:()=>n(!1),"aria-labelledby":"modal-title","aria-describedby":"modal-description",children:f.jsxs(Pt,{sx:hb,children:[f.jsx(Mn,{id:"modal-title",variant:"h6",component:"h2",sx:{mb:2},children:p("forum.new_topic_title")}),f.jsx(fc,{theme:"snow",value:r,onChange:o,style:{height:200,marginBottom:52},placeholder:p("forum.new_topic_placeholder")}),f.jsxs(Pt,{sx:{display:"flex",justifyContent:"flex-end",gap:2},children:[f.jsx(Ft,{variant:"outlined",color:"secondary",onClick:()=>n(!1),sx:{borderRadius:2},disabled:l,children:p("forum.cancel")}),f.jsx(Ft,{variant:"contained",color:"primary",onClick:x,sx:{borderRadius:2},disabled:l,children:l?f.jsx(an,{size:20,color:"inherit"}):p("forum.submit")})]})]})})]})};function mb(){const[e,t]=v.useState(0),[n,r]=v.useState(null),[o,a]=v.useState(!1),[i,s]=v.useState(null),[c,l]=v.useState(!1),[u,d]=v.useState(!1),[h,p]=v.useState(!1),[m,g]=v.useState([]),y=v.useRef(null),{authUser:x}=Wn(),[S,w]=v.useState(!1),[P,M]=v.useState(new Date),[b,_]=v.useState(""),[T,$]=v.useState(""),[O,A]=v.useState(""),N=di(),{courseId:j}=Vn(),{t:I}=Qr(),D=[I("tabs.courses"),I("tabs.members"),I("tabs.scores"),I("tabs.discussion")],R="mt-1 block w-full px-3 py-2 bg-white border border-slate-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",[U,F]=v.useState(""),V=W=>{A(W.target.value),p(W.target.value==="new")},Y=W=>M(W);v.useEffect(()=>{(async()=>{try{const H=await se.get(`courses/${j}`);H.status===200&&(r(H.data.data),_(H.data.data.name),$(H.data.data.description),A(H.data.data.categoryId),M(new Date(H.data.data.startDate)));const E=await se.get(`courses/${j}/teacher`);E.status===200&&s(E.data.data)}catch(H){console.error(H)}finally{}})()},[j]),v.useEffect(()=>{se.get("/categories").then(W=>{g(W.data.data);const H=m==null?void 0:m.find(E=>E.id===n.categoryId);A(H==null?void 0:H.name)}).catch(W=>console.error("Failed to fetch categories:",W))},[c]);const ae=async()=>{a(!0);try{const W=await se.delete(`courses/${j}`);W.status===200&&(d(!1),N("/my-course"),Me.success(W.data.message))}catch{d(!1),Me.warning("Đã có học sinh làm bài quiz, vì vậy không được xoá môn học")}finally{a(!1)}},[K,pe]=v.useState(null),ce=W=>{const H=W.target.files[0];if(H){const E=new FileReader;E.onloadend=()=>{pe(E.result)},E.readAsDataURL(H)}},Q=()=>{switch(e){case 0:return f.jsxs("div",{className:"p-4",children:[f.jsx("div",{className:"text-xl font-bold mb-2 text-slate-700",children:I("course_content")}),f.jsx(jd,{})]});case 1:return f.jsxs("div",{className:"p-4",children:[f.jsx("div",{className:"text-xl font-bold mb-2 text-slate-700",children:I("student_list")}),f.jsx(Yh,{})]});case 2:return f.jsxs("div",{className:"p-4",children:[f.jsx("div",{className:"text-xl font-bold mb-2 text-slate-700",children:I("grades")}),x.role==="TEACHER"&&f.jsx(Ml,{courseId:j}),x.role==="STUDENT"&&f.jsx(ub,{courseId:j})]});case 3:return f.jsx("div",{className:"",children:f.jsx(pb,{forumId:j})});default:return null}},be=async W=>{W.preventDefault(),w(!0);const H=new FormData,E=W.target.elements,L=new URLSearchParams;L.append("name",b),L.append("description",T),L.append("startDate",P);const z=L.toString(),k=E.thumbnail.files[0];k&&H.append("thumbnail",k);try{const q=await se.patch(`/courses/${j}?${z}`,H,{headers:{"Content-Type":"multipart/form-data"}});q.status===200?(Me.success(q.data.message),N(0)):Me.error(q.data.message,{type:"error"})}catch(q){console.error("Error submitting form:",q),Me(q.response.data.message,{type:"error"})}finally{w(!1),l(!1)}};return f.jsxs("div",{className:"bg-slate-100 min-h-[calc(100vh-170px)] flex flex-col",children:[o&&f.jsx(Fl,{isLoading:o}),f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"relative h-48 bg-slate-200 overflow-hidden",children:[f.jsx("img",{src:n==null?void 0:n.thumbnail,alt:"Online learning illustration",className:"w-full h-full object-cover"}),f.jsxs("div",{className:"absolute top-4 left-4 right-4 flex justify-between items-start",children:[f.jsx("div",{className:"bg-primaryDark text-white px-4 py-2 rounded-lg text-sm font-semibold mb-2 ",children:f.jsx("nav",{"aria-label":"breadcrumb",children:f.jsxs("ol",{className:"flex items-center space-x-2 text-sm",children:[f.jsx("li",{children:f.jsx(kr,{to:"/",className:"text-white hover:underline tru",children:I("home_page")})}),f.jsx("li",{children:f.jsx("span",{className:"mx-2 text-slate-300",children:"/"})}),f.jsx("li",{children:f.jsx(kr,{to:"/my-course",className:"text-white hover:underline",children:I("my_courses")})}),f.jsx("li",{children:f.jsx("span",{className:"mx-2 text-slate-300",children:"/"})}),f.jsx("li",{className:"text-slate-200",children:(n==null?void 0:n.name)||"Đang tải..."})]})})}),f.jsxs("div",{className:"flex items-center space-x-2",children:[(x==null?void 0:x.role)==="TEACHER"&&f.jsx("button",{onClick:()=>l(!0),className:"bg-primaryDark text-white bg-red-500 hover:bg-red-700 p-2 rounded-full",children:f.jsx(pc,{className:"h-4 w-4"})}),(x==null?void 0:x.role)==="TEACHER"&&f.jsx("button",{onClick:()=>d(!0),className:"bg-primaryDark text-white bg-red-500 hover:bg-red-700 p-2 rounded-full",children:f.jsx(mc,{className:"h-4 w-4"})})]})]}),f.jsxs("div",{className:"absolute bottom-4 left-4 text-white bg-primaryDark px-4 py-2 rounded-lg text-sm font-semibold",children:[I("teacher"),": ",i!=null&&i.fullName?i.fullName:"Đang tải..."]})]}),f.jsx("nav",{className:"bg-white border-b px-4",children:f.jsx("ul",{className:"flex",children:D.map((W,H)=>f.jsx("li",{children:f.jsx("button",{onClick:()=>t(H),className:`block px-4 py-2 text-sm font-semibold ${e===H?"text-blue-600 border-b-2 border-blue-600":"text-slate-600"}`,children:W})},H))})}),f.jsx("div",{className:"my-4 px-4 mx-4 bg-white rounded-lg shadow-lg overflow-hidden flex-1",children:Q()}),u&&f.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-30",children:f.jsxs("div",{className:"bg-white p-6 rounded-lg",children:[f.jsxs("p",{className:"mb-4",children:["Xác nhận xóa khóa học? ",f.jsx("br",{}),"(Hành động này không thể quay lại)"]}),f.jsxs("div",{className:"flex justify-end space-x-2",children:[f.jsx("button",{className:"py-2 px-2 w-full bg-primaryDark text-white rounded-lg  hover:bg-secondary transition-colors",onClick:()=>d(!1),children:"Không"}),f.jsx("button",{className:`py-2 px-2 w-full  bg-gradient-to-br from-[#5BCEC9] to-[#14919B]\r
    shadow-md hover:shadow-lg text-white rounded-lg  hover:bg-secondary transition-colors`,onClick:ae,children:"Có"})]})]})}),c&&f.jsx(db,{open:c,onClose:()=>l(!1),onSubmit:be,inputClassName:R,categories:m,category:O,handleCategoryChange:V,showNewCategory:h,newCategory:U,setNewCategory:F,courseName:b,setCourseName:_,description:T,setDescription:$,startDate:P,handleDateSelect:Y,datePickerRef:y,selectedImage:K,handleImageChange:ce,course:n,isSubmitting:S})]})]})}const gb=()=>f.jsx(mb,{}),Ob=Object.freeze(Object.defineProperty({__proto__:null,default:gb},Symbol.toStringTag,{value:"Module"}));export{Ob as D,gu as p,Xn as u};
