import{c as De,Q as Mt,U as Tt,r as M,bc as _t,j as H,bd as $e,aT as St,b as te,be as Le,a1 as It,H as Ot,J as je,Z as kt,bf as bt,z as Dt,W as Me,bg as Te,bh as Ie,bi as ee,a8 as ke,bj as gt,bk as re}from"./index-37xMIgAO.js";/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const po=De("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);var I="top",q="bottom",z="right",k="left",Bt="auto",ut=[I,q,z,k],et="start",pt="end",Be="clippingParents",de="viewport",st="popper",Ne="reference",oe=ut.reduce(function(t,e){return t.concat([e+"-"+et,e+"-"+pt])},[]),ve=[].concat(ut,[Bt]).reduce(function(t,e){return t.concat([e,e+"-"+et,e+"-"+pt])},[]),qe="beforeRead",ze="read",We="afterRead",He="beforeMain",Fe="main",Ue="afterMain",Ve="beforeWrite",Ge="write",Xe="afterWrite",Ye=[qe,ze,We,He,Fe,Ue,Ve,Ge,Xe];function V(t){return t?(t.nodeName||"").toLowerCase():null}function B(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function K(t){var e=B(t).Element;return t instanceof e||t instanceof Element}function N(t){var e=B(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function Nt(t){if(typeof ShadowRoot>"u")return!1;var e=B(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function Je(t){var e=t.state;Object.keys(e.elements).forEach(function(r){var o=e.styles[r]||{},n=e.attributes[r]||{},s=e.elements[r];!N(s)||!V(s)||(Object.assign(s.style,o),Object.keys(n).forEach(function(l){var a=n[l];a===!1?s.removeAttribute(l):s.setAttribute(l,a===!0?"":a)}))})}function Qe(t){var e=t.state,r={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,r.popper),e.styles=r,e.elements.arrow&&Object.assign(e.elements.arrow.style,r.arrow),function(){Object.keys(e.elements).forEach(function(o){var n=e.elements[o],s=e.attributes[o]||{},l=Object.keys(e.styles.hasOwnProperty(o)?e.styles[o]:r[o]),a=l.reduce(function(i,u){return i[u]="",i},{});!N(n)||!V(n)||(Object.assign(n.style,a),Object.keys(s).forEach(function(i){n.removeAttribute(i)}))})}}const Ze={name:"applyStyles",enabled:!0,phase:"write",fn:Je,effect:Qe,requires:["computeStyles"]};function U(t){return t.split("-")[0]}var Z=Math.max,xt=Math.min,rt=Math.round;function $t(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function me(){return!/^((?!chrome|android).)*safari/i.test($t())}function ot(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!1);var o=t.getBoundingClientRect(),n=1,s=1;e&&N(t)&&(n=t.offsetWidth>0&&rt(o.width)/t.offsetWidth||1,s=t.offsetHeight>0&&rt(o.height)/t.offsetHeight||1);var l=K(t)?B(t):window,a=l.visualViewport,i=!me()&&r,u=(o.left+(i&&a?a.offsetLeft:0))/n,c=(o.top+(i&&a?a.offsetTop:0))/s,P=o.width/n,A=o.height/s;return{width:P,height:A,top:c,right:u+P,bottom:c+A,left:u,x:u,y:c}}function qt(t){var e=ot(t),r=t.offsetWidth,o=t.offsetHeight;return Math.abs(e.width-r)<=1&&(r=e.width),Math.abs(e.height-o)<=1&&(o=e.height),{x:t.offsetLeft,y:t.offsetTop,width:r,height:o}}function he(t,e){var r=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(r&&Nt(r)){var o=e;do{if(o&&t.isSameNode(o))return!0;o=o.parentNode||o.host}while(o)}return!1}function G(t){return B(t).getComputedStyle(t)}function Ke(t){return["table","td","th"].indexOf(V(t))>=0}function Y(t){return((K(t)?t.ownerDocument:t.document)||window.document).documentElement}function Pt(t){return V(t)==="html"?t:t.assignedSlot||t.parentNode||(Nt(t)?t.host:null)||Y(t)}function ne(t){return!N(t)||G(t).position==="fixed"?null:t.offsetParent}function _e(t){var e=/firefox/i.test($t()),r=/Trident/i.test($t());if(r&&N(t)){var o=G(t);if(o.position==="fixed")return null}var n=Pt(t);for(Nt(n)&&(n=n.host);N(n)&&["html","body"].indexOf(V(n))<0;){var s=G(n);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||e&&s.willChange==="filter"||e&&s.filter&&s.filter!=="none")return n;n=n.parentNode}return null}function dt(t){for(var e=B(t),r=ne(t);r&&Ke(r)&&G(r).position==="static";)r=ne(r);return r&&(V(r)==="html"||V(r)==="body"&&G(r).position==="static")?e:r||_e(t)||e}function zt(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function ct(t,e,r){return Z(t,xt(e,r))}function tr(t,e,r){var o=ct(t,e,r);return o>r?r:o}function ge(){return{top:0,right:0,bottom:0,left:0}}function ye(t){return Object.assign({},ge(),t)}function be(t,e){return e.reduce(function(r,o){return r[o]=t,r},{})}var er=function(e,r){return e=typeof e=="function"?e(Object.assign({},r.rects,{placement:r.placement})):e,ye(typeof e!="number"?e:be(e,ut))};function rr(t){var e,r=t.state,o=t.name,n=t.options,s=r.elements.arrow,l=r.modifiersData.popperOffsets,a=U(r.placement),i=zt(a),u=[k,z].indexOf(a)>=0,c=u?"height":"width";if(!(!s||!l)){var P=er(n.padding,r),A=qt(s),h=i==="y"?I:k,R=i==="y"?q:z,x=r.rects.reference[c]+r.rects.reference[i]-l[i]-r.rects.popper[c],v=l[i]-r.rects.reference[i],d=dt(s),S=d?i==="y"?d.clientHeight||0:d.clientWidth||0:0,g=x/2-v/2,m=P[h],p=S-A[c]-P[R],f=S/2-A[c]/2+g,E=ct(m,f,p),y=i;r.modifiersData[o]=(e={},e[y]=E,e.centerOffset=E-f,e)}}function or(t){var e=t.state,r=t.options,o=r.element,n=o===void 0?"[data-popper-arrow]":o;n!=null&&(typeof n=="string"&&(n=e.elements.popper.querySelector(n),!n)||he(e.elements.popper,n)&&(e.elements.arrow=n))}const nr={name:"arrow",enabled:!0,phase:"main",fn:rr,effect:or,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function nt(t){return t.split("-")[1]}var ar={top:"auto",right:"auto",bottom:"auto",left:"auto"};function ir(t,e){var r=t.x,o=t.y,n=e.devicePixelRatio||1;return{x:rt(r*n)/n||0,y:rt(o*n)/n||0}}function ae(t){var e,r=t.popper,o=t.popperRect,n=t.placement,s=t.variation,l=t.offsets,a=t.position,i=t.gpuAcceleration,u=t.adaptive,c=t.roundOffsets,P=t.isFixed,A=l.x,h=A===void 0?0:A,R=l.y,x=R===void 0?0:R,v=typeof c=="function"?c({x:h,y:x}):{x:h,y:x};h=v.x,x=v.y;var d=l.hasOwnProperty("x"),S=l.hasOwnProperty("y"),g=k,m=I,p=window;if(u){var f=dt(r),E="clientHeight",y="clientWidth";if(f===B(r)&&(f=Y(r),G(f).position!=="static"&&a==="absolute"&&(E="scrollHeight",y="scrollWidth")),f=f,n===I||(n===k||n===z)&&s===pt){m=q;var w=P&&f===p&&p.visualViewport?p.visualViewport.height:f[E];x-=w-o.height,x*=i?1:-1}if(n===k||(n===I||n===q)&&s===pt){g=z;var O=P&&f===p&&p.visualViewport?p.visualViewport.width:f[y];h-=O-o.width,h*=i?1:-1}}var C=Object.assign({position:a},u&&ar),L=c===!0?ir({x:h,y:x},B(r)):{x:h,y:x};if(h=L.x,x=L.y,i){var $;return Object.assign({},C,($={},$[m]=S?"0":"",$[g]=d?"0":"",$.transform=(p.devicePixelRatio||1)<=1?"translate("+h+"px, "+x+"px)":"translate3d("+h+"px, "+x+"px, 0)",$))}return Object.assign({},C,(e={},e[m]=S?x+"px":"",e[g]=d?h+"px":"",e.transform="",e))}function sr(t){var e=t.state,r=t.options,o=r.gpuAcceleration,n=o===void 0?!0:o,s=r.adaptive,l=s===void 0?!0:s,a=r.roundOffsets,i=a===void 0?!0:a,u={placement:U(e.placement),variation:nt(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:n,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,ae(Object.assign({},u,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:l,roundOffsets:i})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,ae(Object.assign({},u,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:i})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const cr={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:sr,data:{}};var yt={passive:!0};function lr(t){var e=t.state,r=t.instance,o=t.options,n=o.scroll,s=n===void 0?!0:n,l=o.resize,a=l===void 0?!0:l,i=B(e.elements.popper),u=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&u.forEach(function(c){c.addEventListener("scroll",r.update,yt)}),a&&i.addEventListener("resize",r.update,yt),function(){s&&u.forEach(function(c){c.removeEventListener("scroll",r.update,yt)}),a&&i.removeEventListener("resize",r.update,yt)}}const pr={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:lr,data:{}};var fr={left:"right",right:"left",bottom:"top",top:"bottom"};function wt(t){return t.replace(/left|right|bottom|top/g,function(e){return fr[e]})}var ur={start:"end",end:"start"};function ie(t){return t.replace(/start|end/g,function(e){return ur[e]})}function Wt(t){var e=B(t),r=e.pageXOffset,o=e.pageYOffset;return{scrollLeft:r,scrollTop:o}}function Ht(t){return ot(Y(t)).left+Wt(t).scrollLeft}function dr(t,e){var r=B(t),o=Y(t),n=r.visualViewport,s=o.clientWidth,l=o.clientHeight,a=0,i=0;if(n){s=n.width,l=n.height;var u=me();(u||!u&&e==="fixed")&&(a=n.offsetLeft,i=n.offsetTop)}return{width:s,height:l,x:a+Ht(t),y:i}}function vr(t){var e,r=Y(t),o=Wt(t),n=(e=t.ownerDocument)==null?void 0:e.body,s=Z(r.scrollWidth,r.clientWidth,n?n.scrollWidth:0,n?n.clientWidth:0),l=Z(r.scrollHeight,r.clientHeight,n?n.scrollHeight:0,n?n.clientHeight:0),a=-o.scrollLeft+Ht(t),i=-o.scrollTop;return G(n||r).direction==="rtl"&&(a+=Z(r.clientWidth,n?n.clientWidth:0)-s),{width:s,height:l,x:a,y:i}}function Ft(t){var e=G(t),r=e.overflow,o=e.overflowX,n=e.overflowY;return/auto|scroll|overlay|hidden/.test(r+n+o)}function we(t){return["html","body","#document"].indexOf(V(t))>=0?t.ownerDocument.body:N(t)&&Ft(t)?t:we(Pt(t))}function lt(t,e){var r;e===void 0&&(e=[]);var o=we(t),n=o===((r=t.ownerDocument)==null?void 0:r.body),s=B(o),l=n?[s].concat(s.visualViewport||[],Ft(o)?o:[]):o,a=e.concat(l);return n?a:a.concat(lt(Pt(l)))}function Lt(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function mr(t,e){var r=ot(t,!1,e==="fixed");return r.top=r.top+t.clientTop,r.left=r.left+t.clientLeft,r.bottom=r.top+t.clientHeight,r.right=r.left+t.clientWidth,r.width=t.clientWidth,r.height=t.clientHeight,r.x=r.left,r.y=r.top,r}function se(t,e,r){return e===de?Lt(dr(t,r)):K(e)?mr(e,r):Lt(vr(Y(t)))}function hr(t){var e=lt(Pt(t)),r=["absolute","fixed"].indexOf(G(t).position)>=0,o=r&&N(t)?dt(t):t;return K(o)?e.filter(function(n){return K(n)&&he(n,o)&&V(n)!=="body"}):[]}function gr(t,e,r,o){var n=e==="clippingParents"?hr(t):[].concat(e),s=[].concat(n,[r]),l=s[0],a=s.reduce(function(i,u){var c=se(t,u,o);return i.top=Z(c.top,i.top),i.right=xt(c.right,i.right),i.bottom=xt(c.bottom,i.bottom),i.left=Z(c.left,i.left),i},se(t,l,o));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function xe(t){var e=t.reference,r=t.element,o=t.placement,n=o?U(o):null,s=o?nt(o):null,l=e.x+e.width/2-r.width/2,a=e.y+e.height/2-r.height/2,i;switch(n){case I:i={x:l,y:e.y-r.height};break;case q:i={x:l,y:e.y+e.height};break;case z:i={x:e.x+e.width,y:a};break;case k:i={x:e.x-r.width,y:a};break;default:i={x:e.x,y:e.y}}var u=n?zt(n):null;if(u!=null){var c=u==="y"?"height":"width";switch(s){case et:i[u]=i[u]-(e[c]/2-r[c]/2);break;case pt:i[u]=i[u]+(e[c]/2-r[c]/2);break}}return i}function ft(t,e){e===void 0&&(e={});var r=e,o=r.placement,n=o===void 0?t.placement:o,s=r.strategy,l=s===void 0?t.strategy:s,a=r.boundary,i=a===void 0?Be:a,u=r.rootBoundary,c=u===void 0?de:u,P=r.elementContext,A=P===void 0?st:P,h=r.altBoundary,R=h===void 0?!1:h,x=r.padding,v=x===void 0?0:x,d=ye(typeof v!="number"?v:be(v,ut)),S=A===st?Ne:st,g=t.rects.popper,m=t.elements[R?S:A],p=gr(K(m)?m:m.contextElement||Y(t.elements.popper),i,c,l),f=ot(t.elements.reference),E=xe({reference:f,element:g,strategy:"absolute",placement:n}),y=Lt(Object.assign({},g,E)),w=A===st?y:f,O={top:p.top-w.top+d.top,bottom:w.bottom-p.bottom+d.bottom,left:p.left-w.left+d.left,right:w.right-p.right+d.right},C=t.modifiersData.offset;if(A===st&&C){var L=C[n];Object.keys(O).forEach(function($){var j=[z,q].indexOf($)>=0?1:-1,b=[I,q].indexOf($)>=0?"y":"x";O[$]+=L[b]*j})}return O}function yr(t,e){e===void 0&&(e={});var r=e,o=r.placement,n=r.boundary,s=r.rootBoundary,l=r.padding,a=r.flipVariations,i=r.allowedAutoPlacements,u=i===void 0?ve:i,c=nt(o),P=c?a?oe:oe.filter(function(R){return nt(R)===c}):ut,A=P.filter(function(R){return u.indexOf(R)>=0});A.length===0&&(A=P);var h=A.reduce(function(R,x){return R[x]=ft(t,{placement:x,boundary:n,rootBoundary:s,padding:l})[U(x)],R},{});return Object.keys(h).sort(function(R,x){return h[R]-h[x]})}function br(t){if(U(t)===Bt)return[];var e=wt(t);return[ie(t),e,ie(e)]}function wr(t){var e=t.state,r=t.options,o=t.name;if(!e.modifiersData[o]._skip){for(var n=r.mainAxis,s=n===void 0?!0:n,l=r.altAxis,a=l===void 0?!0:l,i=r.fallbackPlacements,u=r.padding,c=r.boundary,P=r.rootBoundary,A=r.altBoundary,h=r.flipVariations,R=h===void 0?!0:h,x=r.allowedAutoPlacements,v=e.options.placement,d=U(v),S=d===v,g=i||(S||!R?[wt(v)]:br(v)),m=[v].concat(g).reduce(function(tt,X){return tt.concat(U(X)===Bt?yr(e,{placement:X,boundary:c,rootBoundary:P,padding:u,flipVariations:R,allowedAutoPlacements:x}):X)},[]),p=e.rects.reference,f=e.rects.popper,E=new Map,y=!0,w=m[0],O=0;O<m.length;O++){var C=m[O],L=U(C),$=nt(C)===et,j=[I,q].indexOf(L)>=0,b=j?"width":"height",D=ft(e,{placement:C,boundary:c,rootBoundary:P,altBoundary:A,padding:u}),T=j?$?z:k:$?q:I;p[b]>f[b]&&(T=wt(T));var W=wt(T),F=[];if(s&&F.push(D[L]<=0),a&&F.push(D[T]<=0,D[W]<=0),F.every(function(tt){return tt})){w=C,y=!1;break}E.set(C,F)}if(y)for(var _=R?3:1,At=function(X){var it=m.find(function(mt){var J=E.get(mt);if(J)return J.slice(0,X).every(function(Rt){return Rt})});if(it)return w=it,"break"},at=_;at>0;at--){var vt=At(at);if(vt==="break")break}e.placement!==w&&(e.modifiersData[o]._skip=!0,e.placement=w,e.reset=!0)}}const xr={name:"flip",enabled:!0,phase:"main",fn:wr,requiresIfExists:["offset"],data:{_skip:!1}};function ce(t,e,r){return r===void 0&&(r={x:0,y:0}),{top:t.top-e.height-r.y,right:t.right-e.width+r.x,bottom:t.bottom-e.height+r.y,left:t.left-e.width-r.x}}function le(t){return[I,z,q,k].some(function(e){return t[e]>=0})}function Or(t){var e=t.state,r=t.name,o=e.rects.reference,n=e.rects.popper,s=e.modifiersData.preventOverflow,l=ft(e,{elementContext:"reference"}),a=ft(e,{altBoundary:!0}),i=ce(l,o),u=ce(a,n,s),c=le(i),P=le(u);e.modifiersData[r]={referenceClippingOffsets:i,popperEscapeOffsets:u,isReferenceHidden:c,hasPopperEscaped:P},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":P})}const Pr={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Or};function Ar(t,e,r){var o=U(t),n=[k,I].indexOf(o)>=0?-1:1,s=typeof r=="function"?r(Object.assign({},e,{placement:t})):r,l=s[0],a=s[1];return l=l||0,a=(a||0)*n,[k,z].indexOf(o)>=0?{x:a,y:l}:{x:l,y:a}}function Rr(t){var e=t.state,r=t.options,o=t.name,n=r.offset,s=n===void 0?[0,0]:n,l=ve.reduce(function(c,P){return c[P]=Ar(P,e.rects,s),c},{}),a=l[e.placement],i=a.x,u=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=i,e.modifiersData.popperOffsets.y+=u),e.modifiersData[o]=l}const Cr={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Rr};function Er(t){var e=t.state,r=t.name;e.modifiersData[r]=xe({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const Sr={name:"popperOffsets",enabled:!0,phase:"read",fn:Er,data:{}};function Dr(t){return t==="x"?"y":"x"}function $r(t){var e=t.state,r=t.options,o=t.name,n=r.mainAxis,s=n===void 0?!0:n,l=r.altAxis,a=l===void 0?!1:l,i=r.boundary,u=r.rootBoundary,c=r.altBoundary,P=r.padding,A=r.tether,h=A===void 0?!0:A,R=r.tetherOffset,x=R===void 0?0:R,v=ft(e,{boundary:i,rootBoundary:u,padding:P,altBoundary:c}),d=U(e.placement),S=nt(e.placement),g=!S,m=zt(d),p=Dr(m),f=e.modifiersData.popperOffsets,E=e.rects.reference,y=e.rects.popper,w=typeof x=="function"?x(Object.assign({},e.rects,{placement:e.placement})):x,O=typeof w=="number"?{mainAxis:w,altAxis:w}:Object.assign({mainAxis:0,altAxis:0},w),C=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,L={x:0,y:0};if(f){if(s){var $,j=m==="y"?I:k,b=m==="y"?q:z,D=m==="y"?"height":"width",T=f[m],W=T+v[j],F=T-v[b],_=h?-y[D]/2:0,At=S===et?E[D]:y[D],at=S===et?-y[D]:-E[D],vt=e.elements.arrow,tt=h&&vt?qt(vt):{width:0,height:0},X=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:ge(),it=X[j],mt=X[b],J=ct(0,E[D],tt[D]),Rt=g?E[D]/2-_-J-it-O.mainAxis:At-J-it-O.mainAxis,Pe=g?-E[D]/2+_+J+mt+O.mainAxis:at+J+mt+O.mainAxis,Ct=e.elements.arrow&&dt(e.elements.arrow),Ae=Ct?m==="y"?Ct.clientTop||0:Ct.clientLeft||0:0,Ut=($=C==null?void 0:C[m])!=null?$:0,Re=T+Rt-Ut-Ae,Ce=T+Pe-Ut,Vt=ct(h?xt(W,Re):W,T,h?Z(F,Ce):F);f[m]=Vt,L[m]=Vt-T}if(a){var Gt,Ee=m==="x"?I:k,Se=m==="x"?q:z,Q=f[p],ht=p==="y"?"height":"width",Xt=Q+v[Ee],Yt=Q-v[Se],Et=[I,k].indexOf(d)!==-1,Jt=(Gt=C==null?void 0:C[p])!=null?Gt:0,Qt=Et?Xt:Q-E[ht]-y[ht]-Jt+O.altAxis,Zt=Et?Q+E[ht]+y[ht]-Jt-O.altAxis:Yt,Kt=h&&Et?tr(Qt,Q,Zt):ct(h?Qt:Xt,Q,h?Zt:Yt);f[p]=Kt,L[p]=Kt-Q}e.modifiersData[o]=L}}const Lr={name:"preventOverflow",enabled:!0,phase:"main",fn:$r,requiresIfExists:["offset"]};function jr(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function Mr(t){return t===B(t)||!N(t)?Wt(t):jr(t)}function Tr(t){var e=t.getBoundingClientRect(),r=rt(e.width)/t.offsetWidth||1,o=rt(e.height)/t.offsetHeight||1;return r!==1||o!==1}function Ir(t,e,r){r===void 0&&(r=!1);var o=N(e),n=N(e)&&Tr(e),s=Y(e),l=ot(t,n,r),a={scrollLeft:0,scrollTop:0},i={x:0,y:0};return(o||!o&&!r)&&((V(e)!=="body"||Ft(s))&&(a=Mr(e)),N(e)?(i=ot(e,!0),i.x+=e.clientLeft,i.y+=e.clientTop):s&&(i.x=Ht(s))),{x:l.left+a.scrollLeft-i.x,y:l.top+a.scrollTop-i.y,width:l.width,height:l.height}}function kr(t){var e=new Map,r=new Set,o=[];t.forEach(function(s){e.set(s.name,s)});function n(s){r.add(s.name);var l=[].concat(s.requires||[],s.requiresIfExists||[]);l.forEach(function(a){if(!r.has(a)){var i=e.get(a);i&&n(i)}}),o.push(s)}return t.forEach(function(s){r.has(s.name)||n(s)}),o}function Br(t){var e=kr(t);return Ye.reduce(function(r,o){return r.concat(e.filter(function(n){return n.phase===o}))},[])}function Nr(t){var e;return function(){return e||(e=new Promise(function(r){Promise.resolve().then(function(){e=void 0,r(t())})})),e}}function qr(t){var e=t.reduce(function(r,o){var n=r[o.name];return r[o.name]=n?Object.assign({},n,o,{options:Object.assign({},n.options,o.options),data:Object.assign({},n.data,o.data)}):o,r},{});return Object.keys(e).map(function(r){return e[r]})}var pe={placement:"bottom",modifiers:[],strategy:"absolute"};function fe(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return!e.some(function(o){return!(o&&typeof o.getBoundingClientRect=="function")})}function zr(t){t===void 0&&(t={});var e=t,r=e.defaultModifiers,o=r===void 0?[]:r,n=e.defaultOptions,s=n===void 0?pe:n;return function(a,i,u){u===void 0&&(u=s);var c={placement:"bottom",orderedModifiers:[],options:Object.assign({},pe,s),modifiersData:{},elements:{reference:a,popper:i},attributes:{},styles:{}},P=[],A=!1,h={state:c,setOptions:function(d){var S=typeof d=="function"?d(c.options):d;x(),c.options=Object.assign({},s,c.options,S),c.scrollParents={reference:K(a)?lt(a):a.contextElement?lt(a.contextElement):[],popper:lt(i)};var g=Br(qr([].concat(o,c.options.modifiers)));return c.orderedModifiers=g.filter(function(m){return m.enabled}),R(),h.update()},forceUpdate:function(){if(!A){var d=c.elements,S=d.reference,g=d.popper;if(fe(S,g)){c.rects={reference:Ir(S,dt(g),c.options.strategy==="fixed"),popper:qt(g)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach(function(O){return c.modifiersData[O.name]=Object.assign({},O.data)});for(var m=0;m<c.orderedModifiers.length;m++){if(c.reset===!0){c.reset=!1,m=-1;continue}var p=c.orderedModifiers[m],f=p.fn,E=p.options,y=E===void 0?{}:E,w=p.name;typeof f=="function"&&(c=f({state:c,options:y,name:w,instance:h})||c)}}}},update:Nr(function(){return new Promise(function(v){h.forceUpdate(),v(c)})}),destroy:function(){x(),A=!0}};if(!fe(a,i))return h;h.setOptions(u).then(function(v){!A&&u.onFirstUpdate&&u.onFirstUpdate(v)});function R(){c.orderedModifiers.forEach(function(v){var d=v.name,S=v.options,g=S===void 0?{}:S,m=v.effect;if(typeof m=="function"){var p=m({state:c,name:d,instance:h,options:g}),f=function(){};P.push(p||f)}})}function x(){P.forEach(function(v){return v()}),P=[]}return h}}var Wr=[pr,Sr,cr,Ze,Cr,xr,Lr,nr,Pr],Hr=zr({defaultModifiers:Wr});function Fr(t){return Mt("MuiPopper",t)}Tt("MuiPopper",["root"]);function Ur(t,e){if(e==="ltr")return t;switch(t){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return t}}function jt(t){return typeof t=="function"?t():t}function Vr(t){return t.nodeType!==void 0}const Gr=t=>{const{classes:e}=t;return It({root:["root"]},Fr,e)},Xr={},Yr=M.forwardRef(function(e,r){const{anchorEl:o,children:n,direction:s,disablePortal:l,modifiers:a,open:i,placement:u,popperOptions:c,popperRef:P,slotProps:A={},slots:h={},TransitionProps:R,ownerState:x,...v}=e,d=M.useRef(null),S=St(d,r),g=M.useRef(null),m=St(g,P),p=M.useRef(m);te(()=>{p.current=m},[m]),M.useImperativeHandle(P,()=>g.current,[]);const f=Ur(u,s),[E,y]=M.useState(f),[w,O]=M.useState(jt(o));M.useEffect(()=>{g.current&&g.current.forceUpdate()}),M.useEffect(()=>{o&&O(jt(o))},[o]),te(()=>{if(!w||!i)return;const b=W=>{y(W.placement)};let D=[{name:"preventOverflow",options:{altBoundary:l}},{name:"flip",options:{altBoundary:l}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:W})=>{b(W)}}];a!=null&&(D=D.concat(a)),c&&c.modifiers!=null&&(D=D.concat(c.modifiers));const T=Hr(w,d.current,{placement:f,...c,modifiers:D});return p.current(T),()=>{T.destroy(),p.current(null)}},[w,l,a,i,c,f]);const C={placement:E};R!==null&&(C.TransitionProps=R);const L=Gr(e),$=h.root??"div",j=Le({elementType:$,externalSlotProps:A.root,externalForwardedProps:v,additionalProps:{role:"tooltip",ref:S},ownerState:e,className:L.root});return H.jsx($,{...j,children:typeof n=="function"?n(C):n})}),Jr=M.forwardRef(function(e,r){const{anchorEl:o,children:n,container:s,direction:l="ltr",disablePortal:a=!1,keepMounted:i=!1,modifiers:u,open:c,placement:P="bottom",popperOptions:A=Xr,popperRef:h,style:R,transition:x=!1,slotProps:v={},slots:d={},...S}=e,[g,m]=M.useState(!0),p=()=>{m(!1)},f=()=>{m(!0)};if(!i&&!c&&(!x||g))return null;let E;if(s)E=s;else if(o){const O=jt(o);E=O&&Vr(O)?_t(O).body:_t(null).body}const y=!c&&i&&(!x||g)?"none":void 0,w=x?{in:c,onEnter:p,onExited:f}:void 0;return H.jsx($e,{disablePortal:a,container:E,children:H.jsx(Yr,{anchorEl:o,direction:l,disablePortal:a,modifiers:u,ref:r,open:x?!g:c,placement:P,popperOptions:A,popperRef:h,slotProps:v,slots:d,...S,style:{position:"fixed",top:0,left:0,display:y,...R},TransitionProps:w,children:n})})}),Qr=Ot(Jr,{name:"MuiPopper",slot:"Root",overridesResolver:(t,e)=>e.root})({}),fo=M.forwardRef(function(e,r){const o=je(),n=kt({props:e,name:"MuiPopper"}),{anchorEl:s,component:l,components:a,componentsProps:i,container:u,disablePortal:c,keepMounted:P,modifiers:A,open:h,placement:R,popperOptions:x,popperRef:v,transition:d,slots:S,slotProps:g,...m}=n,p=(S==null?void 0:S.root)??(a==null?void 0:a.Root),f={anchorEl:s,container:u,disablePortal:c,keepMounted:P,modifiers:A,open:h,placement:R,popperOptions:x,popperRef:v,transition:d,...m};return H.jsx(Qr,{as:l,direction:o?"rtl":"ltr",slots:{root:p},slotProps:g??i,...f,ref:r})});function Zr(t){return Mt("MuiListItem",t)}Tt("MuiListItem",["root","container","dense","alignItemsFlexStart","divider","gutters","padding","secondaryAction"]);function Kr(t){return Mt("MuiListItemSecondaryAction",t)}Tt("MuiListItemSecondaryAction",["root","disableGutters"]);const _r=t=>{const{disableGutters:e,classes:r}=t;return It({root:["root",e&&"disableGutters"]},Kr,r)},to=Ot("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.disableGutters&&e.disableGutters]}})({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)",variants:[{props:({ownerState:t})=>t.disableGutters,style:{right:0}}]}),Oe=M.forwardRef(function(e,r){const o=kt({props:e,name:"MuiListItemSecondaryAction"}),{className:n,...s}=o,l=M.useContext(bt),a={...o,disableGutters:l.disableGutters},i=_r(a);return H.jsx(to,{className:Dt(i.root,n),ownerState:a,ref:r,...s})});Oe.muiName="ListItemSecondaryAction";const eo=(t,e)=>{const{ownerState:r}=t;return[e.root,r.dense&&e.dense,r.alignItems==="flex-start"&&e.alignItemsFlexStart,r.divider&&e.divider,!r.disableGutters&&e.gutters,!r.disablePadding&&e.padding,r.hasSecondaryAction&&e.secondaryAction]},ro=t=>{const{alignItems:e,classes:r,dense:o,disableGutters:n,disablePadding:s,divider:l,hasSecondaryAction:a}=t;return It({root:["root",o&&"dense",!n&&"gutters",!s&&"padding",l&&"divider",e==="flex-start"&&"alignItemsFlexStart",a&&"secondaryAction"],container:["container"]},Zr,r)},oo=Ot("div",{name:"MuiListItem",slot:"Root",overridesResolver:eo})(Me(({theme:t})=>({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left",variants:[{props:({ownerState:e})=>!e.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:e})=>!e.disablePadding&&e.dense,style:{paddingTop:4,paddingBottom:4}},{props:({ownerState:e})=>!e.disablePadding&&!e.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:e})=>!e.disablePadding&&!!e.secondaryAction,style:{paddingRight:48}},{props:({ownerState:e})=>!!e.secondaryAction,style:{[`& > .${Te.root}`]:{paddingRight:48}}},{props:{alignItems:"flex-start"},style:{alignItems:"flex-start"}},{props:({ownerState:e})=>e.divider,style:{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:e})=>e.button,style:{transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}}},{props:({ownerState:e})=>e.hasSecondaryAction,style:{paddingRight:48}}]}))),no=Ot("li",{name:"MuiListItem",slot:"Container",overridesResolver:(t,e)=>e.container})({position:"relative"}),uo=M.forwardRef(function(e,r){const o=kt({props:e,name:"MuiListItem"}),{alignItems:n="center",children:s,className:l,component:a,components:i={},componentsProps:u={},ContainerComponent:c="li",ContainerProps:{className:P,...A}={},dense:h=!1,disableGutters:R=!1,disablePadding:x=!1,divider:v=!1,secondaryAction:d,slotProps:S={},slots:g={},...m}=o,p=M.useContext(bt),f=M.useMemo(()=>({dense:h||p.dense||!1,alignItems:n,disableGutters:R}),[n,p.dense,h,R]),E=M.useRef(null),y=M.Children.toArray(s),w=y.length&&Ie(y[y.length-1],["ListItemSecondaryAction"]),O={...o,alignItems:n,dense:f.dense,disableGutters:R,disablePadding:x,divider:v,hasSecondaryAction:w},C=ro(O),L=St(E,r),$=g.root||i.Root||oo,j=S.root||u.root||{},b={className:Dt(C.root,j.className,l),...m};let D=a||"li";return w?(D=!b.component&&!a?"div":D,c==="li"&&(D==="li"?D="div":b.component==="li"&&(b.component="div")),H.jsx(bt.Provider,{value:f,children:H.jsxs(no,{as:c,className:Dt(C.container,P),ref:L,ownerState:O,...A,children:[H.jsx($,{...j,...!ee($)&&{as:D,ownerState:{...O,...j.ownerState}},...b,children:y}),y.pop()]})})):H.jsx(bt.Provider,{value:f,children:H.jsxs($,{...j,as:D,ref:L,...!ee($)&&{ownerState:{...O,...j.ownerState}},...b,children:[y,d&&H.jsx(Oe,{children:d})]})})}),ao={lecture:"lectures",quiz:"quizzes",assignment:"assignments",resource:"resources"},vo=()=>{const t=ke(),e=async(o,n)=>{var s,l,a,i,u,c,P;try{const A=await r(n);if(!A.success)return{success:!1};const h=A.modules||[],R=new Map;h.forEach(v=>R.set(v.id,v));const x=[];for(const v of o){let d=v.id;if(!d||String(d).startsWith("temp-"))d=(await t.post("/modules",{name:v.title,courseId:n})).data.data.id;else{const p=R.get(d);p&&p.title!==v.title&&await t.patch(`/modules/${d}`,{name:v.title})}x.push(d);const g=R.get(d),m=[];if(Array.isArray(v.contents)&&v.contents.length>0)for(const p of v.contents){let f=p.id;const E=!f||String(f).startsWith("temp-");if(p.type==="lecture"){const y={title:p.title,content:p.content||"",moduleId:d};if(E)f=(await t.post("/lectures",y)).data.data.id;else{const w=(s=g==null?void 0:g.contents)==null?void 0:s.find(O=>O.id===f&&O.type==="lecture");(!w||w.title!==p.title||w.content!==p.content)&&await t.patch(`/lectures/${f}`,y)}m.push(f)}else if(p.type==="quiz"){let y=p.id;const w=!y||String(y).startsWith("temp-"),O={title:p.title,description:p.description||"",startDate:gt(p.startDate),endDate:gt(p.endDate),timeLimit:Number(p.timeLimit||0),shuffled:p.shuffled||!1},C={...O,attemptAllowed:p.attemptAllowed||0};if(w)y=(await t.post("/quizzes",{...O,attemptAllowed:p.attemptAllowed||0,moduleId:d})).data.data.id,p.id=y;else{const b=(l=g==null?void 0:g.contents)==null?void 0:l.find(T=>T.id===y&&T.type==="quiz");(!b||b.title!==p.title||b.description!==p.description||b.startDate!==p.startDate||b.endDate!==p.endDate||b.attemptAllowed!==C.attemptAllowed||b.timeLimit!==C.timeLimit||b.shuffled!==C.shuffled)&&await t.patch(`/quizzes/${y}`,C)}const $=(((i=(a=g==null?void 0:g.contents)==null?void 0:a.find(b=>b.id===y&&b.type==="quiz"))==null?void 0:i.questions)||[]).map(b=>b.id),j=[];for(const b of p.questions){const D=!b.id||String(b.id).startsWith("temp-"),W=`/question-quizzes/${b.type==="single"?"scq":b.type==="multiple"?"mcq":b.type==="truefalse"?"tfq":"fitb"}`,F={content:b.content||"",quizId:y,...b.type!=="fitb"?{options:b.options}:{},...b.type==="fitb"?{answerContent:b.answerContent}:{},...b.type==="multiple"?{answers:b.answer}:b.type!=="fitb"?{answer:b.answer}:{}};if(D){const _=await t.post(W,F);j.push(_.data.data.id)}else j.push(b.id),await t.patch(`${W}/${b.id}`,F)}for(const b of $)j.includes(b)||await t.delete(`/question-quizzes/${b}`);m.push(f)}else if(p.type==="assignment"){const y={title:p.title,content:p.content||"",state:p.state||"OPEN",startDate:gt(p.startDate),endDate:gt(p.endDate),moduleId:d};if(E)f=(await t.post("/assignments",y)).data.data.id;else{const w=(u=g==null?void 0:g.contents)==null?void 0:u.find(O=>O.id===f&&O.type==="assignment");(!w||w.title!==p.title||w.content!==p.content)&&await t.patch(`/assignments/${f}`,y)}m.push(f)}else if(p.type==="resource"){const y=p.resourceData;if(y instanceof FormData){for(const[C,L]of y.entries())console.log(`${C}:`,L);const w=y.get("resources");let O;try{if(w instanceof Blob){const C=await w.text();O=JSON.parse(C)}else O=JSON.parse(w)}catch(C){console.error("❌ Lỗi khi parse JSON từ 'resources':",C);return}O.moduleId=d,y.set("resources",new Blob([JSON.stringify(O)],{type:"application/json"}));try{let C;E?(C=await t.post("/resources",y,{headers:{"Content-Type":"multipart/form-data"}}),f=(P=(c=C.data)==null?void 0:c.data)==null?void 0:P.id):C=await t.patch(`/resources/${f}`,y,{headers:{"Content-Type":"multipart/form-data"}}),f&&!String(f).startsWith("temp-")&&m.push(f)}catch(C){console.error("❌ Lỗi khi gửi FormData:",C)}}else if(!E)try{const w={file:p.urlDocument};await t.patch(`/resources/${f}`,w),f&&!String(f).startsWith("temp-")&&m.push(f)}catch(w){console.error("❌ Lỗi khi PATCH resource không có FormData:",w)}}}if(g){const p=(g.contents||[]).map(f=>({id:f.id,type:f.type}));for(const f of p)if(!m.includes(f.id)){const E=ao[f.type];E&&await t.delete(`/${E}/${f.id}`)}}}for(const v of h)x.includes(v.id)||await t.delete(`/modules/${v.id}`);return{success:!0}}catch(A){return console.error("❌ submitModules error:",A),{success:!1}}},r=async o=>{try{const s=(await t.get(`/courses/${o}/modules`)).data.data;return{success:!0,modules:await Promise.all(s.map(async a=>{const[i,u,c,P]=await Promise.all([t.get(`/modules/${a.id}/lectures`),t.get(`/modules/${a.id}/resources`),t.get(`/modules/${a.id}/assignments`),t.get(`/modules/${a.id}/quizzes`)]),A=i.data.data.map(d=>({...d,type:"lecture"})),h=u.data.data.map(d=>({...d,type:"resource"})),R=c.data.data.map(d=>({...d,type:"assignment"})),x=await Promise.all(P.data.data.map(async d=>{const S=await t.get(`/quizzes/${d.id}/questions`);return{...d,type:"quiz",questions:S.data.data}})),v=[...A,...h,...R,...x];return v.sort((d,S)=>{const g=re(d.createdAt),m=re(S.createdAt);return g-m}),{id:a.id,title:a.name,contents:v}}))}}catch(n){return console.error(n),{success:!1,modules:[]}}};return{submitModules:e,getModules:r}};var ue=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function io(t,e){return!!(t===e||ue(t)&&ue(e))}function so(t,e){if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(!io(t[r],e[r]))return!1;return!0}function co(t,e){e===void 0&&(e=so);var r,o=[],n,s=!1;function l(){for(var a=[],i=0;i<arguments.length;i++)a[i]=arguments[i];return s&&r===this&&e(a,o)||(n=t.apply(this,a),s=!0,r=this,o=a),n}return l}const mo=Object.freeze(Object.defineProperty({__proto__:null,default:co},Symbol.toStringTag,{value:"Module"}));export{uo as L,fo as P,po as X,co as a,mo as m,vo as u};
