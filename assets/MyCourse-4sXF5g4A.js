import{P as n,j as e,L as x,u as g,r as i,a as v,D as b}from"./index-QTjKD8RV.js";import{d as N}from"./Add-p17NmaF-.js";import{P as w,C}from"./course.service-Yx7cf7nv.js";function f({id:s,name:t,description:l,thumbnail:c}){return e.jsx("div",{className:"w-full rounded-lg overflow-hidden shadow-md bg-white hover:shadow-xl ",children:e.jsxs(x,{to:`/course-detail/${s}`,children:[e.jsx("div",{className:"relative h-36 bg-green-100",children:e.jsx("img",{src:c,alt:"Online learning illustration",className:"w-full h-full object-cover"})}),e.jsx("div",{className:"px-6 py-4",children:e.jsx("div",{className:"flex justify-between items-start",children:e.jsxs("div",{children:[e.jsx("h2",{className:"font-bold text-xl mb-2 text-gray-800",children:t}),e.jsx("p",{className:"text-sm",children:l})]})})})]})},s)}f.propTypes={id:n.oneOfType([n.string,n.number]).isRequired,name:n.string.isRequired,description:n.string.isRequired,thumbnail:n.string.isRequired};function P(){const{authUser:s}=g(),t=()=>{};return e.jsx(e.Fragment,{children:(s==null?void 0:s.role)==="TEACHER"&&e.jsx(x,{to:"/add-course",children:e.jsxs("button",{onClick:()=>t(),className:" text-xs sm:text-sm md:text-base  py-2 px-3 bg-primaryDark text-white rounded-lg  hover:bg-secondary transition-colors flex items-center",children:[e.jsx(N,{className:"w-3 h-3 sm:w-5 sm:h-5"}),"Thêm khóa học"]})})})}const S=()=>{const{authUser:s}=g(),[t,l]=i.useState([]),[c,d]=i.useState(!1);v();const h=12,[o,m]=i.useState(0),[p,j]=i.useState(0);i.useEffect(()=>{d(!0);const a={page:o,size:h};(async()=>{try{const r=await C.getMyCourses(s.role,a);l(r.content),m(r.number),j(r.totalPages)}catch(r){console.log(r)}finally{d(!1)}})()},[s.role,o,h]);const y=(a,u)=>{m(u-1)};return e.jsxs("div",{className:"flex flex-col min-h-[calc(100vh-217px)] m-4",children:[e.jsx(b,{title:"Khóa học của tôi"}),e.jsxs("div",{className:"flex-grow p-3 rounded-lg bg-white shadow-sm",children:[e.jsx("div",{className:"flex justify-end",children:e.jsx(P,{})}),!(t.length>0)&&e.jsx("div",{className:"text-center justify-center",children:"Bạn chưa đăng ký khóa học nào!"}),e.jsx("div",{className:"grid grid-cols-4 gap-4 mt-4",children:Array.isArray(t)&&t.length>0&&t.map(a=>e.jsx(f,{id:a.id,name:a.name,description:a.description,thumbnail:a.thumbnail},a.id))})]}),e.jsx(w,{count:p,page:o+1,color:"primaryDark",className:"flex justify-center mt-2",onChange:y})]})};export{S as default};
